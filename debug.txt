2025-04-15 18:52:06.178856: current_user: id=1, is_admin=True
2025-04-15 18:52:06.179008: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:52:06.179151: Trước khi kiểm tra request.method
2025-04-15 18:52:06.179239: Phương thức: GET
2025-04-15 18:52:06.179305: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:52:06.179720: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:52:06.179797: Hiển thị template mặc định cho GET
2025-04-15 18:52:09.789420: current_user: id=1, is_admin=True
2025-04-15 18:52:09.789572: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:52:09.789712: Trước khi kiểm tra request.method
2025-04-15 18:52:09.789800: Phương thức: POST
2025-04-15 18:52:09.789985: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:52:09.790226: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:52:09.790298: Trước khi lấy date_str
2025-04-15 18:52:09.790989: Nhận được date_str: 2025-04-15
2025-04-15 18:52:09.791066: Trước khi chuyển đổi ngày
2025-04-15 18:52:09.792545: Đã chuyển đổi date: 2025-04-15
2025-04-15 18:52:09.792647: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-15 18:52:09.794808: Tìm thấy 19 đơn hàng
2025-04-15 18:52:09.794911: Xử lý đơn hàng: 6
2025-04-15 18:52:09.795012: Trước khi lấy bàn cho đơn hàng 6
2025-04-15 18:52:09.795666: Table cho đơn hàng 6: <Table 1>
2025-04-15 18:52:09.797270: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.797402: Xử lý mục: order_id=6, item_id=6
2025-04-15 18:52:09.797492: Trước khi lấy món với ID 6
2025-04-15 18:52:09.798265: menu_item: <Item 6>
2025-04-15 18:52:09.798343: Trước khi lấy giá cho món 6
2025-04-15 18:52:09.799280: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:52:09.799365: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.799462: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.799577: Xử lý mục: order_id=6, item_id=7
2025-04-15 18:52:09.799646: Trước khi lấy món với ID 7
2025-04-15 18:52:09.800102: menu_item: <Item 7>
2025-04-15 18:52:09.800178: Trước khi lấy giá cho món 7
2025-04-15 18:52:09.800615: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:52:09.800691: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.800789: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.800860: Xử lý mục: order_id=6, item_id=8
2025-04-15 18:52:09.800920: Trước khi lấy món với ID 8
2025-04-15 18:52:09.801318: menu_item: <Item 8>
2025-04-15 18:52:09.801394: Trước khi lấy giá cho món 8
2025-04-15 18:52:09.801833: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:52:09.801908: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.801974: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.802059: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:52:09.802129: Định dạng tiền tệ: 52000.0
2025-04-15 18:52:09.802213: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 18:52:09.802285: Thêm hóa đơn: order_id=6
2025-04-15 18:52:09.802350: Xử lý đơn hàng: 7
2025-04-15 18:52:09.802500: Trước khi lấy bàn cho đơn hàng 7
2025-04-15 18:52:09.803132: Table cho đơn hàng 7: <Table 2>
2025-04-15 18:52:09.803724: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.803848: Xử lý mục: order_id=7, item_id=6
2025-04-15 18:52:09.803928: Trước khi lấy món với ID 6
2025-04-15 18:52:09.804470: menu_item: <Item 6>
2025-04-15 18:52:09.804550: Trước khi lấy giá cho món 6
2025-04-15 18:52:09.805065: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:52:09.805148: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.805217: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.805284: Xử lý mục: order_id=7, item_id=7
2025-04-15 18:52:09.805347: Trước khi lấy món với ID 7
2025-04-15 18:52:09.805846: menu_item: <Item 7>
2025-04-15 18:52:09.805929: Trước khi lấy giá cho món 7
2025-04-15 18:52:09.806372: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:52:09.806450: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.806531: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.806596: Xử lý mục: order_id=7, item_id=14
2025-04-15 18:52:09.806660: Trước khi lấy món với ID 14
2025-04-15 18:52:09.807040: menu_item: <Item 14>
2025-04-15 18:52:09.807113: Trước khi lấy giá cho món 14
2025-04-15 18:52:09.807483: price_at_order: None
2025-04-15 18:52:09.807558: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-15 18:52:09.807633: Định dạng tiền tệ: 0
2025-04-15 18:52:09.807697: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.807769: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.807834: Định dạng tiền tệ: 122000.0
2025-04-15 18:52:09.807905: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 18:52:09.807967: Thêm hóa đơn: order_id=7
2025-04-15 18:52:09.808057: Xử lý đơn hàng: 8
2025-04-15 18:52:09.808131: Trước khi lấy bàn cho đơn hàng 8
2025-04-15 18:52:09.808512: Table cho đơn hàng 8: <Table 1>
2025-04-15 18:52:09.808877: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.808957: Xử lý mục: order_id=8, item_id=5
2025-04-15 18:52:09.809024: Trước khi lấy món với ID 5
2025-04-15 18:52:09.809411: menu_item: <Item 5>
2025-04-15 18:52:09.809502: Trước khi lấy giá cho món 5
2025-04-15 18:52:09.810003: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:52:09.810092: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.810164: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.810232: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:52:09.810298: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.810411: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:52:09.810478: Thêm hóa đơn: order_id=8
2025-04-15 18:52:09.810539: Xử lý đơn hàng: 9
2025-04-15 18:52:09.810600: Trước khi lấy bàn cho đơn hàng 9
2025-04-15 18:52:09.811067: Table cho đơn hàng 9: <Table 2>
2025-04-15 18:52:09.811461: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.811535: Xử lý mục: order_id=9, item_id=5
2025-04-15 18:52:09.811611: Trước khi lấy món với ID 5
2025-04-15 18:52:09.811782: menu_item: <Item 5>
2025-04-15 18:52:09.811850: Trước khi lấy giá cho món 5
2025-04-15 18:52:09.812279: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:52:09.812352: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.812416: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.812499: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:52:09.812590: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.812673: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:52:09.812736: Thêm hóa đơn: order_id=9
2025-04-15 18:52:09.812805: Xử lý đơn hàng: 10
2025-04-15 18:52:09.812864: Trước khi lấy bàn cho đơn hàng 10
2025-04-15 18:52:09.813274: Table cho đơn hàng 10: <Table 3>
2025-04-15 18:52:09.813627: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.813706: Xử lý mục: order_id=10, item_id=9
2025-04-15 18:52:09.813782: Trước khi lấy món với ID 9
2025-04-15 18:52:09.814153: menu_item: <Item 9>
2025-04-15 18:52:09.814226: Trước khi lấy giá cho món 9
2025-04-15 18:52:09.814621: price_at_order: None
2025-04-15 18:52:09.814699: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-15 18:52:09.814778: Định dạng tiền tệ: 0
2025-04-15 18:52:09.814844: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.814919: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.814986: Định dạng tiền tệ: 15000.0
2025-04-15 18:52:09.815091: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}
2025-04-15 18:52:09.815154: Thêm hóa đơn: order_id=10
2025-04-15 18:52:09.815223: Xử lý đơn hàng: 11
2025-04-15 18:52:09.815337: Trước khi lấy bàn cho đơn hàng 11
2025-04-15 18:52:09.815728: Table cho đơn hàng 11: <Table 4>
2025-04-15 18:52:09.816078: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.816166: Xử lý mục: order_id=11, item_id=7
2025-04-15 18:52:09.816275: Trước khi lấy món với ID 7
2025-04-15 18:52:09.816740: menu_item: <Item 7>
2025-04-15 18:52:09.816821: Trước khi lấy giá cho món 7
2025-04-15 18:52:09.817345: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:52:09.817436: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.817507: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.817571: Xử lý mục: order_id=11, item_id=8
2025-04-15 18:52:09.817646: Trước khi lấy món với ID 8
2025-04-15 18:52:09.818097: menu_item: <Item 8>
2025-04-15 18:52:09.818172: Trước khi lấy giá cho món 8
2025-04-15 18:52:09.818601: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:52:09.818676: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.818741: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.818861: Xử lý mục: order_id=11, item_id=9
2025-04-15 18:52:09.818944: Trước khi lấy món với ID 9
2025-04-15 18:52:09.819390: menu_item: <Item 9>
2025-04-15 18:52:09.819467: Trước khi lấy giá cho món 9
2025-04-15 18:52:09.819871: price_at_order: None
2025-04-15 18:52:09.819952: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-15 18:52:09.820065: Định dạng tiền tệ: 0
2025-04-15 18:52:09.820138: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.820200: Xử lý mục: order_id=11, item_id=11
2025-04-15 18:52:09.820264: Trước khi lấy món với ID 11
2025-04-15 18:52:09.820667: menu_item: <Item 11>
2025-04-15 18:52:09.820746: Trước khi lấy giá cho món 11
2025-04-15 18:52:09.821125: price_at_order: None
2025-04-15 18:52:09.821202: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-15 18:52:09.821267: Định dạng tiền tệ: 0
2025-04-15 18:52:09.821332: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.821407: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.821499: Định dạng tiền tệ: 97000.0
2025-04-15 18:52:09.821601: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}
2025-04-15 18:52:09.821669: Thêm hóa đơn: order_id=11
2025-04-15 18:52:09.821728: Xử lý đơn hàng: 12
2025-04-15 18:52:09.821789: Trước khi lấy bàn cho đơn hàng 12
2025-04-15 18:52:09.822170: Table cho đơn hàng 12: <Table 10>
2025-04-15 18:52:09.822550: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.822664: Xử lý mục: order_id=12, item_id=8
2025-04-15 18:52:09.822748: Trước khi lấy món với ID 8
2025-04-15 18:52:09.823192: menu_item: <Item 8>
2025-04-15 18:52:09.823284: Trước khi lấy giá cho món 8
2025-04-15 18:52:09.823888: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:52:09.824021: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.824104: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.824188: Xử lý mục: order_id=12, item_id=9
2025-04-15 18:52:09.824250: Trước khi lấy món với ID 9
2025-04-15 18:52:09.824748: menu_item: <Item 9>
2025-04-15 18:52:09.824825: Trước khi lấy giá cho món 9
2025-04-15 18:52:09.825317: price_at_order: None
2025-04-15 18:52:09.825404: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-15 18:52:09.825472: Định dạng tiền tệ: 0
2025-04-15 18:52:09.825535: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.825598: Xử lý mục: order_id=12, item_id=10
2025-04-15 18:52:09.825658: Trước khi lấy món với ID 10
2025-04-15 18:52:09.826071: menu_item: <Item 10>
2025-04-15 18:52:09.826145: Trước khi lấy giá cho món 10
2025-04-15 18:52:09.826539: price_at_order: None
2025-04-15 18:52:09.826612: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-15 18:52:09.826677: Định dạng tiền tệ: 0
2025-04-15 18:52:09.826738: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.826800: Xử lý mục: order_id=12, item_id=14
2025-04-15 18:52:09.826859: Trước khi lấy món với ID 14
2025-04-15 18:52:09.827221: menu_item: <Item 14>
2025-04-15 18:52:09.827290: Trước khi lấy giá cho món 14
2025-04-15 18:52:09.827678: price_at_order: None
2025-04-15 18:52:09.827758: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-15 18:52:09.827844: Định dạng tiền tệ: 0
2025-04-15 18:52:09.827916: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.827990: Xử lý mục: order_id=12, item_id=15
2025-04-15 18:52:09.828051: Trước khi lấy món với ID 15
2025-04-15 18:52:09.828414: menu_item: <Item 15>
2025-04-15 18:52:09.828489: Trước khi lấy giá cho món 15
2025-04-15 18:52:09.828851: price_at_order: None
2025-04-15 18:52:09.828925: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-15 18:52:09.829008: Định dạng tiền tệ: 0
2025-04-15 18:52:09.829085: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.829168: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.829241: Định dạng tiền tệ: 145000.0
2025-04-15 18:52:09.829320: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}
2025-04-15 18:52:09.829384: Thêm hóa đơn: order_id=12
2025-04-15 18:52:09.829455: Xử lý đơn hàng: 13
2025-04-15 18:52:09.829523: Trước khi lấy bàn cho đơn hàng 13
2025-04-15 18:52:09.829902: Table cho đơn hàng 13: <Table 16>
2025-04-15 18:52:09.830413: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.830521: Xử lý mục: order_id=13, item_id=8
2025-04-15 18:52:09.830755: Trước khi lấy món với ID 8
2025-04-15 18:52:09.831312: menu_item: <Item 8>
2025-04-15 18:52:09.831398: Trước khi lấy giá cho món 8
2025-04-15 18:52:09.831915: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:52:09.831992: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.832118: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.832202: Xử lý mục: order_id=13, item_id=11
2025-04-15 18:52:09.832266: Trước khi lấy món với ID 11
2025-04-15 18:52:09.832721: menu_item: <Item 11>
2025-04-15 18:52:09.832795: Trước khi lấy giá cho món 11
2025-04-15 18:52:09.833199: price_at_order: None
2025-04-15 18:52:09.833271: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-15 18:52:09.833334: Định dạng tiền tệ: 0
2025-04-15 18:52:09.833398: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.833479: Xử lý mục: order_id=13, item_id=12
2025-04-15 18:52:09.833581: Trước khi lấy món với ID 12
2025-04-15 18:52:09.833966: menu_item: <Item 12>
2025-04-15 18:52:09.834040: Trước khi lấy giá cho món 12
2025-04-15 18:52:09.834420: price_at_order: None
2025-04-15 18:52:09.834494: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-15 18:52:09.834570: Định dạng tiền tệ: 0
2025-04-15 18:52:09.834644: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.834719: Xử lý mục: order_id=13, item_id=13
2025-04-15 18:52:09.834790: Trước khi lấy món với ID 13
2025-04-15 18:52:09.835173: menu_item: <Item 13>
2025-04-15 18:52:09.835245: Trước khi lấy giá cho món 13
2025-04-15 18:52:09.835606: price_at_order: None
2025-04-15 18:52:09.835678: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-15 18:52:09.835750: Định dạng tiền tệ: 0
2025-04-15 18:52:09.835812: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.835892: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.835957: Định dạng tiền tệ: 122000.0
2025-04-15 18:52:09.836057: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 18:52:09.836124: Thêm hóa đơn: order_id=13
2025-04-15 18:52:09.836183: Xử lý đơn hàng: 14
2025-04-15 18:52:09.836241: Trước khi lấy bàn cho đơn hàng 14
2025-04-15 18:52:09.836614: Table cho đơn hàng 14: <Table 7>
2025-04-15 18:52:09.836973: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.837069: Xử lý mục: order_id=14, item_id=11
2025-04-15 18:52:09.837162: Trước khi lấy món với ID 11
2025-04-15 18:52:09.837660: menu_item: <Item 11>
2025-04-15 18:52:09.837751: Trước khi lấy giá cho món 11
2025-04-15 18:52:09.838293: price_at_order: None
2025-04-15 18:52:09.838382: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-15 18:52:09.838449: Định dạng tiền tệ: 0
2025-04-15 18:52:09.838515: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.838582: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.838646: Định dạng tiền tệ: 200000.0
2025-04-15 18:52:09.838717: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}
2025-04-15 18:52:09.838811: Thêm hóa đơn: order_id=14
2025-04-15 18:52:09.838898: Xử lý đơn hàng: 15
2025-04-15 18:52:09.838959: Trước khi lấy bàn cho đơn hàng 15
2025-04-15 18:52:09.839410: Table cho đơn hàng 15: <Table 1>
2025-04-15 18:52:09.839795: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.839866: Xử lý mục: order_id=15, item_id=6
2025-04-15 18:52:09.839944: Trước khi lấy món với ID 6
2025-04-15 18:52:09.840324: menu_item: <Item 6>
2025-04-15 18:52:09.840396: Trước khi lấy giá cho món 6
2025-04-15 18:52:09.840829: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:52:09.840912: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.840980: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.841041: Xử lý mục: order_id=15, item_id=7
2025-04-15 18:52:09.841103: Trước khi lấy món với ID 7
2025-04-15 18:52:09.841493: menu_item: <Item 7>
2025-04-15 18:52:09.841569: Trước khi lấy giá cho món 7
2025-04-15 18:52:09.841950: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:52:09.842022: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.842100: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.842161: Xử lý mục: order_id=15, item_id=11
2025-04-15 18:52:09.842272: Trước khi lấy món với ID 11
2025-04-15 18:52:09.842642: menu_item: <Item 11>
2025-04-15 18:52:09.842718: Trước khi lấy giá cho món 11
2025-04-15 18:52:09.843089: price_at_order: None
2025-04-15 18:52:09.843164: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-15 18:52:09.843230: Định dạng tiền tệ: 0
2025-04-15 18:52:09.843292: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.843357: Xử lý mục: order_id=15, item_id=12
2025-04-15 18:52:09.843417: Trước khi lấy món với ID 12
2025-04-15 18:52:09.843777: menu_item: <Item 12>
2025-04-15 18:52:09.843854: Trước khi lấy giá cho món 12
2025-04-15 18:52:09.844348: price_at_order: None
2025-04-15 18:52:09.844452: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-15 18:52:09.844575: Định dạng tiền tệ: 0
2025-04-15 18:52:09.844699: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.844821: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.844898: Định dạng tiền tệ: 87000.0
2025-04-15 18:52:09.844997: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}
2025-04-15 18:52:09.845068: Thêm hóa đơn: order_id=15
2025-04-15 18:52:09.845131: Xử lý đơn hàng: 16
2025-04-15 18:52:09.845253: Trước khi lấy bàn cho đơn hàng 16
2025-04-15 18:52:09.845863: Table cho đơn hàng 16: <Table 2>
2025-04-15 18:52:09.846336: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.846416: Xử lý mục: order_id=16, item_id=10
2025-04-15 18:52:09.846547: Trước khi lấy món với ID 10
2025-04-15 18:52:09.847040: menu_item: <Item 10>
2025-04-15 18:52:09.847117: Trước khi lấy giá cho món 10
2025-04-15 18:52:09.847550: price_at_order: None
2025-04-15 18:52:09.847628: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-15 18:52:09.847707: Định dạng tiền tệ: 0
2025-04-15 18:52:09.847773: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.847837: Xử lý mục: order_id=16, item_id=11
2025-04-15 18:52:09.847897: Trước khi lấy món với ID 11
2025-04-15 18:52:09.848313: menu_item: <Item 11>
2025-04-15 18:52:09.848392: Trước khi lấy giá cho món 11
2025-04-15 18:52:09.848804: price_at_order: None
2025-04-15 18:52:09.848884: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-15 18:52:09.848962: Định dạng tiền tệ: 0
2025-04-15 18:52:09.849028: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.849090: Xử lý mục: order_id=16, item_id=15
2025-04-15 18:52:09.849193: Trước khi lấy món với ID 15
2025-04-15 18:52:09.849626: menu_item: <Item 15>
2025-04-15 18:52:09.849707: Trước khi lấy giá cho món 15
2025-04-15 18:52:09.850097: price_at_order: None
2025-04-15 18:52:09.850174: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-15 18:52:09.850243: Định dạng tiền tệ: 0
2025-04-15 18:52:09.850306: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.850377: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.850442: Định dạng tiền tệ: 90000.0
2025-04-15 18:52:09.850512: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}
2025-04-15 18:52:09.850572: Thêm hóa đơn: order_id=16
2025-04-15 18:52:09.850631: Xử lý đơn hàng: 17
2025-04-15 18:52:09.850702: Trước khi lấy bàn cho đơn hàng 17
2025-04-15 18:52:09.851213: Table cho đơn hàng 17: <Table 3>
2025-04-15 18:52:09.851801: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.851907: Xử lý mục: order_id=17, item_id=6
2025-04-15 18:52:09.852000: Trước khi lấy món với ID 6
2025-04-15 18:52:09.852507: menu_item: <Item 6>
2025-04-15 18:52:09.852588: Trước khi lấy giá cho món 6
2025-04-15 18:52:09.853069: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:52:09.853146: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.853212: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.853274: Xử lý mục: order_id=17, item_id=7
2025-04-15 18:52:09.853334: Trước khi lấy món với ID 7
2025-04-15 18:52:09.853729: menu_item: <Item 7>
2025-04-15 18:52:09.853801: Trước khi lấy giá cho món 7
2025-04-15 18:52:09.854246: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:52:09.854326: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.854467: Định dạng tiền tệ: 12000.0
2025-04-15 18:52:09.854547: Xử lý mục: order_id=17, item_id=8
2025-04-15 18:52:09.854610: Trước khi lấy món với ID 8
2025-04-15 18:52:09.855009: menu_item: <Item 8>
2025-04-15 18:52:09.855082: Trước khi lấy giá cho món 8
2025-04-15 18:52:09.855500: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:52:09.855579: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.855662: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.855742: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:52:09.855815: Định dạng tiền tệ: 52000.0
2025-04-15 18:52:09.855901: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 18:52:09.855975: Thêm hóa đơn: order_id=17
2025-04-15 18:52:09.856037: Xử lý đơn hàng: 18
2025-04-15 18:52:09.856105: Trước khi lấy bàn cho đơn hàng 18
2025-04-15 18:52:09.856474: Table cho đơn hàng 18: <Table 4>
2025-04-15 18:52:09.856845: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.856921: Xử lý mục: order_id=18, item_id=14
2025-04-15 18:52:09.857000: Trước khi lấy món với ID 14
2025-04-15 18:52:09.857355: menu_item: <Item 14>
2025-04-15 18:52:09.857428: Trước khi lấy giá cho món 14
2025-04-15 18:52:09.857821: price_at_order: None
2025-04-15 18:52:09.857911: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-15 18:52:09.857980: Định dạng tiền tệ: 0
2025-04-15 18:52:09.858054: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.858188: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.858315: Định dạng tiền tệ: 150000.0
2025-04-15 18:52:09.858435: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}
2025-04-15 18:52:09.858518: Thêm hóa đơn: order_id=18
2025-04-15 18:52:09.858582: Xử lý đơn hàng: 19
2025-04-15 18:52:09.858659: Trước khi lấy bàn cho đơn hàng 19
2025-04-15 18:52:09.859247: Table cho đơn hàng 19: <Table 5>
2025-04-15 18:52:09.859704: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.859787: Xử lý mục: order_id=19, item_id=10
2025-04-15 18:52:09.859876: Trước khi lấy món với ID 10
2025-04-15 18:52:09.860377: menu_item: <Item 10>
2025-04-15 18:52:09.860457: Trước khi lấy giá cho món 10
2025-04-15 18:52:09.860901: price_at_order: None
2025-04-15 18:52:09.860979: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-15 18:52:09.861044: Định dạng tiền tệ: 0
2025-04-15 18:52:09.861108: Định dạng tiền tệ: 0.0
2025-04-15 18:52:09.861174: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:52:09.861235: Định dạng tiền tệ: 60000.0
2025-04-15 18:52:09.861304: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}
2025-04-15 18:52:09.861365: Thêm hóa đơn: order_id=19
2025-04-15 18:52:09.861425: Xử lý đơn hàng: 20
2025-04-15 18:52:09.861486: Trước khi lấy bàn cho đơn hàng 20
2025-04-15 18:52:09.861872: Table cho đơn hàng 20: <Table 1>
2025-04-15 18:52:09.862197: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.862269: Xử lý mục: order_id=20, item_id=5
2025-04-15 18:52:09.862346: Trước khi lấy món với ID 5
2025-04-15 18:52:09.862720: menu_item: <Item 5>
2025-04-15 18:52:09.862791: Trước khi lấy giá cho món 5
2025-04-15 18:52:09.863219: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:52:09.863293: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.863360: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.863474: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:52:09.863558: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.863640: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:52:09.863702: Thêm hóa đơn: order_id=20
2025-04-15 18:52:09.863760: Xử lý đơn hàng: 21
2025-04-15 18:52:09.863817: Trước khi lấy bàn cho đơn hàng 21
2025-04-15 18:52:09.863952: Table cho đơn hàng 21: <Table 1>
2025-04-15 18:52:09.864310: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.864384: Xử lý mục: order_id=21, item_id=6
2025-04-15 18:52:09.864445: Trước khi lấy món với ID 6
2025-04-15 18:52:09.864841: menu_item: <Item 6>
2025-04-15 18:52:09.864927: Trước khi lấy giá cho món 6
2025-04-15 18:52:09.865667: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:52:09.865828: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.865933: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.866014: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 18:52:09.866106: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.866209: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 18:52:09.866285: Thêm hóa đơn: order_id=21
2025-04-15 18:52:09.866351: Xử lý đơn hàng: 22
2025-04-15 18:52:09.866440: Trước khi lấy bàn cho đơn hàng 22
2025-04-15 18:52:09.866687: Table cho đơn hàng 22: <Table 1>
2025-04-15 18:52:09.867193: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.867272: Xử lý mục: order_id=22, item_id=6
2025-04-15 18:52:09.867349: Trước khi lấy món với ID 6
2025-04-15 18:52:09.867515: menu_item: <Item 6>
2025-04-15 18:52:09.867580: Trước khi lấy giá cho món 6
2025-04-15 18:52:09.868099: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:52:09.868173: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.868236: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.868355: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 18:52:09.868447: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.868552: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 18:52:09.868620: Thêm hóa đơn: order_id=22
2025-04-15 18:52:09.868678: Xử lý đơn hàng: 23
2025-04-15 18:52:09.868735: Trước khi lấy bàn cho đơn hàng 23
2025-04-15 18:52:09.868878: Table cho đơn hàng 23: <Table 1>
2025-04-15 18:52:09.869298: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.869378: Xử lý mục: order_id=23, item_id=6
2025-04-15 18:52:09.869457: Trước khi lấy món với ID 6
2025-04-15 18:52:09.869606: menu_item: <Item 6>
2025-04-15 18:52:09.869672: Trước khi lấy giá cho món 6
2025-04-15 18:52:09.870116: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:52:09.870197: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.870277: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.870346: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 18:52:09.870427: Định dạng tiền tệ: 10000.0
2025-04-15 18:52:09.870508: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 18:52:09.870576: Thêm hóa đơn: order_id=23
2025-04-15 18:52:09.870635: Xử lý đơn hàng: 24
2025-04-15 18:52:09.870693: Trước khi lấy bàn cho đơn hàng 24
2025-04-15 18:52:09.870840: Table cho đơn hàng 24: <Table 1>
2025-04-15 18:52:09.871159: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:52:09.871241: Xử lý mục: order_id=24, item_id=5
2025-04-15 18:52:09.871306: Trước khi lấy món với ID 5
2025-04-15 18:52:09.871710: menu_item: <Item 5>
2025-04-15 18:52:09.871802: Trước khi lấy giá cho món 5
2025-04-15 18:52:09.872300: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:52:09.872400: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.872503: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.872609: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:52:09.872689: Định dạng tiền tệ: 30000.0
2025-04-15 18:52:09.872800: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:52:09.872883: Thêm hóa đơn: order_id=24
2025-04-15 18:52:09.873007: Chuẩn bị render template với 19 hóa đơn
2025-04-15 18:52:09.873226: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}]
2025-04-15 18:52:09.873335: Total revenue: 1342000.0
2025-04-15 18:52:09.873402: Định dạng tiền tệ: 1342000.0
2025-04-15 18:52:09.873472: Formatted total revenue: 1,342,000 VNĐ
2025-04-15 18:52:09.873531: Date string: 2025-04-15
2025-04-15 18:52:09.873590: Định dạng tiền tệ: 1342000.0
2025-04-15 18:52:09.873650: Render template: bills=19, total_revenue=1,342,000 VNĐ, date=2025-04-15
2025-04-15 18:52:09.873709: Định dạng tiền tệ: 1342000.0
2025-04-15 18:58:06.378858: current_user: id=1, is_admin=True
2025-04-15 18:58:06.379028: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:06.379102: Trước khi kiểm tra request.method
2025-04-15 18:58:06.379167: Phương thức: POST
2025-04-15 18:58:06.379226: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:06.379477: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:06.379549: Trước khi lấy date_str
2025-04-15 18:58:06.379763: Nhận được date_str: 2025-04-15
2025-04-15 18:58:06.379832: Trước khi chuyển đổi ngày
2025-04-15 18:58:06.379933: Đã chuyển đổi date: 2025-04-15
2025-04-15 18:58:06.379996: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-15 18:58:06.380798: Tìm thấy 19 đơn hàng
2025-04-15 18:58:06.380895: Xử lý đơn hàng: 6
2025-04-15 18:58:06.380980: Trước khi lấy bàn cho đơn hàng 6
2025-04-15 18:58:06.381447: Table cho đơn hàng 6: <Table 1>
2025-04-15 18:58:06.381892: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.381982: Xử lý mục: order_id=6, item_id=6
2025-04-15 18:58:06.382066: Trước khi lấy món với ID 6
2025-04-15 18:58:06.382479: menu_item: <Item 6>
2025-04-15 18:58:06.382559: Trước khi lấy giá cho món 6
2025-04-15 18:58:06.383022: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:58:06.383107: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.383178: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.383241: Xử lý mục: order_id=6, item_id=7
2025-04-15 18:58:06.383343: Trước khi lấy món với ID 7
2025-04-15 18:58:06.383740: menu_item: <Item 7>
2025-04-15 18:58:06.383813: Trước khi lấy giá cho món 7
2025-04-15 18:58:06.384246: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:58:06.384334: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.384403: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.384466: Xử lý mục: order_id=6, item_id=8
2025-04-15 18:58:06.384525: Trước khi lấy món với ID 8
2025-04-15 18:58:06.384888: menu_item: <Item 8>
2025-04-15 18:58:06.384960: Trước khi lấy giá cho món 8
2025-04-15 18:58:06.385372: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:58:06.385447: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.385512: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.385597: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:58:06.385686: Định dạng tiền tệ: 52000.0
2025-04-15 18:58:06.385767: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 18:58:06.385831: Thêm hóa đơn: order_id=6
2025-04-15 18:58:06.385891: Xử lý đơn hàng: 7
2025-04-15 18:58:06.385950: Trước khi lấy bàn cho đơn hàng 7
2025-04-15 18:58:06.386316: Table cho đơn hàng 7: <Table 2>
2025-04-15 18:58:06.386655: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.386727: Xử lý mục: order_id=7, item_id=6
2025-04-15 18:58:06.386790: Trước khi lấy món với ID 6
2025-04-15 18:58:06.387135: menu_item: <Item 6>
2025-04-15 18:58:06.387205: Trước khi lấy giá cho món 6
2025-04-15 18:58:06.387594: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:58:06.387673: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.387741: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.387804: Xử lý mục: order_id=7, item_id=7
2025-04-15 18:58:06.387867: Trước khi lấy món với ID 7
2025-04-15 18:58:06.388327: menu_item: <Item 7>
2025-04-15 18:58:06.388412: Trước khi lấy giá cho món 7
2025-04-15 18:58:06.388861: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:58:06.388944: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.389013: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.389077: Xử lý mục: order_id=7, item_id=14
2025-04-15 18:58:06.389138: Trước khi lấy món với ID 14
2025-04-15 18:58:06.389524: menu_item: <Item 14>
2025-04-15 18:58:06.389603: Trước khi lấy giá cho món 14
2025-04-15 18:58:06.389974: price_at_order: None
2025-04-15 18:58:06.390048: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-15 18:58:06.390110: Định dạng tiền tệ: 0
2025-04-15 18:58:06.390172: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.390255: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.390334: Định dạng tiền tệ: 122000.0
2025-04-15 18:58:06.390413: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 18:58:06.390488: Thêm hóa đơn: order_id=7
2025-04-15 18:58:06.390550: Xử lý đơn hàng: 8
2025-04-15 18:58:06.390616: Trước khi lấy bàn cho đơn hàng 8
2025-04-15 18:58:06.390988: Table cho đơn hàng 8: <Table 1>
2025-04-15 18:58:06.391325: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.391399: Xử lý mục: order_id=8, item_id=5
2025-04-15 18:58:06.391479: Trước khi lấy món với ID 5
2025-04-15 18:58:06.391934: menu_item: <Item 5>
2025-04-15 18:58:06.392021: Trước khi lấy giá cho món 5
2025-04-15 18:58:06.392448: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:58:06.392528: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.392597: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.392665: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:58:06.392728: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.392795: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:58:06.392860: Thêm hóa đơn: order_id=8
2025-04-15 18:58:06.392974: Xử lý đơn hàng: 9
2025-04-15 18:58:06.393042: Trước khi lấy bàn cho đơn hàng 9
2025-04-15 18:58:06.393448: Table cho đơn hàng 9: <Table 2>
2025-04-15 18:58:06.393869: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.393953: Xử lý mục: order_id=9, item_id=5
2025-04-15 18:58:06.394034: Trước khi lấy món với ID 5
2025-04-15 18:58:06.394221: menu_item: <Item 5>
2025-04-15 18:58:06.394300: Trước khi lấy giá cho món 5
2025-04-15 18:58:06.395016: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:58:06.395111: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.395176: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.395242: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:58:06.395303: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.395371: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:58:06.395432: Thêm hóa đơn: order_id=9
2025-04-15 18:58:06.395544: Xử lý đơn hàng: 10
2025-04-15 18:58:06.395632: Trước khi lấy bàn cho đơn hàng 10
2025-04-15 18:58:06.396103: Table cho đơn hàng 10: <Table 3>
2025-04-15 18:58:06.396488: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.396566: Xử lý mục: order_id=10, item_id=9
2025-04-15 18:58:06.396662: Trước khi lấy món với ID 9
2025-04-15 18:58:06.397068: menu_item: <Item 9>
2025-04-15 18:58:06.397142: Trước khi lấy giá cho món 9
2025-04-15 18:58:06.397560: price_at_order: None
2025-04-15 18:58:06.397634: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-15 18:58:06.397699: Định dạng tiền tệ: 0
2025-04-15 18:58:06.397762: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.397826: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.397890: Định dạng tiền tệ: 15000.0
2025-04-15 18:58:06.397958: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}
2025-04-15 18:58:06.398022: Thêm hóa đơn: order_id=10
2025-04-15 18:58:06.398119: Xử lý đơn hàng: 11
2025-04-15 18:58:06.398225: Trước khi lấy bàn cho đơn hàng 11
2025-04-15 18:58:06.398613: Table cho đơn hàng 11: <Table 4>
2025-04-15 18:58:06.398969: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.399043: Xử lý mục: order_id=11, item_id=7
2025-04-15 18:58:06.399122: Trước khi lấy món với ID 7
2025-04-15 18:58:06.399499: menu_item: <Item 7>
2025-04-15 18:58:06.399576: Trước khi lấy giá cho món 7
2025-04-15 18:58:06.399994: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:58:06.400080: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.400145: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.400227: Xử lý mục: order_id=11, item_id=8
2025-04-15 18:58:06.400290: Trước khi lấy món với ID 8
2025-04-15 18:58:06.400653: menu_item: <Item 8>
2025-04-15 18:58:06.400723: Trước khi lấy giá cho món 8
2025-04-15 18:58:06.401124: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:58:06.401204: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.401272: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.401353: Xử lý mục: order_id=11, item_id=9
2025-04-15 18:58:06.401416: Trước khi lấy món với ID 9
2025-04-15 18:58:06.401793: menu_item: <Item 9>
2025-04-15 18:58:06.401869: Trước khi lấy giá cho món 9
2025-04-15 18:58:06.402252: price_at_order: None
2025-04-15 18:58:06.402327: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-15 18:58:06.402392: Định dạng tiền tệ: 0
2025-04-15 18:58:06.402468: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.402550: Xử lý mục: order_id=11, item_id=11
2025-04-15 18:58:06.402609: Trước khi lấy món với ID 11
2025-04-15 18:58:06.402977: menu_item: <Item 11>
2025-04-15 18:58:06.403052: Trước khi lấy giá cho món 11
2025-04-15 18:58:06.403431: price_at_order: None
2025-04-15 18:58:06.403506: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-15 18:58:06.403569: Định dạng tiền tệ: 0
2025-04-15 18:58:06.403658: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.403742: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.403812: Định dạng tiền tệ: 97000.0
2025-04-15 18:58:06.403887: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}
2025-04-15 18:58:06.403952: Thêm hóa đơn: order_id=11
2025-04-15 18:58:06.404011: Xử lý đơn hàng: 12
2025-04-15 18:58:06.404069: Trước khi lấy bàn cho đơn hàng 12
2025-04-15 18:58:06.404457: Table cho đơn hàng 12: <Table 10>
2025-04-15 18:58:06.404825: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.404898: Xử lý mục: order_id=12, item_id=8
2025-04-15 18:58:06.404960: Trước khi lấy món với ID 8
2025-04-15 18:58:06.405345: menu_item: <Item 8>
2025-04-15 18:58:06.405427: Trước khi lấy giá cho món 8
2025-04-15 18:58:06.405826: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:58:06.405901: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.405981: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.406090: Xử lý mục: order_id=12, item_id=9
2025-04-15 18:58:06.406172: Trước khi lấy món với ID 9
2025-04-15 18:58:06.406529: menu_item: <Item 9>
2025-04-15 18:58:06.406602: Trước khi lấy giá cho món 9
2025-04-15 18:58:06.406975: price_at_order: None
2025-04-15 18:58:06.407053: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-15 18:58:06.407121: Định dạng tiền tệ: 0
2025-04-15 18:58:06.407184: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.407249: Xử lý mục: order_id=12, item_id=10
2025-04-15 18:58:06.407337: Trước khi lấy món với ID 10
2025-04-15 18:58:06.407698: menu_item: <Item 10>
2025-04-15 18:58:06.407768: Trước khi lấy giá cho món 10
2025-04-15 18:58:06.408124: price_at_order: None
2025-04-15 18:58:06.408198: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-15 18:58:06.408271: Định dạng tiền tệ: 0
2025-04-15 18:58:06.408332: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.408393: Xử lý mục: order_id=12, item_id=14
2025-04-15 18:58:06.408450: Trước khi lấy món với ID 14
2025-04-15 18:58:06.408832: menu_item: <Item 14>
2025-04-15 18:58:06.408920: Trước khi lấy giá cho món 14
2025-04-15 18:58:06.409319: price_at_order: None
2025-04-15 18:58:06.409394: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-15 18:58:06.409471: Định dạng tiền tệ: 0
2025-04-15 18:58:06.409610: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.409689: Xử lý mục: order_id=12, item_id=15
2025-04-15 18:58:06.409751: Trước khi lấy món với ID 15
2025-04-15 18:58:06.410106: menu_item: <Item 15>
2025-04-15 18:58:06.410179: Trước khi lấy giá cho món 15
2025-04-15 18:58:06.410557: price_at_order: None
2025-04-15 18:58:06.410632: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-15 18:58:06.410697: Định dạng tiền tệ: 0
2025-04-15 18:58:06.410759: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.410838: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.410905: Định dạng tiền tệ: 145000.0
2025-04-15 18:58:06.410978: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}
2025-04-15 18:58:06.411041: Thêm hóa đơn: order_id=12
2025-04-15 18:58:06.411100: Xử lý đơn hàng: 13
2025-04-15 18:58:06.411158: Trước khi lấy bàn cho đơn hàng 13
2025-04-15 18:58:06.411522: Table cho đơn hàng 13: <Table 16>
2025-04-15 18:58:06.411870: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.411943: Xử lý mục: order_id=13, item_id=8
2025-04-15 18:58:06.412037: Trước khi lấy món với ID 8
2025-04-15 18:58:06.412413: menu_item: <Item 8>
2025-04-15 18:58:06.412489: Trước khi lấy giá cho món 8
2025-04-15 18:58:06.412890: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:58:06.412966: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.413030: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.413119: Xử lý mục: order_id=13, item_id=11
2025-04-15 18:58:06.413198: Trước khi lấy món với ID 11
2025-04-15 18:58:06.413583: menu_item: <Item 11>
2025-04-15 18:58:06.413668: Trước khi lấy giá cho món 11
2025-04-15 18:58:06.414069: price_at_order: None
2025-04-15 18:58:06.414153: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-15 18:58:06.414218: Định dạng tiền tệ: 0
2025-04-15 18:58:06.414279: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.414371: Xử lý mục: order_id=13, item_id=12
2025-04-15 18:58:06.414453: Trước khi lấy món với ID 12
2025-04-15 18:58:06.414832: menu_item: <Item 12>
2025-04-15 18:58:06.414909: Trước khi lấy giá cho món 12
2025-04-15 18:58:06.415309: price_at_order: None
2025-04-15 18:58:06.415386: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-15 18:58:06.415450: Định dạng tiền tệ: 0
2025-04-15 18:58:06.415512: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.415582: Xử lý mục: order_id=13, item_id=13
2025-04-15 18:58:06.415648: Trước khi lấy món với ID 13
2025-04-15 18:58:06.416039: menu_item: <Item 13>
2025-04-15 18:58:06.416118: Trước khi lấy giá cho món 13
2025-04-15 18:58:06.416525: price_at_order: None
2025-04-15 18:58:06.416600: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-15 18:58:06.416663: Định dạng tiền tệ: 0
2025-04-15 18:58:06.416786: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.416880: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.416963: Định dạng tiền tệ: 122000.0
2025-04-15 18:58:06.417037: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 18:58:06.417099: Thêm hóa đơn: order_id=13
2025-04-15 18:58:06.417166: Xử lý đơn hàng: 14
2025-04-15 18:58:06.417224: Trước khi lấy bàn cho đơn hàng 14
2025-04-15 18:58:06.417592: Table cho đơn hàng 14: <Table 7>
2025-04-15 18:58:06.417937: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.418014: Xử lý mục: order_id=14, item_id=11
2025-04-15 18:58:06.418097: Trước khi lấy món với ID 11
2025-04-15 18:58:06.418465: menu_item: <Item 11>
2025-04-15 18:58:06.418546: Trước khi lấy giá cho món 11
2025-04-15 18:58:06.418914: price_at_order: None
2025-04-15 18:58:06.418986: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-15 18:58:06.419096: Định dạng tiền tệ: 0
2025-04-15 18:58:06.419162: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.419275: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.419360: Định dạng tiền tệ: 200000.0
2025-04-15 18:58:06.419437: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}
2025-04-15 18:58:06.419502: Thêm hóa đơn: order_id=14
2025-04-15 18:58:06.419562: Xử lý đơn hàng: 15
2025-04-15 18:58:06.419671: Trước khi lấy bàn cho đơn hàng 15
2025-04-15 18:58:06.420033: Table cho đơn hàng 15: <Table 1>
2025-04-15 18:58:06.420372: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.420443: Xử lý mục: order_id=15, item_id=6
2025-04-15 18:58:06.420506: Trước khi lấy món với ID 6
2025-04-15 18:58:06.420857: menu_item: <Item 6>
2025-04-15 18:58:06.420928: Trước khi lấy giá cho món 6
2025-04-15 18:58:06.421316: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:58:06.421390: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.421456: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.421555: Xử lý mục: order_id=15, item_id=7
2025-04-15 18:58:06.421621: Trước khi lấy món với ID 7
2025-04-15 18:58:06.422001: menu_item: <Item 7>
2025-04-15 18:58:06.422075: Trước khi lấy giá cho món 7
2025-04-15 18:58:06.422473: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:58:06.422548: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.422615: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.422676: Xử lý mục: order_id=15, item_id=11
2025-04-15 18:58:06.422745: Trước khi lấy món với ID 11
2025-04-15 18:58:06.423108: menu_item: <Item 11>
2025-04-15 18:58:06.423182: Trước khi lấy giá cho món 11
2025-04-15 18:58:06.423570: price_at_order: None
2025-04-15 18:58:06.423685: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-15 18:58:06.423774: Định dạng tiền tệ: 0
2025-04-15 18:58:06.423844: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.423909: Xử lý mục: order_id=15, item_id=12
2025-04-15 18:58:06.423970: Trước khi lấy món với ID 12
2025-04-15 18:58:06.424411: menu_item: <Item 12>
2025-04-15 18:58:06.424494: Trước khi lấy giá cho món 12
2025-04-15 18:58:06.424932: price_at_order: None
2025-04-15 18:58:06.425093: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-15 18:58:06.425170: Định dạng tiền tệ: 0
2025-04-15 18:58:06.425253: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.425341: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.425418: Định dạng tiền tệ: 87000.0
2025-04-15 18:58:06.425504: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}
2025-04-15 18:58:06.425578: Thêm hóa đơn: order_id=15
2025-04-15 18:58:06.425666: Xử lý đơn hàng: 16
2025-04-15 18:58:06.425781: Trước khi lấy bàn cho đơn hàng 16
2025-04-15 18:58:06.426299: Table cho đơn hàng 16: <Table 2>
2025-04-15 18:58:06.426721: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.426796: Xử lý mục: order_id=16, item_id=10
2025-04-15 18:58:06.426871: Trước khi lấy món với ID 10
2025-04-15 18:58:06.427291: menu_item: <Item 10>
2025-04-15 18:58:06.427367: Trước khi lấy giá cho món 10
2025-04-15 18:58:06.427778: price_at_order: None
2025-04-15 18:58:06.427857: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-15 18:58:06.427937: Định dạng tiền tệ: 0
2025-04-15 18:58:06.428002: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.428065: Xử lý mục: order_id=16, item_id=11
2025-04-15 18:58:06.428124: Trước khi lấy món với ID 11
2025-04-15 18:58:06.428500: menu_item: <Item 11>
2025-04-15 18:58:06.428571: Trước khi lấy giá cho món 11
2025-04-15 18:58:06.428992: price_at_order: None
2025-04-15 18:58:06.429078: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-15 18:58:06.429193: Định dạng tiền tệ: 0
2025-04-15 18:58:06.429270: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.429346: Xử lý mục: order_id=16, item_id=15
2025-04-15 18:58:06.429410: Trước khi lấy món với ID 15
2025-04-15 18:58:06.429799: menu_item: <Item 15>
2025-04-15 18:58:06.429887: Trước khi lấy giá cho món 15
2025-04-15 18:58:06.430338: price_at_order: None
2025-04-15 18:58:06.430422: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-15 18:58:06.430510: Định dạng tiền tệ: 0
2025-04-15 18:58:06.430621: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.430708: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.430780: Định dạng tiền tệ: 90000.0
2025-04-15 18:58:06.430857: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}
2025-04-15 18:58:06.430939: Thêm hóa đơn: order_id=16
2025-04-15 18:58:06.431007: Xử lý đơn hàng: 17
2025-04-15 18:58:06.431067: Trước khi lấy bàn cho đơn hàng 17
2025-04-15 18:58:06.431443: Table cho đơn hàng 17: <Table 3>
2025-04-15 18:58:06.431801: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.431873: Xử lý mục: order_id=17, item_id=6
2025-04-15 18:58:06.431935: Trước khi lấy món với ID 6
2025-04-15 18:58:06.432298: menu_item: <Item 6>
2025-04-15 18:58:06.432393: Trước khi lấy giá cho món 6
2025-04-15 18:58:06.432800: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:58:06.432874: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.432974: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.433053: Xử lý mục: order_id=17, item_id=7
2025-04-15 18:58:06.433116: Trước khi lấy món với ID 7
2025-04-15 18:58:06.433489: menu_item: <Item 7>
2025-04-15 18:58:06.433569: Trước khi lấy giá cho món 7
2025-04-15 18:58:06.433971: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 18:58:06.434052: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.434128: Định dạng tiền tệ: 12000.0
2025-04-15 18:58:06.434192: Xử lý mục: order_id=17, item_id=8
2025-04-15 18:58:06.434275: Trước khi lấy món với ID 8
2025-04-15 18:58:06.434641: menu_item: <Item 8>
2025-04-15 18:58:06.434716: Trước khi lấy giá cho món 8
2025-04-15 18:58:06.435113: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 18:58:06.435186: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.435250: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.435322: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:58:06.435387: Định dạng tiền tệ: 52000.0
2025-04-15 18:58:06.435493: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 18:58:06.435559: Thêm hóa đơn: order_id=17
2025-04-15 18:58:06.435617: Xử lý đơn hàng: 18
2025-04-15 18:58:06.435676: Trước khi lấy bàn cho đơn hàng 18
2025-04-15 18:58:06.436066: Table cho đơn hàng 18: <Table 4>
2025-04-15 18:58:06.436426: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.436507: Xử lý mục: order_id=18, item_id=14
2025-04-15 18:58:06.436593: Trước khi lấy món với ID 14
2025-04-15 18:58:06.436962: menu_item: <Item 14>
2025-04-15 18:58:06.437034: Trước khi lấy giá cho món 14
2025-04-15 18:58:06.437425: price_at_order: None
2025-04-15 18:58:06.437506: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-15 18:58:06.437582: Định dạng tiền tệ: 0
2025-04-15 18:58:06.437657: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.437724: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.437785: Định dạng tiền tệ: 150000.0
2025-04-15 18:58:06.437856: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}
2025-04-15 18:58:06.437919: Thêm hóa đơn: order_id=18
2025-04-15 18:58:06.437977: Xử lý đơn hàng: 19
2025-04-15 18:58:06.438037: Trước khi lấy bàn cho đơn hàng 19
2025-04-15 18:58:06.438430: Table cho đơn hàng 19: <Table 5>
2025-04-15 18:58:06.438819: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.438891: Xử lý mục: order_id=19, item_id=10
2025-04-15 18:58:06.438953: Trước khi lấy món với ID 10
2025-04-15 18:58:06.439321: menu_item: <Item 10>
2025-04-15 18:58:06.439393: Trước khi lấy giá cho món 10
2025-04-15 18:58:06.439789: price_at_order: None
2025-04-15 18:58:06.439864: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-15 18:58:06.439927: Định dạng tiền tệ: 0
2025-04-15 18:58:06.439989: Định dạng tiền tệ: 0.0
2025-04-15 18:58:06.440057: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 18:58:06.440123: Định dạng tiền tệ: 60000.0
2025-04-15 18:58:06.440194: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}
2025-04-15 18:58:06.440297: Thêm hóa đơn: order_id=19
2025-04-15 18:58:06.440374: Xử lý đơn hàng: 20
2025-04-15 18:58:06.440438: Trước khi lấy bàn cho đơn hàng 20
2025-04-15 18:58:06.440812: Table cho đơn hàng 20: <Table 1>
2025-04-15 18:58:06.441135: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.441209: Xử lý mục: order_id=20, item_id=5
2025-04-15 18:58:06.441272: Trước khi lấy món với ID 5
2025-04-15 18:58:06.441616: menu_item: <Item 5>
2025-04-15 18:58:06.441693: Trước khi lấy giá cho món 5
2025-04-15 18:58:06.442097: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:58:06.442178: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.442245: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.442324: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:58:06.442387: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.442467: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:58:06.442564: Thêm hóa đơn: order_id=20
2025-04-15 18:58:06.442626: Xử lý đơn hàng: 21
2025-04-15 18:58:06.442686: Trước khi lấy bàn cho đơn hàng 21
2025-04-15 18:58:06.442816: Table cho đơn hàng 21: <Table 1>
2025-04-15 18:58:06.443122: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.443214: Xử lý mục: order_id=21, item_id=6
2025-04-15 18:58:06.443286: Trước khi lấy món với ID 6
2025-04-15 18:58:06.443687: menu_item: <Item 6>
2025-04-15 18:58:06.443781: Trước khi lấy giá cho món 6
2025-04-15 18:58:06.444202: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:58:06.444277: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.444383: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.444459: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 18:58:06.444524: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.444634: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 18:58:06.444704: Thêm hóa đơn: order_id=21
2025-04-15 18:58:06.444767: Xử lý đơn hàng: 22
2025-04-15 18:58:06.444828: Trước khi lấy bàn cho đơn hàng 22
2025-04-15 18:58:06.444969: Table cho đơn hàng 22: <Table 1>
2025-04-15 18:58:06.445362: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.445437: Xử lý mục: order_id=22, item_id=6
2025-04-15 18:58:06.445547: Trước khi lấy món với ID 6
2025-04-15 18:58:06.445694: menu_item: <Item 6>
2025-04-15 18:58:06.445770: Trước khi lấy giá cho món 6
2025-04-15 18:58:06.446204: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:58:06.446277: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.446339: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.446411: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 18:58:06.446483: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.446554: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 18:58:06.446615: Thêm hóa đơn: order_id=22
2025-04-15 18:58:06.446672: Xử lý đơn hàng: 23
2025-04-15 18:58:06.446730: Trước khi lấy bàn cho đơn hàng 23
2025-04-15 18:58:06.446857: Table cho đơn hàng 23: <Table 1>
2025-04-15 18:58:06.447193: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.447279: Xử lý mục: order_id=23, item_id=6
2025-04-15 18:58:06.447341: Trước khi lấy món với ID 6
2025-04-15 18:58:06.447469: menu_item: <Item 6>
2025-04-15 18:58:06.447532: Trước khi lấy giá cho món 6
2025-04-15 18:58:06.447929: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 18:58:06.448002: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.448067: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.448163: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 18:58:06.448234: Định dạng tiền tệ: 10000.0
2025-04-15 18:58:06.448310: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 18:58:06.448372: Thêm hóa đơn: order_id=23
2025-04-15 18:58:06.448430: Xử lý đơn hàng: 24
2025-04-15 18:58:06.448487: Trước khi lấy bàn cho đơn hàng 24
2025-04-15 18:58:06.448622: Table cho đơn hàng 24: <Table 1>
2025-04-15 18:58:06.448943: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 18:58:06.449022: Xử lý mục: order_id=24, item_id=5
2025-04-15 18:58:06.449091: Trước khi lấy món với ID 5
2025-04-15 18:58:06.449457: menu_item: <Item 5>
2025-04-15 18:58:06.449527: Trước khi lấy giá cho món 5
2025-04-15 18:58:06.449956: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 18:58:06.450081: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.450170: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.450251: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 18:58:06.450315: Định dạng tiền tệ: 30000.0
2025-04-15 18:58:06.450391: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 18:58:06.450453: Thêm hóa đơn: order_id=24
2025-04-15 18:58:06.450512: Chuẩn bị render template với 19 hóa đơn
2025-04-15 18:58:06.450681: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}]
2025-04-15 18:58:06.450776: Total revenue: 1342000.0
2025-04-15 18:58:06.450840: Định dạng tiền tệ: 1342000.0
2025-04-15 18:58:06.450901: Formatted total revenue: 1,342,000 VNĐ
2025-04-15 18:58:06.451007: Date string: 2025-04-15
2025-04-15 18:58:06.451073: Định dạng tiền tệ: 1342000.0
2025-04-15 18:58:06.451140: Render template: bills=19, total_revenue=1,342,000 VNĐ, date=2025-04-15
2025-04-15 18:58:06.451200: Định dạng tiền tệ: 1342000.0
2025-04-15 18:58:06.457135: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:06.461989: current_user: id=1, is_admin=True
2025-04-15 18:58:06.462100: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:06.462169: Trước khi kiểm tra request.method
2025-04-15 18:58:06.462230: Phương thức: GET
2025-04-15 18:58:06.462300: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:06.462509: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:06.462579: Hiển thị template mặc định cho GET
2025-04-15 18:58:06.467615: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:06.643310: current_user: id=1, is_admin=True
2025-04-15 18:58:06.643476: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:06.643550: Trước khi kiểm tra request.method
2025-04-15 18:58:06.643738: Phương thức: GET
2025-04-15 18:58:06.643870: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:06.644113: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:06.644184: Hiển thị template mặc định cho GET
2025-04-15 18:58:06.648503: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:06.968515: current_user: id=1, is_admin=True
2025-04-15 18:58:06.968759: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:06.968908: Trước khi kiểm tra request.method
2025-04-15 18:58:06.969027: Phương thức: GET
2025-04-15 18:58:06.969099: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:06.969428: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:06.969512: Hiển thị template mặc định cho GET
2025-04-15 18:58:06.974308: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:07.219346: current_user: id=1, is_admin=True
2025-04-15 18:58:07.219480: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:07.219623: Trước khi kiểm tra request.method
2025-04-15 18:58:07.219708: Phương thức: GET
2025-04-15 18:58:07.219790: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:07.220018: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:07.220089: Hiển thị template mặc định cho GET
2025-04-15 18:58:07.224580: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:07.280196: current_user: id=1, is_admin=True
2025-04-15 18:58:07.280325: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:07.280406: Trước khi kiểm tra request.method
2025-04-15 18:58:07.280541: Phương thức: GET
2025-04-15 18:58:07.280624: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:07.280833: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:07.280899: Hiển thị template mặc định cho GET
2025-04-15 18:58:07.285288: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:07.531637: current_user: id=1, is_admin=True
2025-04-15 18:58:07.531782: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:07.531867: Trước khi kiểm tra request.method
2025-04-15 18:58:07.531933: Phương thức: GET
2025-04-15 18:58:07.532065: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:07.532290: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:07.532360: Hiển thị template mặc định cho GET
2025-04-15 18:58:07.537229: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:07.594902: current_user: id=1, is_admin=True
2025-04-15 18:58:07.595046: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:07.595139: Trước khi kiểm tra request.method
2025-04-15 18:58:07.595218: Phương thức: GET
2025-04-15 18:58:07.595281: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:07.595492: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:07.595610: Hiển thị template mặc định cho GET
2025-04-15 18:58:07.600150: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:07.856475: current_user: id=1, is_admin=True
2025-04-15 18:58:07.856622: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:07.856695: Trước khi kiểm tra request.method
2025-04-15 18:58:07.856771: Phương thức: GET
2025-04-15 18:58:07.856829: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:07.857054: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:07.857141: Hiển thị template mặc định cho GET
2025-04-15 18:58:07.861589: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:07.919355: current_user: id=1, is_admin=True
2025-04-15 18:58:07.919600: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:07.919714: Trước khi kiểm tra request.method
2025-04-15 18:58:07.919839: Phương thức: GET
2025-04-15 18:58:07.919935: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:07.920173: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:07.920250: Hiển thị template mặc định cho GET
2025-04-15 18:58:07.924869: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:08.167851: current_user: id=1, is_admin=True
2025-04-15 18:58:08.167984: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:08.168073: Trước khi kiểm tra request.method
2025-04-15 18:58:08.168142: Phương thức: GET
2025-04-15 18:58:08.168202: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:08.168411: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:08.168481: Hiển thị template mặc định cho GET
2025-04-15 18:58:08.174084: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:08.239929: current_user: id=1, is_admin=True
2025-04-15 18:58:08.240079: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:08.240200: Trước khi kiểm tra request.method
2025-04-15 18:58:08.240277: Phương thức: GET
2025-04-15 18:58:08.240339: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:08.240563: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:08.240658: Hiển thị template mặc định cho GET
2025-04-15 18:58:08.245600: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:08.480703: current_user: id=1, is_admin=True
2025-04-15 18:58:08.480827: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:08.480932: Trước khi kiểm tra request.method
2025-04-15 18:58:08.481065: Phương thức: GET
2025-04-15 18:58:08.481166: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:08.481412: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:08.481481: Hiển thị template mặc định cho GET
2025-04-15 18:58:08.485798: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:08.557950: current_user: id=1, is_admin=True
2025-04-15 18:58:08.558106: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:08.558254: Trước khi kiểm tra request.method
2025-04-15 18:58:08.558340: Phương thức: GET
2025-04-15 18:58:08.558404: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:08.558679: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:08.558755: Hiển thị template mặc định cho GET
2025-04-15 18:58:08.563181: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:08.793392: current_user: id=1, is_admin=True
2025-04-15 18:58:08.793550: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:08.793654: Trước khi kiểm tra request.method
2025-04-15 18:58:08.793722: Phương thức: GET
2025-04-15 18:58:08.793780: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:08.794014: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:08.794083: Hiển thị template mặc định cho GET
2025-04-15 18:58:08.798375: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:08.872680: current_user: id=1, is_admin=True
2025-04-15 18:58:08.872837: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:08.872977: Trước khi kiểm tra request.method
2025-04-15 18:58:08.873071: Phương thức: GET
2025-04-15 18:58:08.873133: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:08.873353: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:08.873426: Hiển thị template mặc định cho GET
2025-04-15 18:58:08.877774: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:09.105447: current_user: id=1, is_admin=True
2025-04-15 18:58:09.105591: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:09.105682: Trước khi kiểm tra request.method
2025-04-15 18:58:09.105796: Phương thức: GET
2025-04-15 18:58:09.105889: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:09.106105: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:09.106173: Hiển thị template mặc định cho GET
2025-04-15 18:58:09.111018: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:09.197260: current_user: id=1, is_admin=True
2025-04-15 18:58:09.197380: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:09.197536: Trước khi kiểm tra request.method
2025-04-15 18:58:09.197629: Phương thức: GET
2025-04-15 18:58:09.197689: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:09.197941: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:09.198014: Hiển thị template mặc định cho GET
2025-04-15 18:58:09.202348: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:09.431809: current_user: id=1, is_admin=True
2025-04-15 18:58:09.431970: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:09.432108: Trước khi kiểm tra request.method
2025-04-15 18:58:09.432206: Phương thức: GET
2025-04-15 18:58:09.432262: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:09.432517: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:09.432594: Hiển thị template mặc định cho GET
2025-04-15 18:58:09.437015: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:09.509235: current_user: id=1, is_admin=True
2025-04-15 18:58:09.509394: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:09.509480: Trước khi kiểm tra request.method
2025-04-15 18:58:09.509545: Phương thức: GET
2025-04-15 18:58:09.509603: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:09.509842: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:09.509919: Hiển thị template mặc định cho GET
2025-04-15 18:58:09.514310: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:10.546523: current_user: id=1, is_admin=True
2025-04-15 18:58:10.546664: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:10.546755: Trước khi kiểm tra request.method
2025-04-15 18:58:10.546829: Phương thức: GET
2025-04-15 18:58:10.546888: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:10.547109: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:10.547209: Hiển thị template mặc định cho GET
2025-04-15 18:58:10.552164: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:10.855437: current_user: id=1, is_admin=True
2025-04-15 18:58:10.855582: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:10.855668: Trước khi kiểm tra request.method
2025-04-15 18:58:10.855734: Phương thức: GET
2025-04-15 18:58:10.855790: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:10.856008: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:10.856076: Hiển thị template mặc định cho GET
2025-04-15 18:58:10.861023: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:11.181025: current_user: id=1, is_admin=True
2025-04-15 18:58:11.181165: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:11.181256: Trước khi kiểm tra request.method
2025-04-15 18:58:11.181331: Phương thức: GET
2025-04-15 18:58:11.181388: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:11.181592: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:11.181660: Hiển thị template mặc định cho GET
2025-04-15 18:58:11.186286: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:11.430946: current_user: id=1, is_admin=True
2025-04-15 18:58:11.431108: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:11.431505: Trước khi kiểm tra request.method
2025-04-15 18:58:11.431717: Phương thức: GET
2025-04-15 18:58:11.431849: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:11.432148: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:11.432217: Hiển thị template mặc định cho GET
2025-04-15 18:58:11.436542: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:11.493658: current_user: id=1, is_admin=True
2025-04-15 18:58:11.493787: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:11.493878: Trước khi kiểm tra request.method
2025-04-15 18:58:11.493945: Phương thức: GET
2025-04-15 18:58:11.494006: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:11.494223: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:11.494292: Hiển thị template mặc định cho GET
2025-04-15 18:58:11.498597: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:11.743267: current_user: id=1, is_admin=True
2025-04-15 18:58:11.743449: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:11.743532: Trước khi kiểm tra request.method
2025-04-15 18:58:11.743605: Phương thức: GET
2025-04-15 18:58:11.743665: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:11.743989: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:11.744067: Hiển thị template mặc định cho GET
2025-04-15 18:58:11.748463: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:11.821590: current_user: id=1, is_admin=True
2025-04-15 18:58:11.821715: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:11.821918: Trước khi kiểm tra request.method
2025-04-15 18:58:11.821992: Phương thức: GET
2025-04-15 18:58:11.822050: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:11.822255: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:11.822322: Hiển thị template mặc định cho GET
2025-04-15 18:58:11.827154: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.057425: current_user: id=1, is_admin=True
2025-04-15 18:58:12.057575: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.057647: Trước khi kiểm tra request.method
2025-04-15 18:58:12.057717: Phương thức: GET
2025-04-15 18:58:12.057777: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.058011: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.058084: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.062427: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.135302: current_user: id=1, is_admin=True
2025-04-15 18:58:12.135424: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.135498: Trước khi kiểm tra request.method
2025-04-15 18:58:12.135564: Phương thức: GET
2025-04-15 18:58:12.135619: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.135835: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.135914: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.140271: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.244717: current_user: id=1, is_admin=True
2025-04-15 18:58:12.244876: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.244975: Trước khi kiểm tra request.method
2025-04-15 18:58:12.245052: Phương thức: GET
2025-04-15 18:58:12.245110: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.245333: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.245402: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.249734: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.382476: current_user: id=1, is_admin=True
2025-04-15 18:58:12.382612: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.382680: Trước khi kiểm tra request.method
2025-04-15 18:58:12.382769: Phương thức: GET
2025-04-15 18:58:12.382830: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.383137: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.383218: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.387584: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.460826: current_user: id=1, is_admin=True
2025-04-15 18:58:12.460953: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.461037: Trước khi kiểm tra request.method
2025-04-15 18:58:12.461115: Phương thức: GET
2025-04-15 18:58:12.461172: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.461378: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.461446: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.466412: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.569629: current_user: id=1, is_admin=True
2025-04-15 18:58:12.569765: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.569864: Trước khi kiểm tra request.method
2025-04-15 18:58:12.569934: Phương thức: GET
2025-04-15 18:58:12.569994: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.570218: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.570350: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.575141: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.694438: current_user: id=1, is_admin=True
2025-04-15 18:58:12.694630: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.694711: Trước khi kiểm tra request.method
2025-04-15 18:58:12.694789: Phương thức: GET
2025-04-15 18:58:12.694847: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.695135: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.695223: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.699542: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.788091: current_user: id=1, is_admin=True
2025-04-15 18:58:12.788217: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.788283: Trước khi kiểm tra request.method
2025-04-15 18:58:12.788344: Phương thức: GET
2025-04-15 18:58:12.788405: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.788624: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.788695: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.793065: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:12.896566: current_user: id=1, is_admin=True
2025-04-15 18:58:12.896746: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:12.896866: Trước khi kiểm tra request.method
2025-04-15 18:58:12.896989: Phương thức: GET
2025-04-15 18:58:12.897060: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:12.897292: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:12.897366: Hiển thị template mặc định cho GET
2025-04-15 18:58:12.901709: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.005388: current_user: id=1, is_admin=True
2025-04-15 18:58:13.005523: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.005606: Trước khi kiểm tra request.method
2025-04-15 18:58:13.005705: Phương thức: GET
2025-04-15 18:58:13.005786: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.006033: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.006156: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.010919: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.114705: current_user: id=1, is_admin=True
2025-04-15 18:58:13.114864: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.115070: Trước khi kiểm tra request.method
2025-04-15 18:58:13.115239: Phương thức: GET
2025-04-15 18:58:13.115334: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.115628: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.115707: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.120104: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.217752: current_user: id=1, is_admin=True
2025-04-15 18:58:13.217897: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.217991: Trước khi kiểm tra request.method
2025-04-15 18:58:13.218057: Phương thức: GET
2025-04-15 18:58:13.218113: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.218338: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.218422: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.223444: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.331581: current_user: id=1, is_admin=True
2025-04-15 18:58:13.331709: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.331773: Trước khi kiểm tra request.method
2025-04-15 18:58:13.331851: Phương thức: GET
2025-04-15 18:58:13.332015: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.332396: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.332530: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.336631: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.439590: current_user: id=1, is_admin=True
2025-04-15 18:58:13.439735: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.439801: Trước khi kiểm tra request.method
2025-04-15 18:58:13.439864: Phương thức: GET
2025-04-15 18:58:13.439990: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.440250: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.440320: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.444775: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.533431: current_user: id=1, is_admin=True
2025-04-15 18:58:13.533597: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.533691: Trước khi kiểm tra request.method
2025-04-15 18:58:13.533781: Phương thức: GET
2025-04-15 18:58:13.533867: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.534214: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.534298: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.540183: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.658594: current_user: id=1, is_admin=True
2025-04-15 18:58:13.658734: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.658812: Trước khi kiểm tra request.method
2025-04-15 18:58:13.658881: Phương thức: GET
2025-04-15 18:58:13.658940: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.659160: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.659231: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.663411: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.752513: current_user: id=1, is_admin=True
2025-04-15 18:58:13.752650: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.752755: Trước khi kiểm tra request.method
2025-04-15 18:58:13.752828: Phương thức: GET
2025-04-15 18:58:13.752886: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.753086: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.753154: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.757480: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.846603: current_user: id=1, is_admin=True
2025-04-15 18:58:13.846751: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.846826: Trước khi kiểm tra request.method
2025-04-15 18:58:13.846908: Phương thức: GET
2025-04-15 18:58:13.846966: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.847260: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.847418: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.851807: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:13.972626: current_user: id=1, is_admin=True
2025-04-15 18:58:13.972750: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:13.972836: Trước khi kiểm tra request.method
2025-04-15 18:58:13.972952: Phương thức: GET
2025-04-15 18:58:13.973020: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:13.973295: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:13.973437: Hiển thị template mặc định cho GET
2025-04-15 18:58:13.977690: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:14.066608: current_user: id=1, is_admin=True
2025-04-15 18:58:14.066753: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:14.066833: Trước khi kiểm tra request.method
2025-04-15 18:58:14.066909: Phương thức: GET
2025-04-15 18:58:14.066986: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:14.067226: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:14.067293: Hiển thị template mặc định cho GET
2025-04-15 18:58:14.071997: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:15.101462: current_user: id=1, is_admin=True
2025-04-15 18:58:15.101595: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:15.101739: Trước khi kiểm tra request.method
2025-04-15 18:58:15.101847: Phương thức: GET
2025-04-15 18:58:15.101916: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:15.102128: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:15.102195: Hiển thị template mặc định cho GET
2025-04-15 18:58:15.106951: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:15.112009: current_user: id=1, is_admin=True
2025-04-15 18:58:15.112141: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:15.112234: Trước khi kiểm tra request.method
2025-04-15 18:58:15.112302: Phương thức: GET
2025-04-15 18:58:15.112359: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:15.112567: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:15.112644: Hiển thị template mặc định cho GET
2025-04-15 18:58:15.116964: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:15.438848: current_user: id=1, is_admin=True
2025-04-15 18:58:15.439071: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:15.439332: Trước khi kiểm tra request.method
2025-04-15 18:58:15.439569: Phương thức: GET
2025-04-15 18:58:15.439666: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:15.439878: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:15.439946: Hiển thị template mặc định cho GET
2025-04-15 18:58:15.444226: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:15.684708: current_user: id=1, is_admin=True
2025-04-15 18:58:15.684831: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:15.684911: Trước khi kiểm tra request.method
2025-04-15 18:58:15.684982: Phương thức: GET
2025-04-15 18:58:15.685041: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:15.685260: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:15.685329: Hiển thị template mặc định cho GET
2025-04-15 18:58:15.689908: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:15.751976: current_user: id=1, is_admin=True
2025-04-15 18:58:15.752132: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:15.752228: Trước khi kiểm tra request.method
2025-04-15 18:58:15.752318: Phương thức: GET
2025-04-15 18:58:15.752380: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:15.752612: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:15.752687: Hiển thị template mặc định cho GET
2025-04-15 18:58:15.757590: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:16.001563: current_user: id=1, is_admin=True
2025-04-15 18:58:16.001727: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:16.001794: Trước khi kiểm tra request.method
2025-04-15 18:58:16.001856: Phương thức: GET
2025-04-15 18:58:16.001930: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:16.002183: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:16.002250: Hiển thị template mặc định cho GET
2025-04-15 18:58:16.006587: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:16.078657: current_user: id=1, is_admin=True
2025-04-15 18:58:16.078788: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:16.078897: Trước khi kiểm tra request.method
2025-04-15 18:58:16.078967: Phương thức: GET
2025-04-15 18:58:16.079024: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:16.079236: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:16.079302: Hiển thị template mặc định cho GET
2025-04-15 18:58:16.083734: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:16.328594: current_user: id=1, is_admin=True
2025-04-15 18:58:16.328722: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:16.328803: Trước khi kiểm tra request.method
2025-04-15 18:58:16.328868: Phương thức: GET
2025-04-15 18:58:16.328952: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:16.329193: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:16.329260: Hiển thị template mặc định cho GET
2025-04-15 18:58:16.333655: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:16.391286: current_user: id=1, is_admin=True
2025-04-15 18:58:16.391436: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:16.391682: Trước khi kiểm tra request.method
2025-04-15 18:58:16.391809: Phương thức: GET
2025-04-15 18:58:16.391893: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:16.392136: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:16.392210: Hiển thị template mặc định cho GET
2025-04-15 18:58:16.396688: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:16.641205: current_user: id=1, is_admin=True
2025-04-15 18:58:16.641357: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:16.641468: Trước khi kiểm tra request.method
2025-04-15 18:58:16.641535: Phương thức: GET
2025-04-15 18:58:16.641591: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:16.641806: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:16.641885: Hiển thị template mặc định cho GET
2025-04-15 18:58:16.646769: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:16.703358: current_user: id=1, is_admin=True
2025-04-15 18:58:16.703509: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:16.703605: Trước khi kiểm tra request.method
2025-04-15 18:58:16.703671: Phương thức: GET
2025-04-15 18:58:16.703730: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:16.704027: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:16.704111: Hiển thị template mặc định cho GET
2025-04-15 18:58:16.708583: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:16.954147: current_user: id=1, is_admin=True
2025-04-15 18:58:16.954355: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:16.954525: Trước khi kiểm tra request.method
2025-04-15 18:58:16.954659: Phương thức: GET
2025-04-15 18:58:16.954739: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:16.954973: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:16.955042: Hiển thị template mặc định cho GET
2025-04-15 18:58:16.959383: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:17.015346: current_user: id=1, is_admin=True
2025-04-15 18:58:17.015488: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:17.015629: Trước khi kiểm tra request.method
2025-04-15 18:58:17.015727: Phương thức: GET
2025-04-15 18:58:17.015791: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:17.016015: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:17.016087: Hiển thị template mặc định cho GET
2025-04-15 18:58:17.020472: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:17.266721: current_user: id=1, is_admin=True
2025-04-15 18:58:17.266904: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:17.267042: Trước khi kiểm tra request.method
2025-04-15 18:58:17.267132: Phương thức: GET
2025-04-15 18:58:17.267203: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:17.267469: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:17.267560: Hiển thị template mặc định cho GET
2025-04-15 18:58:17.271944: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:17.328450: current_user: id=1, is_admin=True
2025-04-15 18:58:17.328593: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:17.328683: Trước khi kiểm tra request.method
2025-04-15 18:58:17.328814: Phương thức: GET
2025-04-15 18:58:17.328896: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:17.329119: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:17.329190: Hiển thị template mặc định cho GET
2025-04-15 18:58:17.334095: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:17.579286: current_user: id=1, is_admin=True
2025-04-15 18:58:17.579447: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:17.579543: Trước khi kiểm tra request.method
2025-04-15 18:58:17.579624: Phương thức: GET
2025-04-15 18:58:17.579707: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:17.579976: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:17.580145: Hiển thị template mặc định cho GET
2025-04-15 18:58:17.584410: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:17.641527: current_user: id=1, is_admin=True
2025-04-15 18:58:17.641678: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:17.641818: Trước khi kiểm tra request.method
2025-04-15 18:58:17.642021: Phương thức: GET
2025-04-15 18:58:17.642277: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:17.642601: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:17.642677: Hiển thị template mặc định cho GET
2025-04-15 18:58:17.647158: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:17.890803: current_user: id=1, is_admin=True
2025-04-15 18:58:17.890930: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:17.890997: Trước khi kiểm tra request.method
2025-04-15 18:58:17.891061: Phương thức: GET
2025-04-15 18:58:17.891123: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:17.891387: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:17.891470: Hiển thị template mặc định cho GET
2025-04-15 18:58:17.895807: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:17.968770: current_user: id=1, is_admin=True
2025-04-15 18:58:17.968904: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:17.969076: Trước khi kiểm tra request.method
2025-04-15 18:58:17.969240: Phương thức: GET
2025-04-15 18:58:17.969351: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:17.969582: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:17.969652: Hiển thị template mặc định cho GET
2025-04-15 18:58:17.973986: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:18.203174: current_user: id=1, is_admin=True
2025-04-15 18:58:18.203297: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:18.203361: Trước khi kiểm tra request.method
2025-04-15 18:58:18.203422: Phương thức: GET
2025-04-15 18:58:18.203494: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:18.203752: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:18.203818: Hiển thị template mặc định cho GET
2025-04-15 18:58:18.208126: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:20.621829: current_user: id=1, is_admin=True
2025-04-15 18:58:20.621976: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:20.622134: Trước khi kiểm tra request.method
2025-04-15 18:58:20.622227: Phương thức: GET
2025-04-15 18:58:20.622293: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:20.622572: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:20.622655: Hiển thị template mặc định cho GET
2025-04-15 18:58:20.627402: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:20.937081: current_user: id=1, is_admin=True
2025-04-15 18:58:20.937242: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:20.937475: Trước khi kiểm tra request.method
2025-04-15 18:58:20.937563: Phương thức: GET
2025-04-15 18:58:20.937628: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:20.937868: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:20.938033: Hiển thị template mặc định cho GET
2025-04-15 18:58:20.942305: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:21.251586: current_user: id=1, is_admin=True
2025-04-15 18:58:21.251734: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:21.251854: Trước khi kiểm tra request.method
2025-04-15 18:58:21.251946: Phương thức: GET
2025-04-15 18:58:21.252006: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:21.252248: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:21.252319: Hiển thị template mặc định cho GET
2025-04-15 18:58:21.256675: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:21.517437: current_user: id=1, is_admin=True
2025-04-15 18:58:21.517568: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:21.517679: Trước khi kiểm tra request.method
2025-04-15 18:58:21.517759: Phương thức: GET
2025-04-15 18:58:21.517833: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:21.518083: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:21.518174: Hiển thị template mặc định cho GET
2025-04-15 18:58:21.522568: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:21.563659: current_user: id=1, is_admin=True
2025-04-15 18:58:21.563812: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:21.563911: Trước khi kiểm tra request.method
2025-04-15 18:58:21.563979: Phương thức: GET
2025-04-15 18:58:21.564036: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:21.564253: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:21.564363: Hiển thị template mặc định cho GET
2025-04-15 18:58:21.568932: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:21.829491: current_user: id=1, is_admin=True
2025-04-15 18:58:21.829646: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:21.829762: Trước khi kiểm tra request.method
2025-04-15 18:58:21.829837: Phương thức: GET
2025-04-15 18:58:21.829901: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:21.830199: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:21.830291: Hiển thị template mặc định cho GET
2025-04-15 18:58:21.834910: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:21.875988: current_user: id=1, is_admin=True
2025-04-15 18:58:21.876179: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:21.876269: Trước khi kiểm tra request.method
2025-04-15 18:58:21.876345: Phương thức: GET
2025-04-15 18:58:21.876418: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:21.876654: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:21.876728: Hiển thị template mặc định cho GET
2025-04-15 18:58:21.881173: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:22.143355: current_user: id=1, is_admin=True
2025-04-15 18:58:22.143499: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:22.143591: Trước khi kiểm tra request.method
2025-04-15 18:58:22.143665: Phương thức: GET
2025-04-15 18:58:22.143737: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:22.143961: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:22.144035: Hiển thị template mặc định cho GET
2025-04-15 18:58:22.148430: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:22.189815: current_user: id=1, is_admin=True
2025-04-15 18:58:22.189970: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:22.190078: Trước khi kiểm tra request.method
2025-04-15 18:58:22.190160: Phương thức: GET
2025-04-15 18:58:22.190223: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:22.190572: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:22.190696: Hiển thị template mặc định cho GET
2025-04-15 18:58:22.195974: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:22.455580: current_user: id=1, is_admin=True
2025-04-15 18:58:22.455710: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:22.455801: Trước khi kiểm tra request.method
2025-04-15 18:58:22.455882: Phương thức: GET
2025-04-15 18:58:22.455946: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:22.456158: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:22.456233: Hiển thị template mặc định cho GET
2025-04-15 18:58:22.460598: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:22.516249: current_user: id=1, is_admin=True
2025-04-15 18:58:22.516386: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:22.516507: Trước khi kiểm tra request.method
2025-04-15 18:58:22.516597: Phương thức: GET
2025-04-15 18:58:22.516661: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:22.516890: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:22.516969: Hiển thị template mặc định cho GET
2025-04-15 18:58:22.521368: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:22.779558: current_user: id=1, is_admin=True
2025-04-15 18:58:22.779697: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:22.779844: Trước khi kiểm tra request.method
2025-04-15 18:58:22.779959: Phương thức: GET
2025-04-15 18:58:22.780045: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:22.780322: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:22.780411: Hiển thị template mặc định cho GET
2025-04-15 18:58:22.785027: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:22.840727: current_user: id=1, is_admin=True
2025-04-15 18:58:22.840920: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:22.841043: Trước khi kiểm tra request.method
2025-04-15 18:58:22.841121: Phương thức: GET
2025-04-15 18:58:22.841210: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:22.841525: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:22.841596: Hiển thị template mặc định cho GET
2025-04-15 18:58:22.845944: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:23.103594: current_user: id=1, is_admin=True
2025-04-15 18:58:23.103779: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:23.103908: Trước khi kiểm tra request.method
2025-04-15 18:58:23.104004: Phương thức: GET
2025-04-15 18:58:23.104072: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:23.104356: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:23.104456: Hiển thị template mặc định cho GET
2025-04-15 18:58:23.109476: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:23.167683: current_user: id=1, is_admin=True
2025-04-15 18:58:23.167831: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:23.167924: Trước khi kiểm tra request.method
2025-04-15 18:58:23.168032: Phương thức: GET
2025-04-15 18:58:23.168179: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:23.168516: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:23.168617: Hiển thị template mặc định cho GET
2025-04-15 18:58:23.173081: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:23.417199: current_user: id=1, is_admin=True
2025-04-15 18:58:23.417368: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:23.417469: Trước khi kiểm tra request.method
2025-04-15 18:58:23.417635: Phương thức: GET
2025-04-15 18:58:23.417764: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:23.418090: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:23.418185: Hiển thị template mặc định cho GET
2025-04-15 18:58:23.422733: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:23.479314: current_user: id=1, is_admin=True
2025-04-15 18:58:23.479467: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:23.479566: Trước khi kiểm tra request.method
2025-04-15 18:58:23.479664: Phương thức: GET
2025-04-15 18:58:23.479728: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:23.479960: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:23.480034: Hiển thị template mặc định cho GET
2025-04-15 18:58:23.484652: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:23.742809: current_user: id=1, is_admin=True
2025-04-15 18:58:23.742941: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:23.743084: Trước khi kiểm tra request.method
2025-04-15 18:58:23.743169: Phương thức: GET
2025-04-15 18:58:23.743243: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:23.743457: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:23.743527: Hiển thị template mặc định cho GET
2025-04-15 18:58:23.747981: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:23.806718: current_user: id=1, is_admin=True
2025-04-15 18:58:23.807007: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:23.807124: Trước khi kiểm tra request.method
2025-04-15 18:58:23.807218: Phương thức: GET
2025-04-15 18:58:23.807327: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:23.807606: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:23.807677: Hiển thị template mặc định cho GET
2025-04-15 18:58:23.813146: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:24.056179: current_user: id=1, is_admin=True
2025-04-15 18:58:24.056323: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:24.056420: Trước khi kiểm tra request.method
2025-04-15 18:58:24.056488: Phương thức: GET
2025-04-15 18:58:24.056545: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:24.056758: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:24.056828: Hiển thị template mặc định cho GET
2025-04-15 18:58:24.061167: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:29.098980: current_user: id=1, is_admin=True
2025-04-15 18:58:29.099123: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:29.099217: Trước khi kiểm tra request.method
2025-04-15 18:58:29.099284: Phương thức: GET
2025-04-15 18:58:29.099341: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:29.099554: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:29.099624: Hiển thị template mặc định cho GET
2025-04-15 18:58:29.104073: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:29.402569: current_user: id=1, is_admin=True
2025-04-15 18:58:29.402715: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:29.402799: Trước khi kiểm tra request.method
2025-04-15 18:58:29.402887: Phương thức: GET
2025-04-15 18:58:29.402954: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:29.403182: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:29.403248: Hiển thị template mặc định cho GET
2025-04-15 18:58:29.407605: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:29.715714: current_user: id=1, is_admin=True
2025-04-15 18:58:29.715876: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:29.715956: Trước khi kiểm tra request.method
2025-04-15 18:58:29.716017: Phương thức: GET
2025-04-15 18:58:29.716165: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:29.716441: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:29.716519: Hiển thị template mặc định cho GET
2025-04-15 18:58:29.720855: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:29.980827: current_user: id=1, is_admin=True
2025-04-15 18:58:29.981007: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:29.981093: Trước khi kiểm tra request.method
2025-04-15 18:58:29.981159: Phương thức: GET
2025-04-15 18:58:29.981218: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:29.981477: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:29.981547: Hiển thị template mặc định cho GET
2025-04-15 18:58:29.986490: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:30.027540: current_user: id=1, is_admin=True
2025-04-15 18:58:30.027672: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:30.027835: Trước khi kiểm tra request.method
2025-04-15 18:58:30.027932: Phương thức: GET
2025-04-15 18:58:30.027998: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:30.028218: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:30.028310: Hiển thị template mặc định cho GET
2025-04-15 18:58:30.032632: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:30.294280: current_user: id=1, is_admin=True
2025-04-15 18:58:30.294453: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:30.294526: Trước khi kiểm tra request.method
2025-04-15 18:58:30.294597: Phương thức: GET
2025-04-15 18:58:30.294660: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:30.294995: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:30.295178: Hiển thị template mặc định cho GET
2025-04-15 18:58:30.299703: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:30.341541: current_user: id=1, is_admin=True
2025-04-15 18:58:30.341757: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:30.341891: Trước khi kiểm tra request.method
2025-04-15 18:58:30.341992: Phương thức: GET
2025-04-15 18:58:30.342146: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:30.342408: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:30.342485: Hiển thị template mặc định cho GET
2025-04-15 18:58:30.346978: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:30.608633: current_user: id=1, is_admin=True
2025-04-15 18:58:30.608769: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:30.608904: Trước khi kiểm tra request.method
2025-04-15 18:58:30.608978: Phương thức: GET
2025-04-15 18:58:30.609037: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:30.609243: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:30.609364: Hiển thị template mặc định cho GET
2025-04-15 18:58:30.614172: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:30.655677: current_user: id=1, is_admin=True
2025-04-15 18:58:30.655804: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:30.655873: Trước khi kiểm tra request.method
2025-04-15 18:58:30.655937: Phương thức: GET
2025-04-15 18:58:30.655994: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:30.656261: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:30.656348: Hiển thị template mặc định cho GET
2025-04-15 18:58:30.661752: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:30.935886: current_user: id=1, is_admin=True
2025-04-15 18:58:30.936026: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:30.936105: Trước khi kiểm tra request.method
2025-04-15 18:58:30.936178: Phương thức: GET
2025-04-15 18:58:30.936270: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:30.936600: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:30.936726: Hiển thị template mặc định cho GET
2025-04-15 18:58:30.941509: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:30.981598: current_user: id=1, is_admin=True
2025-04-15 18:58:30.981838: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:30.981922: Trước khi kiểm tra request.method
2025-04-15 18:58:30.981990: Phương thức: GET
2025-04-15 18:58:30.982047: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:30.982286: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:30.982369: Hiển thị template mặc định cho GET
2025-04-15 18:58:30.987054: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:31.264038: current_user: id=1, is_admin=True
2025-04-15 18:58:31.264163: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:31.264246: Trước khi kiểm tra request.method
2025-04-15 18:58:31.264349: Phương thức: GET
2025-04-15 18:58:31.264776: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:31.265131: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:31.265248: Hiển thị template mặc định cho GET
2025-04-15 18:58:31.269405: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:31.295389: current_user: id=1, is_admin=True
2025-04-15 18:58:31.295521: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:31.295613: Trước khi kiểm tra request.method
2025-04-15 18:58:31.295680: Phương thức: GET
2025-04-15 18:58:31.295740: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:31.295949: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:31.296018: Hiển thị template mặc định cho GET
2025-04-15 18:58:31.300341: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:31.589951: current_user: id=1, is_admin=True
2025-04-15 18:58:31.590081: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:31.590251: Trước khi kiểm tra request.method
2025-04-15 18:58:31.590356: Phương thức: GET
2025-04-15 18:58:31.590430: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:31.590639: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:31.590706: Hiển thị template mặc định cho GET
2025-04-15 18:58:31.595075: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:31.621503: current_user: id=1, is_admin=True
2025-04-15 18:58:31.621636: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:31.621781: Trước khi kiểm tra request.method
2025-04-15 18:58:31.621870: Phương thức: GET
2025-04-15 18:58:31.621936: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:31.622195: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:31.622271: Hiển thị template mặc định cho GET
2025-04-15 18:58:31.626743: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:31.916371: current_user: id=1, is_admin=True
2025-04-15 18:58:31.916503: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:31.916571: Trước khi kiểm tra request.method
2025-04-15 18:58:31.916639: Phương thức: GET
2025-04-15 18:58:31.916695: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:31.916923: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:31.917011: Hiển thị template mặc định cho GET
2025-04-15 18:58:31.921378: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:31.946499: current_user: id=1, is_admin=True
2025-04-15 18:58:31.946650: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:31.946783: Trước khi kiểm tra request.method
2025-04-15 18:58:31.946874: Phương thức: GET
2025-04-15 18:58:31.946956: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:31.947198: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:31.947281: Hiển thị template mặc định cho GET
2025-04-15 18:58:31.952533: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:32.227470: current_user: id=1, is_admin=True
2025-04-15 18:58:32.227610: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:32.227740: Trước khi kiểm tra request.method
2025-04-15 18:58:32.227820: Phương thức: GET
2025-04-15 18:58:32.227882: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:32.228123: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:32.228192: Hiển thị template mặc định cho GET
2025-04-15 18:58:32.232524: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:32.274484: current_user: id=1, is_admin=True
2025-04-15 18:58:32.274623: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:32.274696: Trước khi kiểm tra request.method
2025-04-15 18:58:32.274768: Phương thức: GET
2025-04-15 18:58:32.274827: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:32.275060: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:32.275133: Hiển thị template mặc định cho GET
2025-04-15 18:58:32.279563: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:58:32.539725: current_user: id=1, is_admin=True
2025-04-15 18:58:32.539848: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:58:32.539909: Trước khi kiểm tra request.method
2025-04-15 18:58:32.539987: Phương thức: GET
2025-04-15 18:58:32.540058: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:58:32.540296: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:58:32.540363: Hiển thị template mặc định cho GET
2025-04-15 18:58:32.544474: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 18:59:02.572034: current_user: id=1, is_admin=True
2025-04-15 18:59:02.572181: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 18:59:02.572301: Trước khi kiểm tra request.method
2025-04-15 18:59:02.572373: Phương thức: GET
2025-04-15 18:59:02.572445: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 18:59:02.572690: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 18:59:02.572765: Hiển thị template mặc định cho GET
2025-04-15 19:00:26.098570: current_user: id=1, is_admin=True
2025-04-15 19:00:26.098972: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:26.099104: Trước khi kiểm tra request.method
2025-04-15 19:00:26.099210: Phương thức: GET
2025-04-15 19:00:26.099281: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:26.099765: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:26.099848: Hiển thị template mặc định cho GET
2025-04-15 19:00:26.106638: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:26.114983: current_user: id=1, is_admin=True
2025-04-15 19:00:26.115122: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:26.115244: Trước khi kiểm tra request.method
2025-04-15 19:00:26.115339: Phương thức: GET
2025-04-15 19:00:26.115407: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:26.115736: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:26.115831: Hiển thị template mặc định cho GET
2025-04-15 19:00:26.120619: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:26.352101: current_user: id=1, is_admin=True
2025-04-15 19:00:26.352258: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:26.352347: Trước khi kiểm tra request.method
2025-04-15 19:00:26.352434: Phương thức: GET
2025-04-15 19:00:26.352578: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:26.352857: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:26.352932: Hiển thị template mặc định cho GET
2025-04-15 19:00:26.357359: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:26.667193: current_user: id=1, is_admin=True
2025-04-15 19:00:26.667383: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:26.667489: Trước khi kiểm tra request.method
2025-04-15 19:00:26.667563: Phương thức: GET
2025-04-15 19:00:26.667633: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:26.667866: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:26.667983: Hiển thị template mặc định cho GET
2025-04-15 19:00:26.672410: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:26.932278: current_user: id=1, is_admin=True
2025-04-15 19:00:26.932438: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:26.932553: Trước khi kiểm tra request.method
2025-04-15 19:00:26.932622: Phương thức: GET
2025-04-15 19:00:26.932743: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:26.933018: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:26.933097: Hiển thị template mặc định cho GET
2025-04-15 19:00:26.937550: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:26.979746: current_user: id=1, is_admin=True
2025-04-15 19:00:26.979961: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:26.980112: Trước khi kiểm tra request.method
2025-04-15 19:00:26.980212: Phương thức: GET
2025-04-15 19:00:26.980301: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:26.980587: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:26.980671: Hiển thị template mặc định cho GET
2025-04-15 19:00:26.985645: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:27.244864: current_user: id=1, is_admin=True
2025-04-15 19:00:27.245005: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:27.245123: Trước khi kiểm tra request.method
2025-04-15 19:00:27.245226: Phương thức: GET
2025-04-15 19:00:27.245293: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:27.245535: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:27.245615: Hiển thị template mặc định cho GET
2025-04-15 19:00:27.249952: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:27.305858: current_user: id=1, is_admin=True
2025-04-15 19:00:27.306043: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:27.306205: Trước khi kiểm tra request.method
2025-04-15 19:00:27.306324: Phương thức: GET
2025-04-15 19:00:27.306414: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:27.306664: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:27.306741: Hiển thị template mặc định cho GET
2025-04-15 19:00:27.311101: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:27.556995: current_user: id=1, is_admin=True
2025-04-15 19:00:27.557135: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:27.557245: Trước khi kiểm tra request.method
2025-04-15 19:00:27.557341: Phương thức: GET
2025-04-15 19:00:27.557434: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:27.557683: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:27.557754: Hiển thị template mặc định cho GET
2025-04-15 19:00:27.561963: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:27.618399: current_user: id=1, is_admin=True
2025-04-15 19:00:27.618571: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:27.618687: Trước khi kiểm tra request.method
2025-04-15 19:00:27.618766: Phương thức: GET
2025-04-15 19:00:27.618833: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:27.619068: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:27.619148: Hiển thị template mặc định cho GET
2025-04-15 19:00:27.623491: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:27.883356: current_user: id=1, is_admin=True
2025-04-15 19:00:27.883510: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:27.883603: Trước khi kiểm tra request.method
2025-04-15 19:00:27.883672: Phương thức: GET
2025-04-15 19:00:27.883739: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:27.884017: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:27.884133: Hiển thị template mặc định cho GET
2025-04-15 19:00:27.888962: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:27.931007: current_user: id=1, is_admin=True
2025-04-15 19:00:27.931182: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:27.931267: Trước khi kiểm tra request.method
2025-04-15 19:00:27.931373: Phương thức: GET
2025-04-15 19:00:27.931495: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:27.931760: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:27.931847: Hiển thị template mặc định cho GET
2025-04-15 19:00:27.936252: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:28.196312: current_user: id=1, is_admin=True
2025-04-15 19:00:28.196448: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:28.196547: Trước khi kiểm tra request.method
2025-04-15 19:00:28.196615: Phương thức: GET
2025-04-15 19:00:28.196675: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:28.196878: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:28.196993: Hiển thị template mặc định cho GET
2025-04-15 19:00:28.201254: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:28.242079: current_user: id=1, is_admin=True
2025-04-15 19:00:28.242277: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:28.242399: Trước khi kiểm tra request.method
2025-04-15 19:00:28.242509: Phương thức: GET
2025-04-15 19:00:28.242621: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:28.242951: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:28.243036: Hiển thị template mặc định cho GET
2025-04-15 19:00:28.247452: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:28.522023: current_user: id=1, is_admin=True
2025-04-15 19:00:28.522164: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:28.522260: Trước khi kiểm tra request.method
2025-04-15 19:00:28.522333: Phương thức: GET
2025-04-15 19:00:28.522393: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:28.522615: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:28.522684: Hiển thị template mặc định cho GET
2025-04-15 19:00:28.527000: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:28.568289: current_user: id=1, is_admin=True
2025-04-15 19:00:28.568440: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:28.568513: Trước khi kiểm tra request.method
2025-04-15 19:00:28.568598: Phương thức: GET
2025-04-15 19:00:28.568660: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:28.568896: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:28.568965: Hiển thị template mặc định cho GET
2025-04-15 19:00:28.573940: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:28.834583: current_user: id=1, is_admin=True
2025-04-15 19:00:28.834752: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:28.834824: Trước khi kiểm tra request.method
2025-04-15 19:00:28.834958: Phương thức: GET
2025-04-15 19:00:28.835062: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:28.835300: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:28.835385: Hiển thị template mặc định cho GET
2025-04-15 19:00:28.839731: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:28.880409: current_user: id=1, is_admin=True
2025-04-15 19:00:28.880575: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:28.880653: Trước khi kiểm tra request.method
2025-04-15 19:00:28.880723: Phương thức: GET
2025-04-15 19:00:28.880782: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:28.881029: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:28.881102: Hiển thị template mặc định cho GET
2025-04-15 19:00:28.885556: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:29.147622: current_user: id=1, is_admin=True
2025-04-15 19:00:29.147775: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:29.147936: Trước khi kiểm tra request.method
2025-04-15 19:00:29.148053: Phương thức: GET
2025-04-15 19:00:29.148148: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:29.148377: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:29.148460: Hiển thị template mặc định cho GET
2025-04-15 19:00:29.152965: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:29.193253: current_user: id=1, is_admin=True
2025-04-15 19:00:29.193396: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:29.193545: Trước khi kiểm tra request.method
2025-04-15 19:00:29.193634: Phương thức: GET
2025-04-15 19:00:29.193700: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:29.193928: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:29.194007: Hiển thị template mặc định cho GET
2025-04-15 19:00:29.198731: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:30.229735: current_user: id=1, is_admin=True
2025-04-15 19:00:30.229869: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:30.229955: Trước khi kiểm tra request.method
2025-04-15 19:00:30.230068: Phương thức: GET
2025-04-15 19:00:30.230132: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:30.230349: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:30.230417: Hiển thị template mặc định cho GET
2025-04-15 19:00:30.235428: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:30.532153: current_user: id=1, is_admin=True
2025-04-15 19:00:30.532285: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:30.532375: Trước khi kiểm tra request.method
2025-04-15 19:00:30.532442: Phương thức: GET
2025-04-15 19:00:30.532501: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:30.532713: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:30.532785: Hiển thị template mặc định cho GET
2025-04-15 19:00:30.537185: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:30.843820: current_user: id=1, is_admin=True
2025-04-15 19:00:30.843970: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:30.844058: Trước khi kiểm tra request.method
2025-04-15 19:00:30.844125: Phương thức: GET
2025-04-15 19:00:30.844214: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:30.844419: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:30.844492: Hiển thị template mặc định cho GET
2025-04-15 19:00:30.848818: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:31.111116: current_user: id=1, is_admin=True
2025-04-15 19:00:31.111248: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:31.111341: Trước khi kiểm tra request.method
2025-04-15 19:00:31.111444: Phương thức: GET
2025-04-15 19:00:31.111507: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:31.111726: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:31.111812: Hiển thị template mặc định cho GET
2025-04-15 19:00:31.116120: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:31.157389: current_user: id=1, is_admin=True
2025-04-15 19:00:31.157529: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:31.157604: Trước khi kiểm tra request.method
2025-04-15 19:00:31.157692: Phương thức: GET
2025-04-15 19:00:31.157753: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:31.157980: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:31.158062: Hiển thị template mặc định cho GET
2025-04-15 19:00:31.162489: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:31.436899: current_user: id=1, is_admin=True
2025-04-15 19:00:31.437144: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:31.437262: Trước khi kiểm tra request.method
2025-04-15 19:00:31.437343: Phương thức: GET
2025-04-15 19:00:31.437406: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:31.437645: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:31.437718: Hiển thị template mặc định cho GET
2025-04-15 19:00:31.442673: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:31.482351: current_user: id=1, is_admin=True
2025-04-15 19:00:31.482493: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:31.482571: Trước khi kiểm tra request.method
2025-04-15 19:00:31.482643: Phương thức: GET
2025-04-15 19:00:31.482703: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:31.482949: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:31.483061: Hiển thị template mặc định cho GET
2025-04-15 19:00:31.487563: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:31.764161: current_user: id=1, is_admin=True
2025-04-15 19:00:31.764365: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:31.764479: Trước khi kiểm tra request.method
2025-04-15 19:00:31.764678: Phương thức: GET
2025-04-15 19:00:31.764788: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:31.765106: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:31.765183: Hiển thị template mặc định cho GET
2025-04-15 19:00:31.769287: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:31.795511: current_user: id=1, is_admin=True
2025-04-15 19:00:31.795660: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:31.795728: Trước khi kiểm tra request.method
2025-04-15 19:00:31.795790: Phương thức: GET
2025-04-15 19:00:31.795869: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:31.796119: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:31.796191: Hiển thị template mặc định cho GET
2025-04-15 19:00:31.800801: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:32.091289: current_user: id=1, is_admin=True
2025-04-15 19:00:32.091414: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:32.091480: Trước khi kiểm tra request.method
2025-04-15 19:00:32.091542: Phương thức: GET
2025-04-15 19:00:32.091600: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:32.091803: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:32.091872: Hiển thị template mặc định cho GET
2025-04-15 19:00:32.095955: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:32.113907: current_user: id=1, is_admin=True
2025-04-15 19:00:32.114058: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:32.114145: Trước khi kiểm tra request.method
2025-04-15 19:00:32.114213: Phương thức: GET
2025-04-15 19:00:32.114274: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:32.114504: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:32.114573: Hiển thị template mặc định cho GET
2025-04-15 19:00:32.119452: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:32.404585: current_user: id=1, is_admin=True
2025-04-15 19:00:32.404774: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:32.404886: Trước khi kiểm tra request.method
2025-04-15 19:00:32.404984: Phương thức: GET
2025-04-15 19:00:32.405068: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:32.405343: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:32.405437: Hiển thị template mặc định cho GET
2025-04-15 19:00:32.411493: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:32.436402: current_user: id=1, is_admin=True
2025-04-15 19:00:32.436629: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:32.436772: Trước khi kiểm tra request.method
2025-04-15 19:00:32.436870: Phương thức: GET
2025-04-15 19:00:32.436958: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:32.437358: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:32.437478: Hiển thị template mặc định cho GET
2025-04-15 19:00:32.443162: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:32.730979: current_user: id=1, is_admin=True
2025-04-15 19:00:32.731091: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:32.731151: Trước khi kiểm tra request.method
2025-04-15 19:00:32.731208: Phương thức: GET
2025-04-15 19:00:32.731263: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:32.731525: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:32.731604: Hiển thị template mặc định cho GET
2025-04-15 19:00:32.735734: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:32.761489: current_user: id=1, is_admin=True
2025-04-15 19:00:32.761620: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:32.761752: Trước khi kiểm tra request.method
2025-04-15 19:00:32.761862: Phương thức: GET
2025-04-15 19:00:32.761935: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:32.762148: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:32.762219: Hiển thị template mặc định cho GET
2025-04-15 19:00:32.766524: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:33.056627: current_user: id=1, is_admin=True
2025-04-15 19:00:33.056751: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:33.056815: Trước khi kiểm tra request.method
2025-04-15 19:00:33.056897: Phương thức: GET
2025-04-15 19:00:33.056958: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:33.057285: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:33.057364: Hiển thị template mặc định cho GET
2025-04-15 19:00:33.061856: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:33.087451: current_user: id=1, is_admin=True
2025-04-15 19:00:33.087584: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:33.087673: Trước khi kiểm tra request.method
2025-04-15 19:00:33.087739: Phương thức: GET
2025-04-15 19:00:33.087798: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:33.088008: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:33.088076: Hiển thị template mặc định cho GET
2025-04-15 19:00:33.092433: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:33.369002: current_user: id=1, is_admin=True
2025-04-15 19:00:33.369119: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:33.369183: Trước khi kiểm tra request.method
2025-04-15 19:00:33.369276: Phương thức: GET
2025-04-15 19:00:33.369337: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:33.369498: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:33.369565: Hiển thị template mặc định cho GET
2025-04-15 19:00:33.373579: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:33.399396: current_user: id=1, is_admin=True
2025-04-15 19:00:33.399529: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:33.399596: Trước khi kiểm tra request.method
2025-04-15 19:00:33.399711: Phương thức: GET
2025-04-15 19:00:33.399794: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:33.400013: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:33.400126: Hiển thị template mặc định cho GET
2025-04-15 19:00:33.404471: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:33.680326: current_user: id=1, is_admin=True
2025-04-15 19:00:33.680470: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:33.680610: Trước khi kiểm tra request.method
2025-04-15 19:00:33.680695: Phương thức: GET
2025-04-15 19:00:33.680759: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:33.680981: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:33.681051: Hiển thị template mặc định cho GET
2025-04-15 19:00:33.685425: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:38.703030: current_user: id=1, is_admin=True
2025-04-15 19:00:38.703199: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:38.703316: Trước khi kiểm tra request.method
2025-04-15 19:00:38.703390: Phương thức: GET
2025-04-15 19:00:38.703453: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:38.703674: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:38.703743: Hiển thị template mặc định cho GET
2025-04-15 19:00:38.708887: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:39.008434: current_user: id=1, is_admin=True
2025-04-15 19:00:39.008594: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:39.008680: Trước khi kiểm tra request.method
2025-04-15 19:00:39.008828: Phương thức: GET
2025-04-15 19:00:39.008928: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:39.009155: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:39.009224: Hiển thị template mặc định cho GET
2025-04-15 19:00:39.013594: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:39.322744: current_user: id=1, is_admin=True
2025-04-15 19:00:39.322905: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:39.322991: Trước khi kiểm tra request.method
2025-04-15 19:00:39.323058: Phương thức: GET
2025-04-15 19:00:39.323117: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:39.323363: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:39.323479: Hiển thị template mặc định cho GET
2025-04-15 19:00:39.327857: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:39.588737: current_user: id=1, is_admin=True
2025-04-15 19:00:39.588928: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:39.589002: Trước khi kiểm tra request.method
2025-04-15 19:00:39.589084: Phương thức: GET
2025-04-15 19:00:39.589142: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:39.589391: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:39.589505: Hiển thị template mặc định cho GET
2025-04-15 19:00:39.593961: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:39.635582: current_user: id=1, is_admin=True
2025-04-15 19:00:39.635724: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:39.635796: Trước khi kiểm tra request.method
2025-04-15 19:00:39.635864: Phương thức: GET
2025-04-15 19:00:39.635922: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:39.636173: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:39.636249: Hiển thị template mặc định cho GET
2025-04-15 19:00:39.640696: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:39.902181: current_user: id=1, is_admin=True
2025-04-15 19:00:39.902311: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:39.902402: Trước khi kiểm tra request.method
2025-04-15 19:00:39.902489: Phương thức: GET
2025-04-15 19:00:39.902550: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:39.902792: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:39.902864: Hiển thị template mặc định cho GET
2025-04-15 19:00:39.907137: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:39.948462: current_user: id=1, is_admin=True
2025-04-15 19:00:39.948608: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:39.948752: Trước khi kiểm tra request.method
2025-04-15 19:00:39.948834: Phương thức: GET
2025-04-15 19:00:39.948940: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:39.949185: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:39.949274: Hiển thị template mặc định cho GET
2025-04-15 19:00:39.953785: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:40.226671: current_user: id=1, is_admin=True
2025-04-15 19:00:40.226931: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:40.227064: Trước khi kiểm tra request.method
2025-04-15 19:00:40.227197: Phương thức: GET
2025-04-15 19:00:40.227305: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:40.227639: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:40.227719: Hiển thị template mặc định cho GET
2025-04-15 19:00:40.232571: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:40.272947: current_user: id=1, is_admin=True
2025-04-15 19:00:40.273089: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:40.273178: Trước khi kiểm tra request.method
2025-04-15 19:00:40.273271: Phương thức: GET
2025-04-15 19:00:40.273334: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:40.273611: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:40.273687: Hiển thị template mặc định cho GET
2025-04-15 19:00:40.278179: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:40.552419: current_user: id=1, is_admin=True
2025-04-15 19:00:40.552561: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:40.552658: Trước khi kiểm tra request.method
2025-04-15 19:00:40.552727: Phương thức: GET
2025-04-15 19:00:40.552787: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:40.552990: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:40.553062: Hiển thị template mặc định cho GET
2025-04-15 19:00:40.557521: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:40.599308: current_user: id=1, is_admin=True
2025-04-15 19:00:40.599454: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:40.599547: Trước khi kiểm tra request.method
2025-04-15 19:00:40.599622: Phương thức: GET
2025-04-15 19:00:40.599680: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:40.599900: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:40.599965: Hiển thị template mặc định cho GET
2025-04-15 19:00:40.604324: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:40.877969: current_user: id=1, is_admin=True
2025-04-15 19:00:40.878095: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:40.878198: Trước khi kiểm tra request.method
2025-04-15 19:00:40.878269: Phương thức: GET
2025-04-15 19:00:40.878330: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:40.878530: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:40.878598: Hiển thị template mặc định cho GET
2025-04-15 19:00:40.882878: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:40.914217: current_user: id=1, is_admin=True
2025-04-15 19:00:40.914366: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:40.914471: Trước khi kiểm tra request.method
2025-04-15 19:00:40.914539: Phương thức: GET
2025-04-15 19:00:40.914600: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:40.914829: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:40.914897: Hiển thị template mặc định cho GET
2025-04-15 19:00:40.919194: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:41.189369: current_user: id=1, is_admin=True
2025-04-15 19:00:41.189497: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:41.189566: Trước khi kiểm tra request.method
2025-04-15 19:00:41.189630: Phương thức: GET
2025-04-15 19:00:41.189820: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:41.190068: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:41.190163: Hiển thị template mặc định cho GET
2025-04-15 19:00:41.194344: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:41.236559: current_user: id=1, is_admin=True
2025-04-15 19:00:41.236702: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:41.236793: Trước khi kiểm tra request.method
2025-04-15 19:00:41.236865: Phương thức: GET
2025-04-15 19:00:41.236926: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:41.237141: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:41.237225: Hiển thị template mặc định cho GET
2025-04-15 19:00:41.241956: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:41.501538: current_user: id=1, is_admin=True
2025-04-15 19:00:41.501685: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:41.501771: Trước khi kiểm tra request.method
2025-04-15 19:00:41.501864: Phương thức: GET
2025-04-15 19:00:41.501927: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:41.502163: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:41.502237: Hiển thị template mặc định cho GET
2025-04-15 19:00:41.506555: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:41.549137: current_user: id=1, is_admin=True
2025-04-15 19:00:41.549276: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:41.549373: Trước khi kiểm tra request.method
2025-04-15 19:00:41.549442: Phương thức: GET
2025-04-15 19:00:41.549502: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:41.549733: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:41.549803: Hiển thị template mặc định cho GET
2025-04-15 19:00:41.554253: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:41.824178: current_user: id=1, is_admin=True
2025-04-15 19:00:41.824322: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:41.824396: Trước khi kiểm tra request.method
2025-04-15 19:00:41.824461: Phương thức: GET
2025-04-15 19:00:41.824519: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:41.824786: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:41.824856: Hiển thị template mặc định cho GET
2025-04-15 19:00:41.829185: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:41.871875: current_user: id=1, is_admin=True
2025-04-15 19:00:41.872017: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:41.872102: Trước khi kiểm tra request.method
2025-04-15 19:00:41.872227: Phương thức: GET
2025-04-15 19:00:41.872316: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:41.872543: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:41.872613: Hiển thị template mặc định cho GET
2025-04-15 19:00:41.877080: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:00:42.139085: current_user: id=1, is_admin=True
2025-04-15 19:00:42.139211: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:00:42.139358: Trước khi kiểm tra request.method
2025-04-15 19:00:42.139468: Phương thức: GET
2025-04-15 19:00:42.139535: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:00:42.139745: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:00:42.139812: Hiển thị template mặc định cho GET
2025-04-15 19:00:42.144085: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:12.165368: current_user: id=1, is_admin=True
2025-04-15 19:01:12.165548: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:12.165691: Trước khi kiểm tra request.method
2025-04-15 19:01:12.165782: Phương thức: GET
2025-04-15 19:01:12.165848: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:12.166092: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:12.166164: Hiển thị template mặc định cho GET
2025-04-15 19:01:12.171251: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:12.481874: current_user: id=1, is_admin=True
2025-04-15 19:01:12.482075: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:12.482166: Trước khi kiểm tra request.method
2025-04-15 19:01:12.482229: Phương thức: GET
2025-04-15 19:01:12.482288: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:12.482520: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:12.482637: Hiển thị template mặc định cho GET
2025-04-15 19:01:12.487632: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:12.808475: current_user: id=1, is_admin=True
2025-04-15 19:01:12.808618: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:12.808762: Trước khi kiểm tra request.method
2025-04-15 19:01:12.808878: Phương thức: GET
2025-04-15 19:01:12.808955: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:12.809189: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:12.809265: Hiển thị template mặc định cho GET
2025-04-15 19:01:12.814683: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:13.059813: current_user: id=1, is_admin=True
2025-04-15 19:01:13.059962: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:13.060098: Trước khi kiểm tra request.method
2025-04-15 19:01:13.060195: Phương thức: GET
2025-04-15 19:01:13.060280: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:13.060519: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:13.060609: Hiển thị template mặc định cho GET
2025-04-15 19:01:13.065594: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:13.122333: current_user: id=1, is_admin=True
2025-04-15 19:01:13.122499: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:13.122653: Trước khi kiểm tra request.method
2025-04-15 19:01:13.122765: Phương thức: GET
2025-04-15 19:01:13.122869: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:13.123107: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:13.123186: Hiển thị template mặc định cho GET
2025-04-15 19:01:13.128388: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:13.373077: current_user: id=1, is_admin=True
2025-04-15 19:01:13.373216: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:13.373356: Trước khi kiểm tra request.method
2025-04-15 19:01:13.373445: Phương thức: GET
2025-04-15 19:01:13.373512: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:13.373731: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:13.373807: Hiển thị template mặc định cho GET
2025-04-15 19:01:13.378424: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:13.436627: current_user: id=1, is_admin=True
2025-04-15 19:01:13.436781: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:13.436855: Trước khi kiểm tra request.method
2025-04-15 19:01:13.436941: Phương thức: GET
2025-04-15 19:01:13.437071: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:13.437329: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:13.437461: Hiển thị template mặc định cho GET
2025-04-15 19:01:13.442168: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:13.685572: current_user: id=1, is_admin=True
2025-04-15 19:01:13.685703: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:13.685783: Trước khi kiểm tra request.method
2025-04-15 19:01:13.685861: Phương thức: GET
2025-04-15 19:01:13.685924: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:13.686229: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:13.686302: Hiển thị template mặc định cho GET
2025-04-15 19:01:13.691038: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:13.763833: current_user: id=1, is_admin=True
2025-04-15 19:01:13.764027: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:13.764140: Trước khi kiểm tra request.method
2025-04-15 19:01:13.764285: Phương thức: GET
2025-04-15 19:01:13.764385: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:13.764697: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:13.764775: Hiển thị template mặc định cho GET
2025-04-15 19:01:13.769156: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:14.011783: current_user: id=1, is_admin=True
2025-04-15 19:01:14.011913: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:14.012023: Trước khi kiểm tra request.method
2025-04-15 19:01:14.012092: Phương thức: GET
2025-04-15 19:01:14.012149: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:14.012359: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:14.012545: Hiển thị template mặc định cho GET
2025-04-15 19:01:14.017626: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:14.089825: current_user: id=1, is_admin=True
2025-04-15 19:01:14.089962: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:14.090069: Trước khi kiểm tra request.method
2025-04-15 19:01:14.090194: Phương thức: GET
2025-04-15 19:01:14.090334: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:14.090722: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:14.090803: Hiển thị template mặc định cho GET
2025-04-15 19:01:14.095313: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:14.337564: current_user: id=1, is_admin=True
2025-04-15 19:01:14.337710: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:14.337799: Trước khi kiểm tra request.method
2025-04-15 19:01:14.337869: Phương thức: GET
2025-04-15 19:01:14.337928: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:14.338140: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:14.338212: Hiển thị template mặc định cho GET
2025-04-15 19:01:14.342698: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:14.415552: current_user: id=1, is_admin=True
2025-04-15 19:01:14.415679: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:14.415751: Trước khi kiểm tra request.method
2025-04-15 19:01:14.415818: Phương thức: GET
2025-04-15 19:01:14.415878: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:14.416137: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:14.416230: Hiển thị template mặc định cho GET
2025-04-15 19:01:14.420852: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:14.651544: current_user: id=1, is_admin=True
2025-04-15 19:01:14.651699: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:14.651779: Trước khi kiểm tra request.method
2025-04-15 19:01:14.651862: Phương thức: GET
2025-04-15 19:01:14.651924: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:14.652145: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:14.652215: Hiển thị template mặc định cho GET
2025-04-15 19:01:14.657207: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:14.728706: current_user: id=1, is_admin=True
2025-04-15 19:01:14.728857: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:14.728958: Trước khi kiểm tra request.method
2025-04-15 19:01:14.729029: Phương thức: GET
2025-04-15 19:01:14.729127: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:14.729435: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:14.729576: Hiển thị template mặc định cho GET
2025-04-15 19:01:14.734621: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:14.977352: current_user: id=1, is_admin=True
2025-04-15 19:01:14.977505: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:14.977605: Trước khi kiểm tra request.method
2025-04-15 19:01:14.977671: Phương thức: GET
2025-04-15 19:01:14.977728: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:14.977957: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:14.978022: Hiển thị template mặc định cho GET
2025-04-15 19:01:14.982639: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:15.042347: current_user: id=1, is_admin=True
2025-04-15 19:01:15.042531: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:15.042710: Trước khi kiểm tra request.method
2025-04-15 19:01:15.042828: Phương thức: GET
2025-04-15 19:01:15.042925: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:15.043207: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:15.043281: Hiển thị template mặc định cho GET
2025-04-15 19:01:15.047644: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:15.293006: current_user: id=1, is_admin=True
2025-04-15 19:01:15.293159: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:15.293324: Trước khi kiểm tra request.method
2025-04-15 19:01:15.293436: Phương thức: GET
2025-04-15 19:01:15.293508: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:15.293750: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:15.293835: Hiển thị template mặc định cho GET
2025-04-15 19:01:15.298297: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:15.365246: current_user: id=1, is_admin=True
2025-04-15 19:01:15.365378: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:15.365471: Trước khi kiểm tra request.method
2025-04-15 19:01:15.365553: Phương thức: GET
2025-04-15 19:01:15.365614: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:15.365862: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:15.365991: Hiển thị template mặc định cho GET
2025-04-15 19:01:15.370911: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:15.614584: current_user: id=1, is_admin=True
2025-04-15 19:01:15.614745: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:15.614836: Trước khi kiểm tra request.method
2025-04-15 19:01:15.614910: Phương thức: GET
2025-04-15 19:01:15.614969: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:15.615204: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:15.615270: Hiển thị template mặc định cho GET
2025-04-15 19:01:15.620327: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:31.452401: current_user: id=1, is_admin=True
2025-04-15 19:01:31.452580: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:01:31.452684: Trước khi kiểm tra request.method
2025-04-15 19:01:31.452749: Phương thức: GET
2025-04-15 19:01:31.452824: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:01:31.453283: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:01:31.453391: Hiển thị template mặc định cho GET
2025-04-15 19:01:31.459814: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:01:31.466805: ERROR: Lỗi trong admin_required: No filter named 'format_currency'.
2025-04-15 19:02:00.586673: current_user: id=1, is_admin=True
2025-04-15 19:02:00.586842: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:02:00.586932: Trước khi kiểm tra request.method
2025-04-15 19:02:00.586999: Phương thức: GET
2025-04-15 19:02:00.587117: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:02:00.587478: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:02:00.587577: Hiển thị template mặc định cho GET
2025-04-15 19:02:02.716522: current_user: id=1, is_admin=True
2025-04-15 19:02:02.716709: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:02:02.716842: Trước khi kiểm tra request.method
2025-04-15 19:02:02.716947: Phương thức: GET
2025-04-15 19:02:02.717030: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:02:02.717271: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:02:02.717347: Hiển thị template mặc định cho GET
2025-04-15 19:02:06.536217: current_user: id=1, is_admin=True
2025-04-15 19:02:06.536371: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:02:06.536443: Trước khi kiểm tra request.method
2025-04-15 19:02:06.536512: Phương thức: POST
2025-04-15 19:02:06.536596: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:02:06.536821: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:02:06.536891: Trước khi lấy date_str
2025-04-15 19:02:06.537690: Nhận được date_str: 2025-04-15
2025-04-15 19:02:06.537779: Trước khi chuyển đổi ngày
2025-04-15 19:02:06.539308: Đã chuyển đổi date: 2025-04-15
2025-04-15 19:02:06.539428: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-15 19:02:06.541733: Tìm thấy 19 đơn hàng
2025-04-15 19:02:06.541835: Xử lý đơn hàng: 6
2025-04-15 19:02:06.541919: Trước khi lấy bàn cho đơn hàng 6
2025-04-15 19:02:06.543510: Table cho đơn hàng 6: <Table 1>
2025-04-15 19:02:06.545451: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.545553: Xử lý mục: order_id=6, item_id=6
2025-04-15 19:02:06.545640: Trước khi lấy món với ID 6
2025-04-15 19:02:06.546712: menu_item: <Item 6>
2025-04-15 19:02:06.546796: Trước khi lấy giá cho món 6
2025-04-15 19:02:06.548341: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:06.548429: Xử lý mục: order_id=6, item_id=7
2025-04-15 19:02:06.548500: Trước khi lấy món với ID 7
2025-04-15 19:02:06.548935: menu_item: <Item 7>
2025-04-15 19:02:06.549012: Trước khi lấy giá cho món 7
2025-04-15 19:02:06.549542: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:02:06.549639: Xử lý mục: order_id=6, item_id=8
2025-04-15 19:02:06.549734: Trước khi lấy món với ID 8
2025-04-15 19:02:06.550330: menu_item: <Item 8>
2025-04-15 19:02:06.550414: Trước khi lấy giá cho món 8
2025-04-15 19:02:06.550949: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:02:06.551052: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:06.551158: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 52000.0}
2025-04-15 19:02:06.551270: Thêm hóa đơn: order_id=6
2025-04-15 19:02:06.551354: Xử lý đơn hàng: 7
2025-04-15 19:02:06.551424: Trước khi lấy bàn cho đơn hàng 7
2025-04-15 19:02:06.551943: Table cho đơn hàng 7: <Table 2>
2025-04-15 19:02:06.552466: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.552546: Xử lý mục: order_id=7, item_id=6
2025-04-15 19:02:06.552606: Trước khi lấy món với ID 6
2025-04-15 19:02:06.553073: menu_item: <Item 6>
2025-04-15 19:02:06.553176: Trước khi lấy giá cho món 6
2025-04-15 19:02:06.553624: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:06.553702: Xử lý mục: order_id=7, item_id=7
2025-04-15 19:02:06.553804: Trước khi lấy món với ID 7
2025-04-15 19:02:06.554252: menu_item: <Item 7>
2025-04-15 19:02:06.554333: Trước khi lấy giá cho món 7
2025-04-15 19:02:06.554764: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:02:06.554840: Xử lý mục: order_id=7, item_id=14
2025-04-15 19:02:06.554919: Trước khi lấy món với ID 14
2025-04-15 19:02:06.555310: menu_item: <Item 14>
2025-04-15 19:02:06.555384: Trước khi lấy giá cho món 14
2025-04-15 19:02:06.555789: price_at_order: None
2025-04-15 19:02:06.555904: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-15 19:02:06.556027: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Mì Cay', 'count': 2.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.556170: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Mì Cay', 'count': 2.0, 'price': 0, 'total': 0.0}], 'total_amount': 122000.0}
2025-04-15 19:02:06.556280: Thêm hóa đơn: order_id=7
2025-04-15 19:02:06.556366: Xử lý đơn hàng: 8
2025-04-15 19:02:06.556434: Trước khi lấy bàn cho đơn hàng 8
2025-04-15 19:02:06.557040: Table cho đơn hàng 8: <Table 1>
2025-04-15 19:02:06.557487: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.557581: Xử lý mục: order_id=8, item_id=5
2025-04-15 19:02:06.557644: Trước khi lấy món với ID 5
2025-04-15 19:02:06.558083: menu_item: <Item 5>
2025-04-15 19:02:06.558156: Trước khi lấy giá cho món 5
2025-04-15 19:02:06.558646: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:06.558728: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:06.558851: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}
2025-04-15 19:02:06.558938: Thêm hóa đơn: order_id=8
2025-04-15 19:02:06.559004: Xử lý đơn hàng: 9
2025-04-15 19:02:06.559067: Trước khi lấy bàn cho đơn hàng 9
2025-04-15 19:02:06.559493: Table cho đơn hàng 9: <Table 2>
2025-04-15 19:02:06.559864: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.559943: Xử lý mục: order_id=9, item_id=5
2025-04-15 19:02:06.560008: Trước khi lấy món với ID 5
2025-04-15 19:02:06.560150: menu_item: <Item 5>
2025-04-15 19:02:06.560234: Trước khi lấy giá cho món 5
2025-04-15 19:02:06.560674: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:06.560752: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:06.560826: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}
2025-04-15 19:02:06.560905: Thêm hóa đơn: order_id=9
2025-04-15 19:02:06.560984: Xử lý đơn hàng: 10
2025-04-15 19:02:06.561048: Trước khi lấy bàn cho đơn hàng 10
2025-04-15 19:02:06.561433: Table cho đơn hàng 10: <Table 3>
2025-04-15 19:02:06.561772: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.561850: Xử lý mục: order_id=10, item_id=9
2025-04-15 19:02:06.561959: Trước khi lấy món với ID 9
2025-04-15 19:02:06.562352: menu_item: <Item 9>
2025-04-15 19:02:06.562425: Trước khi lấy giá cho món 9
2025-04-15 19:02:06.562823: price_at_order: None
2025-04-15 19:02:06.562907: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-15 19:02:06.563006: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.563096: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 15000.0}
2025-04-15 19:02:06.563192: Thêm hóa đơn: order_id=10
2025-04-15 19:02:06.563289: Xử lý đơn hàng: 11
2025-04-15 19:02:06.563396: Trước khi lấy bàn cho đơn hàng 11
2025-04-15 19:02:06.563981: Table cho đơn hàng 11: <Table 4>
2025-04-15 19:02:06.564521: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.564604: Xử lý mục: order_id=11, item_id=7
2025-04-15 19:02:06.564684: Trước khi lấy món với ID 7
2025-04-15 19:02:06.565130: menu_item: <Item 7>
2025-04-15 19:02:06.565210: Trước khi lấy giá cho món 7
2025-04-15 19:02:06.565690: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:02:06.565768: Xử lý mục: order_id=11, item_id=8
2025-04-15 19:02:06.565831: Trước khi lấy món với ID 8
2025-04-15 19:02:06.566224: menu_item: <Item 8>
2025-04-15 19:02:06.566296: Trước khi lấy giá cho món 8
2025-04-15 19:02:06.566795: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:02:06.566888: Xử lý mục: order_id=11, item_id=9
2025-04-15 19:02:06.566957: Trước khi lấy món với ID 9
2025-04-15 19:02:06.567357: menu_item: <Item 9>
2025-04-15 19:02:06.567438: Trước khi lấy giá cho món 9
2025-04-15 19:02:06.567834: price_at_order: None
2025-04-15 19:02:06.567911: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-15 19:02:06.567992: Xử lý mục: order_id=11, item_id=11
2025-04-15 19:02:06.568054: Trước khi lấy món với ID 11
2025-04-15 19:02:06.568420: menu_item: <Item 11>
2025-04-15 19:02:06.568492: Trước khi lấy giá cho món 11
2025-04-15 19:02:06.568862: price_at_order: None
2025-04-15 19:02:06.568936: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-15 19:02:06.569028: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.569110: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 97000.0}
2025-04-15 19:02:06.569172: Thêm hóa đơn: order_id=11
2025-04-15 19:02:06.569232: Xử lý đơn hàng: 12
2025-04-15 19:02:06.569294: Trước khi lấy bàn cho đơn hàng 12
2025-04-15 19:02:06.569689: Table cho đơn hàng 12: <Table 10>
2025-04-15 19:02:06.570087: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.570189: Xử lý mục: order_id=12, item_id=8
2025-04-15 19:02:06.570320: Trước khi lấy món với ID 8
2025-04-15 19:02:06.571050: menu_item: <Item 8>
2025-04-15 19:02:06.571146: Trước khi lấy giá cho món 8
2025-04-15 19:02:06.571690: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:02:06.571773: Xử lý mục: order_id=12, item_id=9
2025-04-15 19:02:06.571839: Trước khi lấy món với ID 9
2025-04-15 19:02:06.572279: menu_item: <Item 9>
2025-04-15 19:02:06.572361: Trước khi lấy giá cho món 9
2025-04-15 19:02:06.572774: price_at_order: None
2025-04-15 19:02:06.572856: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-15 19:02:06.572940: Xử lý mục: order_id=12, item_id=10
2025-04-15 19:02:06.573004: Trước khi lấy món với ID 10
2025-04-15 19:02:06.573400: menu_item: <Item 10>
2025-04-15 19:02:06.573473: Trước khi lấy giá cho món 10
2025-04-15 19:02:06.573848: price_at_order: None
2025-04-15 19:02:06.573928: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-15 19:02:06.574007: Xử lý mục: order_id=12, item_id=14
2025-04-15 19:02:06.574070: Trước khi lấy món với ID 14
2025-04-15 19:02:06.574484: menu_item: <Item 14>
2025-04-15 19:02:06.574564: Trước khi lấy giá cho món 14
2025-04-15 19:02:06.574968: price_at_order: None
2025-04-15 19:02:06.575048: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-15 19:02:06.575123: Xử lý mục: order_id=12, item_id=15
2025-04-15 19:02:06.575183: Trước khi lấy món với ID 15
2025-04-15 19:02:06.575547: menu_item: <Item 15>
2025-04-15 19:02:06.575620: Trước khi lấy giá cho món 15
2025-04-15 19:02:06.576007: price_at_order: None
2025-04-15 19:02:06.576089: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-15 19:02:06.576182: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Machiato', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Mì Cay', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.576272: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Machiato', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Mì Cay', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 145000.0}
2025-04-15 19:02:06.576338: Thêm hóa đơn: order_id=12
2025-04-15 19:02:06.576410: Xử lý đơn hàng: 13
2025-04-15 19:02:06.576470: Trước khi lấy bàn cho đơn hàng 13
2025-04-15 19:02:06.576897: Table cho đơn hàng 13: <Table 16>
2025-04-15 19:02:06.577418: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.577511: Xử lý mục: order_id=13, item_id=8
2025-04-15 19:02:06.577579: Trước khi lấy món với ID 8
2025-04-15 19:02:06.578059: menu_item: <Item 8>
2025-04-15 19:02:06.578143: Trước khi lấy giá cho món 8
2025-04-15 19:02:06.578625: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:02:06.578738: Xử lý mục: order_id=13, item_id=11
2025-04-15 19:02:06.578818: Trước khi lấy món với ID 11
2025-04-15 19:02:06.579233: menu_item: <Item 11>
2025-04-15 19:02:06.579316: Trước khi lấy giá cho món 11
2025-04-15 19:02:06.579727: price_at_order: None
2025-04-15 19:02:06.579805: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-15 19:02:06.579889: Xử lý mục: order_id=13, item_id=12
2025-04-15 19:02:06.579951: Trước khi lấy món với ID 12
2025-04-15 19:02:06.580344: menu_item: <Item 12>
2025-04-15 19:02:06.580416: Trước khi lấy giá cho món 12
2025-04-15 19:02:06.580782: price_at_order: None
2025-04-15 19:02:06.580859: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-15 19:02:06.580938: Xử lý mục: order_id=13, item_id=13
2025-04-15 19:02:06.581000: Trước khi lấy món với ID 13
2025-04-15 19:02:06.581376: menu_item: <Item 13>
2025-04-15 19:02:06.581448: Trước khi lấy giá cho món 13
2025-04-15 19:02:06.581815: price_at_order: None
2025-04-15 19:02:06.581889: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-15 19:02:06.581989: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Blue', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Dâu', 'count': 1.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.582106: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Blue', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Dâu', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 122000.0}
2025-04-15 19:02:06.582199: Thêm hóa đơn: order_id=13
2025-04-15 19:02:06.582275: Xử lý đơn hàng: 14
2025-04-15 19:02:06.582348: Trước khi lấy bàn cho đơn hàng 14
2025-04-15 19:02:06.582714: Table cho đơn hàng 14: <Table 7>
2025-04-15 19:02:06.583069: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.583149: Xử lý mục: order_id=14, item_id=11
2025-04-15 19:02:06.583219: Trước khi lấy món với ID 11
2025-04-15 19:02:06.583582: menu_item: <Item 11>
2025-04-15 19:02:06.583660: Trước khi lấy giá cho món 11
2025-04-15 19:02:06.584161: price_at_order: None
2025-04-15 19:02:06.584258: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-15 19:02:06.584336: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.584415: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': 0, 'total': 0.0}], 'total_amount': 200000.0}
2025-04-15 19:02:06.584508: Thêm hóa đơn: order_id=14
2025-04-15 19:02:06.584589: Xử lý đơn hàng: 15
2025-04-15 19:02:06.584657: Trước khi lấy bàn cho đơn hàng 15
2025-04-15 19:02:06.585231: Table cho đơn hàng 15: <Table 1>
2025-04-15 19:02:06.585667: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.585750: Xử lý mục: order_id=15, item_id=6
2025-04-15 19:02:06.585817: Trước khi lấy món với ID 6
2025-04-15 19:02:06.586251: menu_item: <Item 6>
2025-04-15 19:02:06.586327: Trước khi lấy giá cho món 6
2025-04-15 19:02:06.586783: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:06.586863: Xử lý mục: order_id=15, item_id=7
2025-04-15 19:02:06.586992: Trước khi lấy món với ID 7
2025-04-15 19:02:06.587420: menu_item: <Item 7>
2025-04-15 19:02:06.587499: Trước khi lấy giá cho món 7
2025-04-15 19:02:06.587931: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:02:06.588008: Xử lý mục: order_id=15, item_id=11
2025-04-15 19:02:06.588074: Trước khi lấy món với ID 11
2025-04-15 19:02:06.588438: menu_item: <Item 11>
2025-04-15 19:02:06.588512: Trước khi lấy giá cho món 11
2025-04-15 19:02:06.588896: price_at_order: None
2025-04-15 19:02:06.588975: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-15 19:02:06.589045: Xử lý mục: order_id=15, item_id=12
2025-04-15 19:02:06.589128: Trước khi lấy món với ID 12
2025-04-15 19:02:06.589506: menu_item: <Item 12>
2025-04-15 19:02:06.589579: Trước khi lấy giá cho món 12
2025-04-15 19:02:06.589962: price_at_order: None
2025-04-15 19:02:06.590037: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-15 19:02:06.590130: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Blue', 'count': 1.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.590213: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Blue', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 87000.0}
2025-04-15 19:02:06.590275: Thêm hóa đơn: order_id=15
2025-04-15 19:02:06.590335: Xử lý đơn hàng: 16
2025-04-15 19:02:06.590411: Trước khi lấy bàn cho đơn hàng 16
2025-04-15 19:02:06.590828: Table cho đơn hàng 16: <Table 2>
2025-04-15 19:02:06.591342: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.591438: Xử lý mục: order_id=16, item_id=10
2025-04-15 19:02:06.591505: Trước khi lấy món với ID 10
2025-04-15 19:02:06.592084: menu_item: <Item 10>
2025-04-15 19:02:06.592179: Trước khi lấy giá cho món 10
2025-04-15 19:02:06.592666: price_at_order: None
2025-04-15 19:02:06.592749: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-15 19:02:06.592817: Xử lý mục: order_id=16, item_id=11
2025-04-15 19:02:06.592878: Trước khi lấy món với ID 11
2025-04-15 19:02:06.593308: menu_item: <Item 11>
2025-04-15 19:02:06.593381: Trước khi lấy giá cho món 11
2025-04-15 19:02:06.593774: price_at_order: None
2025-04-15 19:02:06.593856: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-15 19:02:06.593925: Xử lý mục: order_id=16, item_id=15
2025-04-15 19:02:06.593989: Trước khi lấy món với ID 15
2025-04-15 19:02:06.594376: menu_item: <Item 15>
2025-04-15 19:02:06.594453: Trước khi lấy giá cho món 15
2025-04-15 19:02:06.594820: price_at_order: None
2025-04-15 19:02:06.594894: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-15 19:02:06.594970: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.595047: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 90000.0}
2025-04-15 19:02:06.595108: Thêm hóa đơn: order_id=16
2025-04-15 19:02:06.595169: Xử lý đơn hàng: 17
2025-04-15 19:02:06.595279: Trước khi lấy bàn cho đơn hàng 17
2025-04-15 19:02:06.595704: Table cho đơn hàng 17: <Table 3>
2025-04-15 19:02:06.596089: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.596169: Xử lý mục: order_id=17, item_id=6
2025-04-15 19:02:06.596253: Trước khi lấy món với ID 6
2025-04-15 19:02:06.596635: menu_item: <Item 6>
2025-04-15 19:02:06.596714: Trước khi lấy giá cho món 6
2025-04-15 19:02:06.597121: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:06.597199: Xử lý mục: order_id=17, item_id=7
2025-04-15 19:02:06.597266: Trước khi lấy món với ID 7
2025-04-15 19:02:06.597808: menu_item: <Item 7>
2025-04-15 19:02:06.597947: Trước khi lấy giá cho món 7
2025-04-15 19:02:06.598579: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:02:06.598682: Xử lý mục: order_id=17, item_id=8
2025-04-15 19:02:06.598751: Trước khi lấy món với ID 8
2025-04-15 19:02:06.599254: menu_item: <Item 8>
2025-04-15 19:02:06.599333: Trước khi lấy giá cho món 8
2025-04-15 19:02:06.599795: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:02:06.599892: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:06.599984: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 52000.0}
2025-04-15 19:02:06.600072: Thêm hóa đơn: order_id=17
2025-04-15 19:02:06.600164: Xử lý đơn hàng: 18
2025-04-15 19:02:06.600234: Trước khi lấy bàn cho đơn hàng 18
2025-04-15 19:02:06.600653: Table cho đơn hàng 18: <Table 4>
2025-04-15 19:02:06.601027: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.601104: Xử lý mục: order_id=18, item_id=14
2025-04-15 19:02:06.601173: Trước khi lấy món với ID 14
2025-04-15 19:02:06.601569: menu_item: <Item 14>
2025-04-15 19:02:06.601649: Trước khi lấy giá cho món 14
2025-04-15 19:02:06.602042: price_at_order: None
2025-04-15 19:02:06.602119: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-15 19:02:06.602191: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.602300: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': 0, 'total': 0.0}], 'total_amount': 150000.0}
2025-04-15 19:02:06.602397: Thêm hóa đơn: order_id=18
2025-04-15 19:02:06.602465: Xử lý đơn hàng: 19
2025-04-15 19:02:06.602571: Trước khi lấy bàn cho đơn hàng 19
2025-04-15 19:02:06.602972: Table cho đơn hàng 19: <Table 5>
2025-04-15 19:02:06.603326: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.603403: Xử lý mục: order_id=19, item_id=10
2025-04-15 19:02:06.603484: Trước khi lấy món với ID 10
2025-04-15 19:02:06.603859: menu_item: <Item 10>
2025-04-15 19:02:06.603933: Trước khi lấy giá cho món 10
2025-04-15 19:02:06.604310: price_at_order: None
2025-04-15 19:02:06.604412: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-15 19:02:06.604517: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': 0, 'total': 0.0}]
2025-04-15 19:02:06.604642: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': 0, 'total': 0.0}], 'total_amount': 60000.0}
2025-04-15 19:02:06.604752: Thêm hóa đơn: order_id=19
2025-04-15 19:02:06.604829: Xử lý đơn hàng: 20
2025-04-15 19:02:06.604914: Trước khi lấy bàn cho đơn hàng 20
2025-04-15 19:02:06.605544: Table cho đơn hàng 20: <Table 1>
2025-04-15 19:02:06.606000: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.606084: Xử lý mục: order_id=20, item_id=5
2025-04-15 19:02:06.606215: Trước khi lấy món với ID 5
2025-04-15 19:02:06.606671: menu_item: <Item 5>
2025-04-15 19:02:06.606746: Trước khi lấy giá cho món 5
2025-04-15 19:02:06.607211: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:06.607303: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:06.607387: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}
2025-04-15 19:02:06.607452: Thêm hóa đơn: order_id=20
2025-04-15 19:02:06.607512: Xử lý đơn hàng: 21
2025-04-15 19:02:06.607575: Trước khi lấy bàn cho đơn hàng 21
2025-04-15 19:02:06.607720: Table cho đơn hàng 21: <Table 1>
2025-04-15 19:02:06.608066: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.608138: Xử lý mục: order_id=21, item_id=6
2025-04-15 19:02:06.608215: Trước khi lấy món với ID 6
2025-04-15 19:02:06.608609: menu_item: <Item 6>
2025-04-15 19:02:06.608690: Trước khi lấy giá cho món 6
2025-04-15 19:02:06.609127: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:06.609219: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}]
2025-04-15 19:02:06.609318: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 10000.0}
2025-04-15 19:02:06.609386: Thêm hóa đơn: order_id=21
2025-04-15 19:02:06.609461: Xử lý đơn hàng: 22
2025-04-15 19:02:06.609524: Trước khi lấy bàn cho đơn hàng 22
2025-04-15 19:02:06.609669: Table cho đơn hàng 22: <Table 1>
2025-04-15 19:02:06.610065: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.610148: Xử lý mục: order_id=22, item_id=6
2025-04-15 19:02:06.610217: Trước khi lấy món với ID 6
2025-04-15 19:02:06.610359: menu_item: <Item 6>
2025-04-15 19:02:06.610430: Trước khi lấy giá cho món 6
2025-04-15 19:02:06.610850: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:06.610934: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}]
2025-04-15 19:02:06.611005: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 10000.0}
2025-04-15 19:02:06.611069: Thêm hóa đơn: order_id=22
2025-04-15 19:02:06.611131: Xử lý đơn hàng: 23
2025-04-15 19:02:06.611204: Trước khi lấy bàn cho đơn hàng 23
2025-04-15 19:02:06.611365: Table cho đơn hàng 23: <Table 1>
2025-04-15 19:02:06.611766: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.611871: Xử lý mục: order_id=23, item_id=6
2025-04-15 19:02:06.611953: Trước khi lấy món với ID 6
2025-04-15 19:02:06.612185: menu_item: <Item 6>
2025-04-15 19:02:06.612352: Trước khi lấy giá cho món 6
2025-04-15 19:02:06.613040: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:06.613145: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}]
2025-04-15 19:02:06.613228: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 10000.0}
2025-04-15 19:02:06.613299: Thêm hóa đơn: order_id=23
2025-04-15 19:02:06.613363: Xử lý đơn hàng: 24
2025-04-15 19:02:06.613444: Trước khi lấy bàn cho đơn hàng 24
2025-04-15 19:02:06.613631: Table cho đơn hàng 24: <Table 1>
2025-04-15 19:02:06.614092: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:06.614168: Xử lý mục: order_id=24, item_id=5
2025-04-15 19:02:06.614240: Trước khi lấy món với ID 5
2025-04-15 19:02:06.614681: menu_item: <Item 5>
2025-04-15 19:02:06.614752: Trước khi lấy giá cho món 5
2025-04-15 19:02:06.615202: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:06.615283: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:06.615414: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}
2025-04-15 19:02:06.615508: Thêm hóa đơn: order_id=24
2025-04-15 19:02:06.615574: Chuẩn bị render template với 19 hóa đơn
2025-04-15 19:02:06.615751: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 52000.0}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Mì Cay', 'count': 2.0, 'price': 0, 'total': 0.0}], 'total_amount': 122000.0}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 15000.0}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 97000.0}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Trà chanh', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Machiato', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Mì Cay', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 145000.0}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Blue', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Dâu', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 122000.0}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': 0, 'total': 0.0}], 'total_amount': 200000.0}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Soda Blue', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 87000.0}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Matcha Latte', 'count': 1.0, 'price': 0, 'total': 0.0}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': 0, 'total': 0.0}], 'total_amount': 90000.0}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}, {'name': 'Trà sữa', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 52000.0}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': 0, 'total': 0.0}], 'total_amount': 150000.0}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': 0, 'total': 0.0}], 'total_amount': 60000.0}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 10000.0}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 10000.0}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 10000.0}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}]
2025-04-15 19:02:06.615854: Total revenue: 1342000.0
2025-04-15 19:02:06.615927: Formatted total revenue: 1,342,000 VNĐ
2025-04-15 19:02:06.615987: Date string: 2025-04-15
2025-04-15 19:02:06.616049: Render template: bills=19, total_revenue=1,342,000 VNĐ, date=2025-04-15
2025-04-15 19:02:06.617045: ERROR: Lỗi trong view_bills: 'builtin_function_or_method' object is not iterable
2025-04-15 19:02:11.210174: current_user: id=1, is_admin=True
2025-04-15 19:02:11.210318: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:02:11.210409: Trước khi kiểm tra request.method
2025-04-15 19:02:11.210477: Phương thức: POST
2025-04-15 19:02:11.210538: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:02:11.210751: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:02:11.210823: Trước khi lấy date_str
2025-04-15 19:02:11.211052: Nhận được date_str: 2025-04-14
2025-04-15 19:02:11.211120: Trước khi chuyển đổi ngày
2025-04-15 19:02:11.211221: Đã chuyển đổi date: 2025-04-14
2025-04-15 19:02:11.211282: Trước khi truy vấn đơn hàng cho ngày: 2025-04-14
2025-04-15 19:02:11.211861: Tìm thấy 5 đơn hàng
2025-04-15 19:02:11.211934: Xử lý đơn hàng: 1
2025-04-15 19:02:11.212008: Trước khi lấy bàn cho đơn hàng 1
2025-04-15 19:02:11.212593: Table cho đơn hàng 1: <Table 1>
2025-04-15 19:02:11.213069: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:11.213158: Xử lý mục: order_id=1, item_id=5
2025-04-15 19:02:11.213229: Trước khi lấy món với ID 5
2025-04-15 19:02:11.213746: menu_item: <Item 5>
2025-04-15 19:02:11.213828: Trước khi lấy giá cho món 5
2025-04-15 19:02:11.214336: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:11.214448: Xử lý mục: order_id=1, item_id=6
2025-04-15 19:02:11.214513: Trước khi lấy món với ID 6
2025-04-15 19:02:11.214940: menu_item: <Item 6>
2025-04-15 19:02:11.215013: Trước khi lấy giá cho món 6
2025-04-15 19:02:11.215536: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:11.215649: Items cho đơn hàng 1: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}]
2025-04-15 19:02:11.215737: Bill data cho đơn hàng 1: {'order_id': 1, 'order_time': datetime.datetime(2025, 4, 14, 13, 1, 47, 355000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 40000.0}
2025-04-15 19:02:11.215820: Thêm hóa đơn: order_id=1
2025-04-15 19:02:11.215894: Xử lý đơn hàng: 2
2025-04-15 19:02:11.215965: Trước khi lấy bàn cho đơn hàng 2
2025-04-15 19:02:11.216534: Table cho đơn hàng 2: <Table 2>
2025-04-15 19:02:11.216984: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:11.217062: Xử lý mục: order_id=2, item_id=5
2025-04-15 19:02:11.217130: Trước khi lấy món với ID 5
2025-04-15 19:02:11.217734: menu_item: <Item 5>
2025-04-15 19:02:11.217877: Trước khi lấy giá cho món 5
2025-04-15 19:02:11.218487: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:11.218576: Xử lý mục: order_id=2, item_id=7
2025-04-15 19:02:11.218642: Trước khi lấy món với ID 7
2025-04-15 19:02:11.219339: menu_item: <Item 7>
2025-04-15 19:02:11.219431: Trước khi lấy giá cho món 7
2025-04-15 19:02:11.219916: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:02:11.220004: Items cho đơn hàng 2: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}]
2025-04-15 19:02:11.220089: Bill data cho đơn hàng 2: {'order_id': 2, 'order_time': datetime.datetime(2025, 4, 14, 13, 2, 50, 451000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}], 'total_amount': 42000.0}
2025-04-15 19:02:11.220174: Thêm hóa đơn: order_id=2
2025-04-15 19:02:11.220279: Xử lý đơn hàng: 3
2025-04-15 19:02:11.220349: Trước khi lấy bàn cho đơn hàng 3
2025-04-15 19:02:11.220767: Table cho đơn hàng 3: <Table 1>
2025-04-15 19:02:11.221134: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:11.221206: Xử lý mục: order_id=3, item_id=5
2025-04-15 19:02:11.221268: Trước khi lấy món với ID 5
2025-04-15 19:02:11.221647: menu_item: <Item 5>
2025-04-15 19:02:11.221721: Trước khi lấy giá cho món 5
2025-04-15 19:02:11.222141: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:11.222227: Items cho đơn hàng 3: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:11.222365: Bill data cho đơn hàng 3: {'order_id': 3, 'order_time': datetime.datetime(2025, 4, 14, 13, 31, 14, 556000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}
2025-04-15 19:02:11.222437: Thêm hóa đơn: order_id=3
2025-04-15 19:02:11.222519: Xử lý đơn hàng: 4
2025-04-15 19:02:11.222605: Trước khi lấy bàn cho đơn hàng 4
2025-04-15 19:02:11.223200: Table cho đơn hàng 4: <Table 2>
2025-04-15 19:02:11.223687: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:11.223780: Xử lý mục: order_id=4, item_id=6
2025-04-15 19:02:11.223874: Trước khi lấy món với ID 6
2025-04-15 19:02:11.224417: menu_item: <Item 6>
2025-04-15 19:02:11.224499: Trước khi lấy giá cho món 6
2025-04-15 19:02:11.225002: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:02:11.225076: Xử lý mục: order_id=4, item_id=7
2025-04-15 19:02:11.225154: Trước khi lấy món với ID 7
2025-04-15 19:02:11.225585: menu_item: <Item 7>
2025-04-15 19:02:11.225684: Trước khi lấy giá cho món 7
2025-04-15 19:02:11.226166: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:02:11.226268: Items cho đơn hàng 4: [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': 12000.0, 'total': 24000.0}]
2025-04-15 19:02:11.226360: Bill data cho đơn hàng 4: {'order_id': 4, 'order_time': datetime.datetime(2025, 4, 14, 13, 33, 19, 497000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': 12000.0, 'total': 24000.0}], 'total_amount': 34000.0}
2025-04-15 19:02:11.226425: Thêm hóa đơn: order_id=4
2025-04-15 19:02:11.226484: Xử lý đơn hàng: 5
2025-04-15 19:02:11.226544: Trước khi lấy bàn cho đơn hàng 5
2025-04-15 19:02:11.226932: Table cho đơn hàng 5: <Table 1>
2025-04-15 19:02:11.227282: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:02:11.227355: Xử lý mục: order_id=5, item_id=5
2025-04-15 19:02:11.227440: Trước khi lấy món với ID 5
2025-04-15 19:02:11.227802: menu_item: <Item 5>
2025-04-15 19:02:11.227874: Trước khi lấy giá cho món 5
2025-04-15 19:02:11.228292: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:02:11.228377: Items cho đơn hàng 5: [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}]
2025-04-15 19:02:11.228489: Bill data cho đơn hàng 5: {'order_id': 5, 'order_time': datetime.datetime(2025, 4, 14, 17, 6, 41, 410000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}
2025-04-15 19:02:11.228560: Thêm hóa đơn: order_id=5
2025-04-15 19:02:11.228622: Chuẩn bị render template với 5 hóa đơn
2025-04-15 19:02:11.228708: Bills data: [{'order_id': 1, 'order_time': datetime.datetime(2025, 4, 14, 13, 1, 47, 355000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}], 'total_amount': 40000.0}, {'order_id': 2, 'order_time': datetime.datetime(2025, 4, 14, 13, 2, 50, 451000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': 12000.0, 'total': 12000.0}], 'total_amount': 42000.0}, {'order_id': 3, 'order_time': datetime.datetime(2025, 4, 14, 13, 31, 14, 556000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}, {'order_id': 4, 'order_time': datetime.datetime(2025, 4, 14, 13, 33, 19, 497000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': 10000.0, 'total': 10000.0}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': 12000.0, 'total': 24000.0}], 'total_amount': 34000.0}, {'order_id': 5, 'order_time': datetime.datetime(2025, 4, 14, 17, 6, 41, 410000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': 30000.0, 'total': 30000.0}], 'total_amount': 30000.0}]
2025-04-15 19:02:11.228775: Total revenue: 176000.0
2025-04-15 19:02:11.228837: Formatted total revenue: 176,000 VNĐ
2025-04-15 19:02:11.228896: Date string: 2025-04-14
2025-04-15 19:02:11.228955: Render template: bills=5, total_revenue=176,000 VNĐ, date=2025-04-14
2025-04-15 19:02:11.229548: ERROR: Lỗi trong view_bills: 'builtin_function_or_method' object is not iterable
2025-04-15 19:05:31.613615: current_user: id=1, is_admin=True
2025-04-15 19:05:31.613786: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:31.613997: Trước khi kiểm tra request.method
2025-04-15 19:05:31.614088: Phương thức: POST
2025-04-15 19:05:31.614174: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:31.614592: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:31.614681: Trước khi lấy date_str
2025-04-15 19:05:31.615418: Nhận được date_str: 2025-04-14
2025-04-15 19:05:31.615504: Trước khi chuyển đổi ngày
2025-04-15 19:05:31.616864: Đã chuyển đổi date: 2025-04-14
2025-04-15 19:05:31.616953: Trước khi truy vấn đơn hàng cho ngày: 2025-04-14
2025-04-15 19:05:31.622146: Tìm thấy 5 đơn hàng
2025-04-15 19:05:31.622275: Xử lý đơn hàng: 1
2025-04-15 19:05:31.622417: Trước khi lấy bàn cho đơn hàng 1
2025-04-15 19:05:31.623601: Table cho đơn hàng 1: <Table 1>
2025-04-15 19:05:31.625015: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:05:31.625103: Xử lý mục: order_id=1, item_id=5
2025-04-15 19:05:31.625186: Trước khi lấy món với ID 5
2025-04-15 19:05:31.626190: menu_item: <Item 5>
2025-04-15 19:05:31.626275: Trước khi lấy giá cho món 5
2025-04-15 19:05:31.627567: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:05:31.627661: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.627784: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.627900: Xử lý mục: order_id=1, item_id=6
2025-04-15 19:05:31.627967: Trước khi lấy món với ID 6
2025-04-15 19:05:31.628422: menu_item: <Item 6>
2025-04-15 19:05:31.628502: Trước khi lấy giá cho món 6
2025-04-15 19:05:31.629041: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:05:31.629130: Định dạng tiền tệ: 10000.0
2025-04-15 19:05:31.629203: Định dạng tiền tệ: 10000.0
2025-04-15 19:05:31.629291: Items cho đơn hàng 1: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:05:31.629363: Định dạng tiền tệ: 40000.0
2025-04-15 19:05:31.629436: Bill data cho đơn hàng 1: {'order_id': 1, 'order_time': datetime.datetime(2025, 4, 14, 13, 1, 47, 355000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '40,000 VNĐ'}
2025-04-15 19:05:31.629504: Thêm hóa đơn: order_id=1
2025-04-15 19:05:31.629573: Xử lý đơn hàng: 2
2025-04-15 19:05:31.629645: Trước khi lấy bàn cho đơn hàng 2
2025-04-15 19:05:31.630066: Table cho đơn hàng 2: <Table 2>
2025-04-15 19:05:31.630468: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:05:31.630547: Xử lý mục: order_id=2, item_id=5
2025-04-15 19:05:31.630630: Trước khi lấy món với ID 5
2025-04-15 19:05:31.631026: menu_item: <Item 5>
2025-04-15 19:05:31.631099: Trước khi lấy giá cho món 5
2025-04-15 19:05:31.631569: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:05:31.631643: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.631709: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.631773: Xử lý mục: order_id=2, item_id=7
2025-04-15 19:05:31.631834: Trước khi lấy món với ID 7
2025-04-15 19:05:31.632231: menu_item: <Item 7>
2025-04-15 19:05:31.632307: Trước khi lấy giá cho món 7
2025-04-15 19:05:31.632725: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:05:31.632805: Định dạng tiền tệ: 12000.0
2025-04-15 19:05:31.632872: Định dạng tiền tệ: 12000.0
2025-04-15 19:05:31.632949: Items cho đơn hàng 2: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}]
2025-04-15 19:05:31.633016: Định dạng tiền tệ: 42000.0
2025-04-15 19:05:31.633088: Bill data cho đơn hàng 2: {'order_id': 2, 'order_time': datetime.datetime(2025, 4, 14, 13, 2, 50, 451000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}], 'total_amount': '42,000 VNĐ'}
2025-04-15 19:05:31.633153: Thêm hóa đơn: order_id=2
2025-04-15 19:05:31.633223: Xử lý đơn hàng: 3
2025-04-15 19:05:31.633287: Trước khi lấy bàn cho đơn hàng 3
2025-04-15 19:05:31.633658: Table cho đơn hàng 3: <Table 1>
2025-04-15 19:05:31.633992: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:05:31.634125: Xử lý mục: order_id=3, item_id=5
2025-04-15 19:05:31.634227: Trước khi lấy món với ID 5
2025-04-15 19:05:31.634660: menu_item: <Item 5>
2025-04-15 19:05:31.634742: Trước khi lấy giá cho món 5
2025-04-15 19:05:31.635234: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:05:31.635318: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.635387: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.635456: Items cho đơn hàng 3: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:05:31.635524: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.635641: Bill data cho đơn hàng 3: {'order_id': 3, 'order_time': datetime.datetime(2025, 4, 14, 13, 31, 14, 556000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:05:31.635717: Thêm hóa đơn: order_id=3
2025-04-15 19:05:31.635788: Xử lý đơn hàng: 4
2025-04-15 19:05:31.635854: Trước khi lấy bàn cho đơn hàng 4
2025-04-15 19:05:31.636408: Table cho đơn hàng 4: <Table 2>
2025-04-15 19:05:31.636817: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:05:31.636891: Xử lý mục: order_id=4, item_id=6
2025-04-15 19:05:31.636967: Trước khi lấy món với ID 6
2025-04-15 19:05:31.637380: menu_item: <Item 6>
2025-04-15 19:05:31.637457: Trước khi lấy giá cho món 6
2025-04-15 19:05:31.637987: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:05:31.638074: Định dạng tiền tệ: 10000.0
2025-04-15 19:05:31.638144: Định dạng tiền tệ: 10000.0
2025-04-15 19:05:31.638209: Xử lý mục: order_id=4, item_id=7
2025-04-15 19:05:31.638273: Trước khi lấy món với ID 7
2025-04-15 19:05:31.638735: menu_item: <Item 7>
2025-04-15 19:05:31.638817: Trước khi lấy giá cho món 7
2025-04-15 19:05:31.639249: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:05:31.639333: Định dạng tiền tệ: 12000.0
2025-04-15 19:05:31.639415: Định dạng tiền tệ: 24000.0
2025-04-15 19:05:31.639485: Items cho đơn hàng 4: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': '12,000 VNĐ', 'total': '24,000 VNĐ'}]
2025-04-15 19:05:31.639552: Định dạng tiền tệ: 34000.0
2025-04-15 19:05:31.639623: Bill data cho đơn hàng 4: {'order_id': 4, 'order_time': datetime.datetime(2025, 4, 14, 13, 33, 19, 497000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': '12,000 VNĐ', 'total': '24,000 VNĐ'}], 'total_amount': '34,000 VNĐ'}
2025-04-15 19:05:31.639687: Thêm hóa đơn: order_id=4
2025-04-15 19:05:31.639746: Xử lý đơn hàng: 5
2025-04-15 19:05:31.639806: Trước khi lấy bàn cho đơn hàng 5
2025-04-15 19:05:31.640202: Table cho đơn hàng 5: <Table 1>
2025-04-15 19:05:31.640558: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:05:31.640636: Xử lý mục: order_id=5, item_id=5
2025-04-15 19:05:31.640700: Trước khi lấy món với ID 5
2025-04-15 19:05:31.641077: menu_item: <Item 5>
2025-04-15 19:05:31.641151: Trước khi lấy giá cho món 5
2025-04-15 19:05:31.641571: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:05:31.641650: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.641730: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.641799: Items cho đơn hàng 5: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:05:31.641864: Định dạng tiền tệ: 30000.0
2025-04-15 19:05:31.641999: Bill data cho đơn hàng 5: {'order_id': 5, 'order_time': datetime.datetime(2025, 4, 14, 17, 6, 41, 410000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:05:31.642073: Thêm hóa đơn: order_id=5
2025-04-15 19:05:31.642147: Chuẩn bị render template với 5 hóa đơn
2025-04-15 19:05:31.642252: Bills data: [{'order_id': 1, 'order_time': datetime.datetime(2025, 4, 14, 13, 1, 47, 355000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '40,000 VNĐ'}, {'order_id': 2, 'order_time': datetime.datetime(2025, 4, 14, 13, 2, 50, 451000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}], 'total_amount': '42,000 VNĐ'}, {'order_id': 3, 'order_time': datetime.datetime(2025, 4, 14, 13, 31, 14, 556000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 4, 'order_time': datetime.datetime(2025, 4, 14, 13, 33, 19, 497000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': '12,000 VNĐ', 'total': '24,000 VNĐ'}], 'total_amount': '34,000 VNĐ'}, {'order_id': 5, 'order_time': datetime.datetime(2025, 4, 14, 17, 6, 41, 410000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}]
2025-04-15 19:05:31.642366: Total revenue: 176000.0
2025-04-15 19:05:31.642427: Định dạng tiền tệ: 176000.0
2025-04-15 19:05:31.642499: Formatted total revenue: 176,000 VNĐ
2025-04-15 19:05:31.642559: Date string: 2025-04-14
2025-04-15 19:05:31.642619: Định dạng tiền tệ: 176000.0
2025-04-15 19:05:31.642678: Render template: bills=5, total_revenue=176,000 VNĐ, date=2025-04-14
2025-04-15 19:05:31.642738: Định dạng tiền tệ: 176000.0
2025-04-15 19:05:31.646662: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:31.651556: current_user: id=1, is_admin=True
2025-04-15 19:05:31.651676: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:31.651768: Trước khi kiểm tra request.method
2025-04-15 19:05:31.651836: Phương thức: GET
2025-04-15 19:05:31.651896: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:31.652112: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:31.652183: Hiển thị template mặc định cho GET
2025-04-15 19:05:31.654660: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:31.855692: current_user: id=1, is_admin=True
2025-04-15 19:05:31.856002: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:31.856107: Trước khi kiểm tra request.method
2025-04-15 19:05:31.856207: Phương thức: GET
2025-04-15 19:05:31.856295: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:31.856690: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:31.856772: Hiển thị template mặc định cho GET
2025-04-15 19:05:31.859235: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:32.167386: current_user: id=1, is_admin=True
2025-04-15 19:05:32.167550: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:32.167668: Trước khi kiểm tra request.method
2025-04-15 19:05:32.167742: Phương thức: GET
2025-04-15 19:05:32.167814: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:32.168065: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:32.168170: Hiển thị template mặc định cho GET
2025-04-15 19:05:32.170288: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:32.432560: current_user: id=1, is_admin=True
2025-04-15 19:05:32.432719: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:32.432790: Trước khi kiểm tra request.method
2025-04-15 19:05:32.432880: Phương thức: GET
2025-04-15 19:05:32.432942: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:32.433161: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:32.433246: Hiển thị template mặc định cho GET
2025-04-15 19:05:32.435271: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:32.478007: current_user: id=1, is_admin=True
2025-04-15 19:05:32.478188: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:32.478265: Trước khi kiểm tra request.method
2025-04-15 19:05:32.478440: Phương thức: GET
2025-04-15 19:05:32.478528: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:32.478804: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:32.478885: Hiển thị template mặc định cho GET
2025-04-15 19:05:32.481051: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:32.743724: current_user: id=1, is_admin=True
2025-04-15 19:05:32.743848: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:32.743912: Trước khi kiểm tra request.method
2025-04-15 19:05:32.743993: Phương thức: GET
2025-04-15 19:05:32.744055: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:32.744273: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:32.744412: Hiển thị template mặc định cho GET
2025-04-15 19:05:32.746861: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:32.791299: current_user: id=1, is_admin=True
2025-04-15 19:05:32.791457: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:32.791547: Trước khi kiểm tra request.method
2025-04-15 19:05:32.791619: Phương thức: GET
2025-04-15 19:05:32.791700: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:32.791939: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:32.792021: Hiển thị template mặc định cho GET
2025-04-15 19:05:32.794162: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:33.058135: current_user: id=1, is_admin=True
2025-04-15 19:05:33.058295: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:33.058439: Trước khi kiểm tra request.method
2025-04-15 19:05:33.058517: Phương thức: GET
2025-04-15 19:05:33.058594: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:33.058916: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:33.059004: Hiển thị template mặc định cho GET
2025-04-15 19:05:33.061448: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:33.103732: current_user: id=1, is_admin=True
2025-04-15 19:05:33.103863: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:33.103955: Trước khi kiểm tra request.method
2025-04-15 19:05:33.104026: Phương thức: GET
2025-04-15 19:05:33.104088: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:33.104296: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:33.104385: Hiển thị template mặc định cho GET
2025-04-15 19:05:33.106512: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:33.381698: current_user: id=1, is_admin=True
2025-04-15 19:05:33.381841: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:33.381950: Trước khi kiểm tra request.method
2025-04-15 19:05:33.382025: Phương thức: GET
2025-04-15 19:05:33.382084: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:33.382296: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:33.382382: Hiển thị template mặc định cho GET
2025-04-15 19:05:33.384582: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:33.412081: current_user: id=1, is_admin=True
2025-04-15 19:05:33.412251: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:33.412427: Trước khi kiểm tra request.method
2025-04-15 19:05:33.412546: Phương thức: GET
2025-04-15 19:05:33.412648: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:33.412945: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:33.413051: Hiển thị template mặc định cho GET
2025-04-15 19:05:33.415235: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:33.694175: current_user: id=1, is_admin=True
2025-04-15 19:05:33.694312: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:33.694401: Trước khi kiểm tra request.method
2025-04-15 19:05:33.694492: Phương thức: GET
2025-04-15 19:05:33.694553: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:33.694775: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:33.694845: Hiển thị template mặc định cho GET
2025-04-15 19:05:33.696940: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:33.722268: current_user: id=1, is_admin=True
2025-04-15 19:05:33.722400: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:33.722897: Trước khi kiểm tra request.method
2025-04-15 19:05:33.723046: Phương thức: GET
2025-04-15 19:05:33.723123: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:33.723360: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:33.723430: Hiển thị template mặc định cho GET
2025-04-15 19:05:33.725926: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:34.006435: current_user: id=1, is_admin=True
2025-04-15 19:05:34.006584: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:34.006670: Trước khi kiểm tra request.method
2025-04-15 19:05:34.006744: Phương thức: GET
2025-04-15 19:05:34.006805: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:34.007018: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:34.007092: Hiển thị template mặc định cho GET
2025-04-15 19:05:34.009237: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:34.038320: current_user: id=1, is_admin=True
2025-04-15 19:05:34.038475: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:34.038567: Trước khi kiểm tra request.method
2025-04-15 19:05:34.038640: Phương thức: GET
2025-04-15 19:05:34.038702: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:34.038923: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:34.038993: Hiển thị template mặc định cho GET
2025-04-15 19:05:34.041107: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:34.317965: current_user: id=1, is_admin=True
2025-04-15 19:05:34.318130: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:34.318263: Trước khi kiểm tra request.method
2025-04-15 19:05:34.318359: Phương thức: GET
2025-04-15 19:05:34.318423: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:34.318700: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:34.318801: Hiển thị template mặc định cho GET
2025-04-15 19:05:34.320912: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:34.348513: current_user: id=1, is_admin=True
2025-04-15 19:05:34.348682: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:34.348804: Trước khi kiểm tra request.method
2025-04-15 19:05:34.348902: Phương thức: GET
2025-04-15 19:05:34.348967: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:34.349210: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:34.349280: Hiển thị template mặc định cho GET
2025-04-15 19:05:34.351392: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:34.630813: current_user: id=1, is_admin=True
2025-04-15 19:05:34.630964: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:34.631138: Trước khi kiểm tra request.method
2025-04-15 19:05:34.631262: Phương thức: GET
2025-04-15 19:05:34.631358: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:34.631600: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:34.631676: Hiển thị template mặc định cho GET
2025-04-15 19:05:34.633781: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:34.662515: current_user: id=1, is_admin=True
2025-04-15 19:05:34.662674: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:34.662807: Trước khi kiểm tra request.method
2025-04-15 19:05:34.662916: Phương thức: GET
2025-04-15 19:05:34.662979: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:34.663217: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:34.663333: Hiển thị template mặc định cho GET
2025-04-15 19:05:34.665461: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:35.694895: current_user: id=1, is_admin=True
2025-04-15 19:05:35.695028: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:35.695118: Trước khi kiểm tra request.method
2025-04-15 19:05:35.695230: Phương thức: GET
2025-04-15 19:05:35.695292: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:35.695519: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:35.695588: Hiển thị template mặc định cho GET
2025-04-15 19:05:35.697784: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:36.010441: current_user: id=1, is_admin=True
2025-04-15 19:05:36.010570: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:36.010654: Trước khi kiểm tra request.method
2025-04-15 19:05:36.010725: Phương thức: GET
2025-04-15 19:05:36.010796: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:36.011038: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:36.011102: Hiển thị template mặc định cho GET
2025-04-15 19:05:36.013126: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:36.324541: current_user: id=1, is_admin=True
2025-04-15 19:05:36.324686: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:36.324771: Trước khi kiểm tra request.method
2025-04-15 19:05:36.324837: Phương thức: GET
2025-04-15 19:05:36.324959: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:36.325223: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:36.325321: Hiển thị template mặc định cho GET
2025-04-15 19:05:36.327375: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:36.590458: current_user: id=1, is_admin=True
2025-04-15 19:05:36.590600: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:36.590672: Trước khi kiểm tra request.method
2025-04-15 19:05:36.590782: Phương thức: GET
2025-04-15 19:05:36.590884: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:36.591102: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:36.591175: Hiển thị template mặc định cho GET
2025-04-15 19:05:36.593410: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:36.636603: current_user: id=1, is_admin=True
2025-04-15 19:05:36.636734: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:36.636883: Trước khi kiểm tra request.method
2025-04-15 19:05:36.636978: Phương thức: GET
2025-04-15 19:05:36.637043: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:36.637306: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:36.637387: Hiển thị template mặc định cho GET
2025-04-15 19:05:36.639479: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:36.901516: current_user: id=1, is_admin=True
2025-04-15 19:05:36.901642: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:36.901710: Trước khi kiểm tra request.method
2025-04-15 19:05:36.901775: Phương thức: GET
2025-04-15 19:05:36.901974: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:36.902278: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:36.902360: Hiển thị template mặc định cho GET
2025-04-15 19:05:36.904323: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:36.948302: current_user: id=1, is_admin=True
2025-04-15 19:05:36.948432: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:36.948528: Trước khi kiểm tra request.method
2025-04-15 19:05:36.948634: Phương thức: GET
2025-04-15 19:05:36.948695: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:36.948945: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:36.949022: Hiển thị template mặc định cho GET
2025-04-15 19:05:36.951081: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:37.212442: current_user: id=1, is_admin=True
2025-04-15 19:05:37.212590: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:37.212678: Trước khi kiểm tra request.method
2025-04-15 19:05:37.212817: Phương thức: GET
2025-04-15 19:05:37.212911: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:37.213171: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:37.213249: Hiển thị template mặc định cho GET
2025-04-15 19:05:37.215437: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:37.258955: current_user: id=1, is_admin=True
2025-04-15 19:05:37.259087: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:37.259171: Trước khi kiểm tra request.method
2025-04-15 19:05:37.259236: Phương thức: GET
2025-04-15 19:05:37.259300: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:37.259506: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:37.259573: Hiển thị template mặc định cho GET
2025-04-15 19:05:37.261659: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:37.522256: current_user: id=1, is_admin=True
2025-04-15 19:05:37.522386: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:37.522469: Trước khi kiểm tra request.method
2025-04-15 19:05:37.522555: Phương thức: GET
2025-04-15 19:05:37.522624: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:37.522873: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:37.522975: Hiển thị template mặc định cho GET
2025-04-15 19:05:37.525217: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:37.568752: current_user: id=1, is_admin=True
2025-04-15 19:05:37.568879: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:37.569006: Trước khi kiểm tra request.method
2025-04-15 19:05:37.569075: Phương thức: GET
2025-04-15 19:05:37.569136: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:37.569339: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:37.569451: Hiển thị template mặc định cho GET
2025-04-15 19:05:37.571641: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:37.832624: current_user: id=1, is_admin=True
2025-04-15 19:05:37.832763: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:37.832832: Trước khi kiểm tra request.method
2025-04-15 19:05:37.833007: Phương thức: GET
2025-04-15 19:05:37.833089: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:37.833331: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:37.833397: Hiển thị template mặc định cho GET
2025-04-15 19:05:37.835995: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:37.882169: current_user: id=1, is_admin=True
2025-04-15 19:05:37.882307: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:37.882407: Trước khi kiểm tra request.method
2025-04-15 19:05:37.882480: Phương thức: GET
2025-04-15 19:05:37.882540: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:37.882740: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:37.882810: Hiển thị template mặc định cho GET
2025-04-15 19:05:37.884915: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:38.155717: current_user: id=1, is_admin=True
2025-04-15 19:05:38.155841: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:38.155908: Trước khi kiểm tra request.method
2025-04-15 19:05:38.155996: Phương thức: GET
2025-04-15 19:05:38.156057: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:38.156271: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:38.156341: Hiển thị template mặc định cho GET
2025-04-15 19:05:38.158363: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:38.202571: current_user: id=1, is_admin=True
2025-04-15 19:05:38.202702: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:38.202807: Trước khi kiểm tra request.method
2025-04-15 19:05:38.202884: Phương thức: GET
2025-04-15 19:05:38.202943: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:38.203155: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:38.203222: Hiển thị template mặc định cho GET
2025-04-15 19:05:38.205444: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:38.467577: current_user: id=1, is_admin=True
2025-04-15 19:05:38.467708: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:38.467900: Trước khi kiểm tra request.method
2025-04-15 19:05:38.468064: Phương thức: GET
2025-04-15 19:05:38.468154: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:38.468481: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:38.468639: Hiển thị template mặc định cho GET
2025-04-15 19:05:38.470792: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:38.515038: current_user: id=1, is_admin=True
2025-04-15 19:05:38.515161: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:38.515257: Trước khi kiểm tra request.method
2025-04-15 19:05:38.515329: Phương thức: GET
2025-04-15 19:05:38.515417: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:38.515712: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:38.515779: Hiển thị template mặc định cho GET
2025-04-15 19:05:38.517978: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:38.782771: current_user: id=1, is_admin=True
2025-04-15 19:05:38.782897: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:38.782962: Trước khi kiểm tra request.method
2025-04-15 19:05:38.783039: Phương thức: GET
2025-04-15 19:05:38.783099: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:38.783342: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:38.783409: Hiển thị template mặc định cho GET
2025-04-15 19:05:38.785501: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:38.830179: current_user: id=1, is_admin=True
2025-04-15 19:05:38.830309: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:38.830401: Trước khi kiểm tra request.method
2025-04-15 19:05:38.830474: Phương thức: GET
2025-04-15 19:05:38.830537: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:38.830747: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:38.830818: Hiển thị template mặc định cho GET
2025-04-15 19:05:38.832878: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:39.094775: current_user: id=1, is_admin=True
2025-04-15 19:05:39.094920: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:39.095003: Trước khi kiểm tra request.method
2025-04-15 19:05:39.095071: Phương thức: GET
2025-04-15 19:05:39.095133: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:39.095319: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:39.095403: Hiển thị template mặc định cho GET
2025-04-15 19:05:39.097410: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:44.118917: current_user: id=1, is_admin=True
2025-04-15 19:05:44.119070: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:44.119145: Trước khi kiểm tra request.method
2025-04-15 19:05:44.119239: Phương thức: GET
2025-04-15 19:05:44.119299: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:44.119530: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:44.119669: Hiển thị template mặc định cho GET
2025-04-15 19:05:44.122020: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:44.422157: current_user: id=1, is_admin=True
2025-04-15 19:05:44.422305: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:44.422373: Trước khi kiểm tra request.method
2025-04-15 19:05:44.422442: Phương thức: GET
2025-04-15 19:05:44.422582: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:44.422834: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:44.422928: Hiển thị template mặc định cho GET
2025-04-15 19:05:44.424991: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:44.734622: current_user: id=1, is_admin=True
2025-04-15 19:05:44.734767: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:44.734858: Trước khi kiểm tra request.method
2025-04-15 19:05:44.734926: Phương thức: GET
2025-04-15 19:05:44.734986: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:44.735215: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:44.735282: Hiển thị template mặc định cho GET
2025-04-15 19:05:44.737362: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:44.999336: current_user: id=1, is_admin=True
2025-04-15 19:05:44.999462: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:44.999553: Trước khi kiểm tra request.method
2025-04-15 19:05:44.999619: Phương thức: GET
2025-04-15 19:05:44.999689: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:44.999933: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.002181: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:45.046769: current_user: id=1, is_admin=True
2025-04-15 19:05:45.046928: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:45.047043: Trước khi kiểm tra request.method
2025-04-15 19:05:45.047112: Phương thức: GET
2025-04-15 19:05:45.047185: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:45.047396: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45.047463: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.049502: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:45.312482: current_user: id=1, is_admin=True
2025-04-15 19:05:45.312606: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:45.312672: Trước khi kiểm tra request.method
2025-04-15 19:05:45.312752: Phương thức: GET
2025-04-15 19:05:45.312845: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:45.313116: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45.313215: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.315381: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:45.358899: current_user: id=1, is_admin=True
2025-04-15 19:05:45.359039: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:45.359132: Trước khi kiểm tra request.method
2025-04-15 19:05:45.359202: Phương thức: GET
2025-04-15 19:05:45.359262: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:45.359474: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45.359542: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.362136: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:45.625090: current_user: id=1, is_admin=True
2025-04-15 19:05:45.625248: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:45.625342: Trước khi kiểm tra request.method
2025-04-15 19:05:45.625439: Phương thức: GET
2025-04-15 19:05:45.625504: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:45.625754: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45.625820: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.628005: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:45.670647: current_user: id=1, is_admin=True
2025-04-15 19:05:45.670780: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:45.670856: Trước khi kiểm tra request.method
2025-04-15 19:05:45.670923: Phương thức: GET
2025-04-15 19:05:45.670981: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:45.671191: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45.671259: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.673378: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:45.936949: current_user: id=1, is_admin=True
2025-04-15 19:05:45.937111: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:45.937197: Trước khi kiểm tra request.method
2025-04-15 19:05:45.937300: Phương thức: GET
2025-04-15 19:05:45.937356: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:45.937581: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45.937657: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.939881: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:45.981554: current_user: id=1, is_admin=True
2025-04-15 19:05:45.981713: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:45.981809: Trước khi kiểm tra request.method
2025-04-15 19:05:45.981879: Phương thức: GET
2025-04-15 19:05:45.981939: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:45.982149: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:45.982218: Hiển thị template mặc định cho GET
2025-04-15 19:05:45.984394: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:46.247253: current_user: id=1, is_admin=True
2025-04-15 19:05:46.247387: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:46.247455: Trước khi kiểm tra request.method
2025-04-15 19:05:46.247534: Phương thức: GET
2025-04-15 19:05:46.247597: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:46.247991: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:46.248064: Hiển thị template mặc định cho GET
2025-04-15 19:05:46.250214: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:46.294833: current_user: id=1, is_admin=True
2025-04-15 19:05:46.294983: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:46.295060: Trước khi kiểm tra request.method
2025-04-15 19:05:46.295200: Phương thức: GET
2025-04-15 19:05:46.295277: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:46.295504: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:46.295581: Hiển thị template mặc định cho GET
2025-04-15 19:05:46.297769: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:46.561569: current_user: id=1, is_admin=True
2025-04-15 19:05:46.561694: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:46.561761: Trước khi kiểm tra request.method
2025-04-15 19:05:46.561823: Phương thức: GET
2025-04-15 19:05:46.561884: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:46.562082: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:46.562146: Hiển thị template mặc định cho GET
2025-04-15 19:05:46.564187: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:46.610293: current_user: id=1, is_admin=True
2025-04-15 19:05:46.610425: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:46.610511: Trước khi kiểm tra request.method
2025-04-15 19:05:46.610604: Phương thức: GET
2025-04-15 19:05:46.610736: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:46.610976: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:46.611063: Hiển thị template mặc định cho GET
2025-04-15 19:05:46.613224: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:46.872760: current_user: id=1, is_admin=True
2025-04-15 19:05:46.872904: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:46.873026: Trước khi kiểm tra request.method
2025-04-15 19:05:46.873143: Phương thức: GET
2025-04-15 19:05:46.873212: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:46.873418: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:46.873486: Hiển thị template mặc định cho GET
2025-04-15 19:05:46.875496: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:46.919687: current_user: id=1, is_admin=True
2025-04-15 19:05:46.919825: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:46.919977: Trước khi kiểm tra request.method
2025-04-15 19:05:46.920076: Phương thức: GET
2025-04-15 19:05:46.920152: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:46.920445: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:46.920535: Hiển thị template mặc định cho GET
2025-04-15 19:05:46.922627: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:47.185452: current_user: id=1, is_admin=True
2025-04-15 19:05:47.185579: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:47.185681: Trước khi kiểm tra request.method
2025-04-15 19:05:47.185753: Phương thức: GET
2025-04-15 19:05:47.185812: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:47.186023: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:47.186096: Hiển thị template mặc định cho GET
2025-04-15 19:05:47.188150: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:47.232557: current_user: id=1, is_admin=True
2025-04-15 19:05:47.232712: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:47.232837: Trước khi kiểm tra request.method
2025-04-15 19:05:47.232907: Phương thức: GET
2025-04-15 19:05:47.232992: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:47.233231: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:47.233305: Hiển thị template mặc định cho GET
2025-04-15 19:05:47.235395: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:05:47.497440: current_user: id=1, is_admin=True
2025-04-15 19:05:47.497596: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:05:47.497683: Trước khi kiểm tra request.method
2025-04-15 19:05:47.497755: Phương thức: GET
2025-04-15 19:05:47.497826: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:05:47.498038: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:05:47.498124: Hiển thị template mặc định cho GET
2025-04-15 19:05:47.500159: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:17.517270: current_user: id=1, is_admin=True
2025-04-15 19:06:17.517507: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:17.517620: Trước khi kiểm tra request.method
2025-04-15 19:06:17.517722: Phương thức: GET
2025-04-15 19:06:17.517835: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:17.518180: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:17.518327: Hiển thị template mặc định cho GET
2025-04-15 19:06:17.520627: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:17.819240: current_user: id=1, is_admin=True
2025-04-15 19:06:17.819378: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:17.819582: Trước khi kiểm tra request.method
2025-04-15 19:06:17.819690: Phương thức: GET
2025-04-15 19:06:17.819799: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:17.820026: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:17.820101: Hiển thị template mặc định cho GET
2025-04-15 19:06:17.823454: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:18.131382: current_user: id=1, is_admin=True
2025-04-15 19:06:18.131551: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:18.131619: Trước khi kiểm tra request.method
2025-04-15 19:06:18.131680: Phương thức: GET
2025-04-15 19:06:18.131736: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:18.132003: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:18.132099: Hiển thị template mặc định cho GET
2025-04-15 19:06:18.134277: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:18.397794: current_user: id=1, is_admin=True
2025-04-15 19:06:18.398032: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:18.398118: Trước khi kiểm tra request.method
2025-04-15 19:06:18.398196: Phương thức: GET
2025-04-15 19:06:18.398283: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:18.398816: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:18.399008: Hiển thị template mặc định cho GET
2025-04-15 19:06:18.401198: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:18.443658: current_user: id=1, is_admin=True
2025-04-15 19:06:18.443790: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:18.443877: Trước khi kiểm tra request.method
2025-04-15 19:06:18.443948: Phương thức: GET
2025-04-15 19:06:18.444071: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:18.444308: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:18.444378: Hiển thị template mặc định cho GET
2025-04-15 19:06:18.446643: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:18.722786: current_user: id=1, is_admin=True
2025-04-15 19:06:18.722944: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:18.723059: Trước khi kiểm tra request.method
2025-04-15 19:06:18.723127: Phương thức: GET
2025-04-15 19:06:18.723185: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:18.723450: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:18.723572: Hiển thị template mặc định cho GET
2025-04-15 19:06:18.726270: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:18.753731: current_user: id=1, is_admin=True
2025-04-15 19:06:18.753874: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:18.753966: Trước khi kiểm tra request.method
2025-04-15 19:06:18.754031: Phương thức: GET
2025-04-15 19:06:18.754153: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:18.754439: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:18.754517: Hiển thị template mặc định cho GET
2025-04-15 19:06:18.756705: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:19.046450: current_user: id=1, is_admin=True
2025-04-15 19:06:19.046614: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:19.046689: Trước khi kiểm tra request.method
2025-04-15 19:06:19.046813: Phương thức: GET
2025-04-15 19:06:19.046917: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:19.047148: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:19.047235: Hiển thị template mặc định cho GET
2025-04-15 19:06:19.049370: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:19.076450: current_user: id=1, is_admin=True
2025-04-15 19:06:19.076580: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:19.076691: Trước khi kiểm tra request.method
2025-04-15 19:06:19.076760: Phương thức: GET
2025-04-15 19:06:19.076819: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:19.077050: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:19.077158: Hiển thị template mặc định cho GET
2025-04-15 19:06:19.079400: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:19.371403: current_user: id=1, is_admin=True
2025-04-15 19:06:19.371570: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:19.371722: Trước khi kiểm tra request.method
2025-04-15 19:06:19.371832: Phương thức: GET
2025-04-15 19:06:19.371954: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:19.372238: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:19.372319: Hiển thị template mặc định cho GET
2025-04-15 19:06:19.374461: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:19.385993: current_user: id=1, is_admin=True
2025-04-15 19:06:19.386130: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:19.386215: Trước khi kiểm tra request.method
2025-04-15 19:06:19.386283: Phương thức: GET
2025-04-15 19:06:19.386342: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:19.386566: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:19.386639: Hiển thị template mặc định cho GET
2025-04-15 19:06:19.388751: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:19.695543: current_user: id=1, is_admin=True
2025-04-15 19:06:19.695677: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:19.695794: Trước khi kiểm tra request.method
2025-04-15 19:06:19.695897: Phương thức: GET
2025-04-15 19:06:19.695962: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:19.696189: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:19.696278: Hiển thị template mặc định cho GET
2025-04-15 19:06:19.699457: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:19.705426: current_user: id=1, is_admin=True
2025-04-15 19:06:19.705566: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:19.705713: Trước khi kiểm tra request.method
2025-04-15 19:06:19.705806: Phương thức: GET
2025-04-15 19:06:19.705903: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:19.706171: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:19.706255: Hiển thị template mặc định cho GET
2025-04-15 19:06:19.708404: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:20.029158: current_user: id=1, is_admin=True
2025-04-15 19:06:20.029423: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:20.029619: Trước khi kiểm tra request.method
2025-04-15 19:06:20.029739: Phương thức: GET
2025-04-15 19:06:20.029821: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:20.030098: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:20.030199: Hiển thị template mặc định cho GET
2025-04-15 19:06:20.032449: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:20.278715: current_user: id=1, is_admin=True
2025-04-15 19:06:20.278859: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:20.278946: Trước khi kiểm tra request.method
2025-04-15 19:06:20.279069: Phương thức: GET
2025-04-15 19:06:20.279160: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:20.279381: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:20.279451: Hiển thị template mặc định cho GET
2025-04-15 19:06:20.281742: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:20.339853: current_user: id=1, is_admin=True
2025-04-15 19:06:20.339986: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:20.340082: Trước khi kiểm tra request.method
2025-04-15 19:06:20.340152: Phương thức: GET
2025-04-15 19:06:20.340213: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:20.340416: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:20.340484: Hiển thị template mặc định cho GET
2025-04-15 19:06:20.342746: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:20.600604: current_user: id=1, is_admin=True
2025-04-15 19:06:20.600757: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:20.600914: Trước khi kiểm tra request.method
2025-04-15 19:06:20.601004: Phương thức: GET
2025-04-15 19:06:20.601071: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:20.601296: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:20.601372: Hiển thị template mặc định cho GET
2025-04-15 19:06:20.603490: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:20.649677: current_user: id=1, is_admin=True
2025-04-15 19:06:20.649825: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:20.649957: Trước khi kiểm tra request.method
2025-04-15 19:06:20.650052: Phương thức: GET
2025-04-15 19:06:20.650148: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:20.650460: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:20.650540: Hiển thị template mặc định cho GET
2025-04-15 19:06:20.652723: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:20.910219: current_user: id=1, is_admin=True
2025-04-15 19:06:20.910456: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:20.910534: Trước khi kiểm tra request.method
2025-04-15 19:06:20.910603: Phương thức: GET
2025-04-15 19:06:20.910662: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:20.910892: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:20.910963: Hiển thị template mặc định cho GET
2025-04-15 19:06:20.913525: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:20.971925: current_user: id=1, is_admin=True
2025-04-15 19:06:20.972058: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:20.972197: Trước khi kiểm tra request.method
2025-04-15 19:06:20.972290: Phương thức: GET
2025-04-15 19:06:20.972355: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:20.972589: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:20.972671: Hiển thị template mặc định cho GET
2025-04-15 19:06:20.975088: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:27.957852: current_user: id=1, is_admin=True
2025-04-15 19:06:27.958060: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:27.958132: Trước khi kiểm tra request.method
2025-04-15 19:06:27.958202: Phương thức: GET
2025-04-15 19:06:27.958269: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:27.958727: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:27.958842: Hiển thị template mặc định cho GET
2025-04-15 19:06:27.963006: ERROR: Lỗi trong view_bills: No filter named 'format_currency'.
2025-04-15 19:06:27.965167: ERROR: Lỗi trong admin_required: No filter named 'format_currency'.
2025-04-15 19:06:53.145384: current_user: id=1, is_admin=True
2025-04-15 19:06:53.145556: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:53.145653: Trước khi kiểm tra request.method
2025-04-15 19:06:53.145718: Phương thức: GET
2025-04-15 19:06:53.145923: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:53.146300: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:53.146399: Hiển thị template mặc định cho GET
2025-04-15 19:06:55.258155: current_user: id=1, is_admin=True
2025-04-15 19:06:55.258313: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:06:55.258474: Trước khi kiểm tra request.method
2025-04-15 19:06:55.258602: Phương thức: GET
2025-04-15 19:06:55.258730: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:06:55.259055: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:06:55.259165: Hiển thị template mặc định cho GET
2025-04-15 19:07:00.315754: current_user: id=1, is_admin=True
2025-04-15 19:07:00.315921: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:07:00.316005: Trước khi kiểm tra request.method
2025-04-15 19:07:00.316073: Phương thức: POST
2025-04-15 19:07:00.316132: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:07:00.316355: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:07:00.316423: Trước khi lấy date_str
2025-04-15 19:07:00.317124: Nhận được date_str: 2025-04-15
2025-04-15 19:07:00.317201: Trước khi chuyển đổi ngày
2025-04-15 19:07:00.318618: Đã chuyển đổi date: 2025-04-15
2025-04-15 19:07:00.318740: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-15 19:07:00.321121: Tìm thấy 19 đơn hàng
2025-04-15 19:07:00.321251: Xử lý đơn hàng: 6
2025-04-15 19:07:00.321352: Trước khi lấy bàn cho đơn hàng 6
2025-04-15 19:07:00.322665: Table cho đơn hàng 6: <Table 1>
2025-04-15 19:07:00.324555: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.324728: Xử lý mục: order_id=6, item_id=6
2025-04-15 19:07:00.324869: Trước khi lấy món với ID 6
2025-04-15 19:07:00.326139: menu_item: <Item 6>
2025-04-15 19:07:00.326227: Trước khi lấy giá cho món 6
2025-04-15 19:07:00.327789: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:00.327883: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.327962: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.328028: Xử lý mục: order_id=6, item_id=7
2025-04-15 19:07:00.328091: Trước khi lấy món với ID 7
2025-04-15 19:07:00.328542: menu_item: <Item 7>
2025-04-15 19:07:00.328617: Trước khi lấy giá cho món 7
2025-04-15 19:07:00.329137: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:00.329237: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.329316: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.329394: Xử lý mục: order_id=6, item_id=8
2025-04-15 19:07:00.329489: Trước khi lấy món với ID 8
2025-04-15 19:07:00.330020: menu_item: <Item 8>
2025-04-15 19:07:00.330104: Trước khi lấy giá cho món 8
2025-04-15 19:07:00.330619: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:00.330703: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.330775: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.330859: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:00.330971: Định dạng tiền tệ: 52000.0
2025-04-15 19:07:00.331094: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:07:00.331173: Thêm hóa đơn: order_id=6
2025-04-15 19:07:00.331236: Xử lý đơn hàng: 7
2025-04-15 19:07:00.331302: Trước khi lấy bàn cho đơn hàng 7
2025-04-15 19:07:00.331777: Table cho đơn hàng 7: <Table 2>
2025-04-15 19:07:00.332222: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.332303: Xử lý mục: order_id=7, item_id=6
2025-04-15 19:07:00.332393: Trước khi lấy món với ID 6
2025-04-15 19:07:00.332803: menu_item: <Item 6>
2025-04-15 19:07:00.332875: Trước khi lấy giá cho món 6
2025-04-15 19:07:00.333305: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:00.333379: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.333457: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.333522: Xử lý mục: order_id=7, item_id=7
2025-04-15 19:07:00.333592: Trước khi lấy món với ID 7
2025-04-15 19:07:00.333985: menu_item: <Item 7>
2025-04-15 19:07:00.334065: Trước khi lấy giá cho món 7
2025-04-15 19:07:00.334530: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:00.334609: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.334675: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.334737: Xử lý mục: order_id=7, item_id=14
2025-04-15 19:07:00.334797: Trước khi lấy món với ID 14
2025-04-15 19:07:00.335167: menu_item: <Item 14>
2025-04-15 19:07:00.335239: Trước khi lấy giá cho món 14
2025-04-15 19:07:00.335671: price_at_order: None
2025-04-15 19:07:00.335773: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-15 19:07:00.335844: Định dạng tiền tệ: 0
2025-04-15 19:07:00.335928: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.336017: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.336094: Định dạng tiền tệ: 122000.0
2025-04-15 19:07:00.336190: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:07:00.336286: Thêm hóa đơn: order_id=7
2025-04-15 19:07:00.336357: Xử lý đơn hàng: 8
2025-04-15 19:07:00.336473: Trước khi lấy bàn cho đơn hàng 8
2025-04-15 19:07:00.337075: Table cho đơn hàng 8: <Table 1>
2025-04-15 19:07:00.337525: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.337604: Xử lý mục: order_id=8, item_id=5
2025-04-15 19:07:00.337671: Trước khi lấy món với ID 5
2025-04-15 19:07:00.338120: menu_item: <Item 5>
2025-04-15 19:07:00.338201: Trước khi lấy giá cho món 5
2025-04-15 19:07:00.338677: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:00.338756: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.338826: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.338894: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:00.338958: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.339029: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:00.339094: Thêm hóa đơn: order_id=8
2025-04-15 19:07:00.339155: Xử lý đơn hàng: 9
2025-04-15 19:07:00.339223: Trước khi lấy bàn cho đơn hàng 9
2025-04-15 19:07:00.339623: Table cho đơn hàng 9: <Table 2>
2025-04-15 19:07:00.339963: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.340037: Xử lý mục: order_id=9, item_id=5
2025-04-15 19:07:00.340105: Trước khi lấy món với ID 5
2025-04-15 19:07:00.340272: menu_item: <Item 5>
2025-04-15 19:07:00.340345: Trước khi lấy giá cho món 5
2025-04-15 19:07:00.340814: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:00.340892: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.340962: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.341027: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:00.341090: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.341161: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:00.341307: Thêm hóa đơn: order_id=9
2025-04-15 19:07:00.341402: Xử lý đơn hàng: 10
2025-04-15 19:07:00.341476: Trước khi lấy bàn cho đơn hàng 10
2025-04-15 19:07:00.341922: Table cho đơn hàng 10: <Table 3>
2025-04-15 19:07:00.342379: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.342494: Xử lý mục: order_id=10, item_id=9
2025-04-15 19:07:00.342627: Trước khi lấy món với ID 9
2025-04-15 19:07:00.343210: menu_item: <Item 9>
2025-04-15 19:07:00.343329: Trước khi lấy giá cho món 9
2025-04-15 19:07:00.343883: price_at_order: None
2025-04-15 19:07:00.343985: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-15 19:07:00.344094: Định dạng tiền tệ: 0
2025-04-15 19:07:00.344185: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.344278: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.344354: Định dạng tiền tệ: 15000.0
2025-04-15 19:07:00.344464: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}
2025-04-15 19:07:00.344598: Thêm hóa đơn: order_id=10
2025-04-15 19:07:00.344686: Xử lý đơn hàng: 11
2025-04-15 19:07:00.344759: Trước khi lấy bàn cho đơn hàng 11
2025-04-15 19:07:00.345261: Table cho đơn hàng 11: <Table 4>
2025-04-15 19:07:00.345706: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.345805: Xử lý mục: order_id=11, item_id=7
2025-04-15 19:07:00.345898: Trước khi lấy món với ID 7
2025-04-15 19:07:00.346346: menu_item: <Item 7>
2025-04-15 19:07:00.346441: Trước khi lấy giá cho món 7
2025-04-15 19:07:00.346904: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:00.347020: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.347180: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.347310: Xử lý mục: order_id=11, item_id=8
2025-04-15 19:07:00.347417: Trước khi lấy món với ID 8
2025-04-15 19:07:00.347847: menu_item: <Item 8>
2025-04-15 19:07:00.347940: Trước khi lấy giá cho món 8
2025-04-15 19:07:00.348393: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:00.348489: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.348561: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.348640: Xử lý mục: order_id=11, item_id=9
2025-04-15 19:07:00.348722: Trước khi lấy món với ID 9
2025-04-15 19:07:00.349111: menu_item: <Item 9>
2025-04-15 19:07:00.349191: Trước khi lấy giá cho món 9
2025-04-15 19:07:00.349793: price_at_order: None
2025-04-15 19:07:00.349953: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-15 19:07:00.350120: Định dạng tiền tệ: 0
2025-04-15 19:07:00.350270: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.350414: Xử lý mục: order_id=11, item_id=11
2025-04-15 19:07:00.350498: Trước khi lấy món với ID 11
2025-04-15 19:07:00.351125: menu_item: <Item 11>
2025-04-15 19:07:00.351210: Trước khi lấy giá cho món 11
2025-04-15 19:07:00.351803: price_at_order: None
2025-04-15 19:07:00.351914: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-15 19:07:00.352005: Định dạng tiền tệ: 0
2025-04-15 19:07:00.352079: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.352177: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.352250: Định dạng tiền tệ: 97000.0
2025-04-15 19:07:00.352347: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}
2025-04-15 19:07:00.352416: Thêm hóa đơn: order_id=11
2025-04-15 19:07:00.352500: Xử lý đơn hàng: 12
2025-04-15 19:07:00.352582: Trước khi lấy bàn cho đơn hàng 12
2025-04-15 19:07:00.353067: Table cho đơn hàng 12: <Table 10>
2025-04-15 19:07:00.353483: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.353579: Xử lý mục: order_id=12, item_id=8
2025-04-15 19:07:00.353651: Trước khi lấy món với ID 8
2025-04-15 19:07:00.354083: menu_item: <Item 8>
2025-04-15 19:07:00.354177: Trước khi lấy giá cho món 8
2025-04-15 19:07:00.354633: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:00.354721: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.354829: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.354921: Xử lý mục: order_id=12, item_id=9
2025-04-15 19:07:00.354988: Trước khi lấy món với ID 9
2025-04-15 19:07:00.355406: menu_item: <Item 9>
2025-04-15 19:07:00.355503: Trước khi lấy giá cho món 9
2025-04-15 19:07:00.355892: price_at_order: None
2025-04-15 19:07:00.355990: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:00.356093: Định dạng tiền tệ: 0
2025-04-15 19:07:00.356241: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.356491: Xử lý mục: order_id=12, item_id=10
2025-04-15 19:07:00.356619: Trước khi lấy món với ID 10
2025-04-15 19:07:00.357324: menu_item: <Item 10>
2025-04-15 19:07:00.357435: Trước khi lấy giá cho món 10
2025-04-15 19:07:00.357989: price_at_order: None
2025-04-15 19:07:00.358075: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:00.358144: Định dạng tiền tệ: 0
2025-04-15 19:07:00.358229: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.358355: Xử lý mục: order_id=12, item_id=14
2025-04-15 19:07:00.358450: Trước khi lấy món với ID 14
2025-04-15 19:07:00.358952: menu_item: <Item 14>
2025-04-15 19:07:00.359035: Trước khi lấy giá cho món 14
2025-04-15 19:07:00.359473: price_at_order: None
2025-04-15 19:07:00.359571: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:00.359642: Định dạng tiền tệ: 0
2025-04-15 19:07:00.359723: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.359792: Xử lý mục: order_id=12, item_id=15
2025-04-15 19:07:00.359865: Trước khi lấy món với ID 15
2025-04-15 19:07:00.360305: menu_item: <Item 15>
2025-04-15 19:07:00.360393: Trước khi lấy giá cho món 15
2025-04-15 19:07:00.360836: price_at_order: None
2025-04-15 19:07:00.360924: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:00.361009: Định dạng tiền tệ: 0
2025-04-15 19:07:00.361114: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.361213: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.361288: Định dạng tiền tệ: 145000.0
2025-04-15 19:07:00.361383: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}
2025-04-15 19:07:00.361450: Thêm hóa đơn: order_id=12
2025-04-15 19:07:00.361511: Xử lý đơn hàng: 13
2025-04-15 19:07:00.361633: Trước khi lấy bàn cho đơn hàng 13
2025-04-15 19:07:00.362052: Table cho đơn hàng 13: <Table 16>
2025-04-15 19:07:00.362467: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.362563: Xử lý mục: order_id=13, item_id=8
2025-04-15 19:07:00.362630: Trước khi lấy món với ID 8
2025-04-15 19:07:00.363017: menu_item: <Item 8>
2025-04-15 19:07:00.363133: Trước khi lấy giá cho món 8
2025-04-15 19:07:00.363793: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:00.363907: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.364041: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.364171: Xử lý mục: order_id=13, item_id=11
2025-04-15 19:07:00.364282: Trước khi lấy món với ID 11
2025-04-15 19:07:00.364897: menu_item: <Item 11>
2025-04-15 19:07:00.364994: Trước khi lấy giá cho món 11
2025-04-15 19:07:00.365549: price_at_order: None
2025-04-15 19:07:00.365648: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-15 19:07:00.365746: Định dạng tiền tệ: 0
2025-04-15 19:07:00.365841: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.365909: Xử lý mục: order_id=13, item_id=12
2025-04-15 19:07:00.365975: Trước khi lấy món với ID 12
2025-04-15 19:07:00.366482: menu_item: <Item 12>
2025-04-15 19:07:00.366559: Trước khi lấy giá cho món 12
2025-04-15 19:07:00.367003: price_at_order: None
2025-04-15 19:07:00.367095: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-15 19:07:00.367201: Định dạng tiền tệ: 0
2025-04-15 19:07:00.367274: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.367346: Xử lý mục: order_id=13, item_id=13
2025-04-15 19:07:00.367449: Trước khi lấy món với ID 13
2025-04-15 19:07:00.367864: menu_item: <Item 13>
2025-04-15 19:07:00.367964: Trước khi lấy giá cho món 13
2025-04-15 19:07:00.368366: price_at_order: None
2025-04-15 19:07:00.368461: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-15 19:07:00.368533: Định dạng tiền tệ: 0
2025-04-15 19:07:00.368626: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.368725: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.368797: Định dạng tiền tệ: 122000.0
2025-04-15 19:07:00.368891: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:07:00.368986: Thêm hóa đơn: order_id=13
2025-04-15 19:07:00.369051: Xử lý đơn hàng: 14
2025-04-15 19:07:00.369112: Trước khi lấy bàn cho đơn hàng 14
2025-04-15 19:07:00.369544: Table cho đơn hàng 14: <Table 7>
2025-04-15 19:07:00.369963: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.370072: Xử lý mục: order_id=14, item_id=11
2025-04-15 19:07:00.370175: Trước khi lấy món với ID 11
2025-04-15 19:07:00.370762: menu_item: <Item 11>
2025-04-15 19:07:00.370857: Trước khi lấy giá cho món 11
2025-04-15 19:07:00.371431: price_at_order: None
2025-04-15 19:07:00.371522: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-15 19:07:00.371593: Định dạng tiền tệ: 0
2025-04-15 19:07:00.371664: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.371738: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.371804: Định dạng tiền tệ: 200000.0
2025-04-15 19:07:00.371900: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}
2025-04-15 19:07:00.371993: Thêm hóa đơn: order_id=14
2025-04-15 19:07:00.372105: Xử lý đơn hàng: 15
2025-04-15 19:07:00.372178: Trước khi lấy bàn cho đơn hàng 15
2025-04-15 19:07:00.372693: Table cho đơn hàng 15: <Table 1>
2025-04-15 19:07:00.373140: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.373231: Xử lý mục: order_id=15, item_id=6
2025-04-15 19:07:00.373300: Trước khi lấy món với ID 6
2025-04-15 19:07:00.373749: menu_item: <Item 6>
2025-04-15 19:07:00.373847: Trước khi lấy giá cho món 6
2025-04-15 19:07:00.374297: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:00.374391: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.374465: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.374531: Xử lý mục: order_id=15, item_id=7
2025-04-15 19:07:00.374593: Trước khi lấy món với ID 7
2025-04-15 19:07:00.374979: menu_item: <Item 7>
2025-04-15 19:07:00.375054: Trước khi lấy giá cho món 7
2025-04-15 19:07:00.375490: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:00.375593: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.375681: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.375750: Xử lý mục: order_id=15, item_id=11
2025-04-15 19:07:00.375815: Trước khi lấy món với ID 11
2025-04-15 19:07:00.376216: menu_item: <Item 11>
2025-04-15 19:07:00.376305: Trước khi lấy giá cho món 11
2025-04-15 19:07:00.376752: price_at_order: None
2025-04-15 19:07:00.376861: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-15 19:07:00.376963: Định dạng tiền tệ: 0
2025-04-15 19:07:00.377101: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.377204: Xử lý mục: order_id=15, item_id=12
2025-04-15 19:07:00.377299: Trước khi lấy món với ID 12
2025-04-15 19:07:00.377886: menu_item: <Item 12>
2025-04-15 19:07:00.377996: Trước khi lấy giá cho món 12
2025-04-15 19:07:00.378549: price_at_order: None
2025-04-15 19:07:00.378652: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-15 19:07:00.378723: Định dạng tiền tệ: 0
2025-04-15 19:07:00.378825: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.378965: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.379080: Định dạng tiền tệ: 87000.0
2025-04-15 19:07:00.379186: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}
2025-04-15 19:07:00.379255: Thêm hóa đơn: order_id=15
2025-04-15 19:07:00.379319: Xử lý đơn hàng: 16
2025-04-15 19:07:00.379386: Trước khi lấy bàn cho đơn hàng 16
2025-04-15 19:07:00.379882: Table cho đơn hàng 16: <Table 2>
2025-04-15 19:07:00.380314: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.380405: Xử lý mục: order_id=16, item_id=10
2025-04-15 19:07:00.380472: Trước khi lấy món với ID 10
2025-04-15 19:07:00.380918: menu_item: <Item 10>
2025-04-15 19:07:00.381015: Trước khi lấy giá cho món 10
2025-04-15 19:07:00.381487: price_at_order: None
2025-04-15 19:07:00.381577: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-15 19:07:00.381648: Định dạng tiền tệ: 0
2025-04-15 19:07:00.381729: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.381839: Xử lý mục: order_id=16, item_id=11
2025-04-15 19:07:00.381925: Trước khi lấy món với ID 11
2025-04-15 19:07:00.382350: menu_item: <Item 11>
2025-04-15 19:07:00.382447: Trước khi lấy giá cho món 11
2025-04-15 19:07:00.382856: price_at_order: None
2025-04-15 19:07:00.382950: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-15 19:07:00.383020: Định dạng tiền tệ: 0
2025-04-15 19:07:00.383100: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.383161: Xử lý mục: order_id=16, item_id=15
2025-04-15 19:07:00.383222: Trước khi lấy món với ID 15
2025-04-15 19:07:00.383603: menu_item: <Item 15>
2025-04-15 19:07:00.383678: Trước khi lấy giá cho món 15
2025-04-15 19:07:00.384087: price_at_order: None
2025-04-15 19:07:00.384180: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-15 19:07:00.384292: Định dạng tiền tệ: 0
2025-04-15 19:07:00.384391: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.384479: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.384559: Định dạng tiền tệ: 90000.0
2025-04-15 19:07:00.384643: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}
2025-04-15 19:07:00.384720: Thêm hóa đơn: order_id=16
2025-04-15 19:07:00.384811: Xử lý đơn hàng: 17
2025-04-15 19:07:00.384886: Trước khi lấy bàn cho đơn hàng 17
2025-04-15 19:07:00.385587: Table cho đơn hàng 17: <Table 3>
2025-04-15 19:07:00.386074: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.386172: Xử lý mục: order_id=17, item_id=6
2025-04-15 19:07:00.386246: Trước khi lấy món với ID 6
2025-04-15 19:07:00.386756: menu_item: <Item 6>
2025-04-15 19:07:00.386844: Trước khi lấy giá cho món 6
2025-04-15 19:07:00.387336: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:00.387414: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.387481: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.387555: Xử lý mục: order_id=17, item_id=7
2025-04-15 19:07:00.387617: Trước khi lấy món với ID 7
2025-04-15 19:07:00.388062: menu_item: <Item 7>
2025-04-15 19:07:00.388143: Trước khi lấy giá cho món 7
2025-04-15 19:07:00.388575: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:00.388651: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.388715: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:00.388807: Xử lý mục: order_id=17, item_id=8
2025-04-15 19:07:00.388896: Trước khi lấy món với ID 8
2025-04-15 19:07:00.389297: menu_item: <Item 8>
2025-04-15 19:07:00.389376: Trước khi lấy giá cho món 8
2025-04-15 19:07:00.389801: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:00.389876: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.389943: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.390014: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:00.390080: Định dạng tiền tệ: 52000.0
2025-04-15 19:07:00.390160: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:07:00.390236: Thêm hóa đơn: order_id=17
2025-04-15 19:07:00.390300: Xử lý đơn hàng: 18
2025-04-15 19:07:00.390376: Trước khi lấy bàn cho đơn hàng 18
2025-04-15 19:07:00.390747: Table cho đơn hàng 18: <Table 4>
2025-04-15 19:07:00.391207: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.391317: Xử lý mục: order_id=18, item_id=14
2025-04-15 19:07:00.391406: Trước khi lấy món với ID 14
2025-04-15 19:07:00.392098: menu_item: <Item 14>
2025-04-15 19:07:00.392258: Trước khi lấy giá cho món 14
2025-04-15 19:07:00.392892: price_at_order: None
2025-04-15 19:07:00.392990: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-15 19:07:00.393058: Định dạng tiền tệ: 0
2025-04-15 19:07:00.393125: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.393246: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.393327: Định dạng tiền tệ: 150000.0
2025-04-15 19:07:00.393406: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}
2025-04-15 19:07:00.393471: Thêm hóa đơn: order_id=18
2025-04-15 19:07:00.393530: Xử lý đơn hàng: 19
2025-04-15 19:07:00.393590: Trước khi lấy bàn cho đơn hàng 19
2025-04-15 19:07:00.394121: Table cho đơn hàng 19: <Table 5>
2025-04-15 19:07:00.394532: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.394607: Xử lý mục: order_id=19, item_id=10
2025-04-15 19:07:00.394670: Trước khi lấy món với ID 10
2025-04-15 19:07:00.395082: menu_item: <Item 10>
2025-04-15 19:07:00.395181: Trước khi lấy giá cho món 10
2025-04-15 19:07:00.395592: price_at_order: None
2025-04-15 19:07:00.395669: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-15 19:07:00.395737: Định dạng tiền tệ: 0
2025-04-15 19:07:00.395804: Định dạng tiền tệ: 0.0
2025-04-15 19:07:00.395899: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:00.395992: Định dạng tiền tệ: 60000.0
2025-04-15 19:07:00.396078: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}
2025-04-15 19:07:00.396148: Thêm hóa đơn: order_id=19
2025-04-15 19:07:00.396225: Xử lý đơn hàng: 20
2025-04-15 19:07:00.396289: Trước khi lấy bàn cho đơn hàng 20
2025-04-15 19:07:00.396665: Table cho đơn hàng 20: <Table 1>
2025-04-15 19:07:00.397011: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.397084: Xử lý mục: order_id=20, item_id=5
2025-04-15 19:07:00.397161: Trước khi lấy món với ID 5
2025-04-15 19:07:00.397519: menu_item: <Item 5>
2025-04-15 19:07:00.397589: Trước khi lấy giá cho món 5
2025-04-15 19:07:00.398111: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:00.398266: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.398387: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.398500: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:00.398605: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.398727: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:00.398859: Thêm hóa đơn: order_id=20
2025-04-15 19:07:00.398971: Xử lý đơn hàng: 21
2025-04-15 19:07:00.399046: Trước khi lấy bàn cho đơn hàng 21
2025-04-15 19:07:00.399295: Table cho đơn hàng 21: <Table 1>
2025-04-15 19:07:00.400086: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.400177: Xử lý mục: order_id=21, item_id=6
2025-04-15 19:07:00.400253: Trước khi lấy món với ID 6
2025-04-15 19:07:00.400788: menu_item: <Item 6>
2025-04-15 19:07:00.400929: Trước khi lấy giá cho món 6
2025-04-15 19:07:00.401527: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:00.401617: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.401689: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.401757: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:07:00.401821: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.401888: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:07:00.401973: Thêm hóa đơn: order_id=21
2025-04-15 19:07:00.402084: Xử lý đơn hàng: 22
2025-04-15 19:07:00.402200: Trước khi lấy bàn cho đơn hàng 22
2025-04-15 19:07:00.402380: Table cho đơn hàng 22: <Table 1>
2025-04-15 19:07:00.402797: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.402888: Xử lý mục: order_id=22, item_id=6
2025-04-15 19:07:00.402953: Trước khi lấy món với ID 6
2025-04-15 19:07:00.403119: menu_item: <Item 6>
2025-04-15 19:07:00.403237: Trước khi lấy giá cho món 6
2025-04-15 19:07:00.403751: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:00.403854: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.403930: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.404020: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:07:00.404090: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.404182: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:07:00.404249: Thêm hóa đơn: order_id=22
2025-04-15 19:07:00.404318: Xử lý đơn hàng: 23
2025-04-15 19:07:00.404378: Trước khi lấy bàn cho đơn hàng 23
2025-04-15 19:07:00.404567: Table cho đơn hàng 23: <Table 1>
2025-04-15 19:07:00.405017: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.405136: Xử lý mục: order_id=23, item_id=6
2025-04-15 19:07:00.405225: Trước khi lấy món với ID 6
2025-04-15 19:07:00.405455: menu_item: <Item 6>
2025-04-15 19:07:00.405550: Trước khi lấy giá cho món 6
2025-04-15 19:07:00.406173: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:00.406265: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.406341: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.406415: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:07:00.406485: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:00.406571: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:07:00.406644: Thêm hóa đơn: order_id=23
2025-04-15 19:07:00.406702: Xử lý đơn hàng: 24
2025-04-15 19:07:00.406763: Trước khi lấy bàn cho đơn hàng 24
2025-04-15 19:07:00.406923: Table cho đơn hàng 24: <Table 1>
2025-04-15 19:07:00.407347: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:00.407437: Xử lý mục: order_id=24, item_id=5
2025-04-15 19:07:00.407515: Trước khi lấy món với ID 5
2025-04-15 19:07:00.407945: menu_item: <Item 5>
2025-04-15 19:07:00.408018: Trước khi lấy giá cho món 5
2025-04-15 19:07:00.408512: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:00.408595: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.408662: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.408728: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:00.408789: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:00.408856: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:00.408933: Thêm hóa đơn: order_id=24
2025-04-15 19:07:00.408995: Chuẩn bị render template với 19 hóa đơn
2025-04-15 19:07:00.409176: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}]
2025-04-15 19:07:00.409272: Total revenue: 1342000.0
2025-04-15 19:07:00.409334: Định dạng tiền tệ: 1342000.0
2025-04-15 19:07:00.409392: Formatted total revenue: 1,342,000 VNĐ
2025-04-15 19:07:00.409453: Date string: 2025-04-15
2025-04-15 19:07:00.409511: Định dạng tiền tệ: 1342000.0
2025-04-15 19:07:00.409569: Render template: bills=19, total_revenue=1,342,000 VNĐ, date=2025-04-15
2025-04-15 19:07:00.409625: Định dạng tiền tệ: 1342000.0
2025-04-15 19:07:31.009245: current_user: id=1, is_admin=True
2025-04-15 19:07:31.009384: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:07:31.009456: Trước khi kiểm tra request.method
2025-04-15 19:07:31.009595: Phương thức: POST
2025-04-15 19:07:31.009685: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:07:31.010002: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:07:31.010093: Trước khi lấy date_str
2025-04-15 19:07:31.010334: Nhận được date_str: 2025-04-15
2025-04-15 19:07:31.010441: Trước khi chuyển đổi ngày
2025-04-15 19:07:31.010544: Đã chuyển đổi date: 2025-04-15
2025-04-15 19:07:31.010606: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-15 19:07:31.011311: Tìm thấy 19 đơn hàng
2025-04-15 19:07:31.011401: Xử lý đơn hàng: 6
2025-04-15 19:07:31.011468: Trước khi lấy bàn cho đơn hàng 6
2025-04-15 19:07:31.011945: Table cho đơn hàng 6: <Table 1>
2025-04-15 19:07:31.012361: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.012434: Xử lý mục: order_id=6, item_id=6
2025-04-15 19:07:31.012509: Trước khi lấy món với ID 6
2025-04-15 19:07:31.012955: menu_item: <Item 6>
2025-04-15 19:07:31.013040: Trước khi lấy giá cho món 6
2025-04-15 19:07:31.013541: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:31.013623: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.013694: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.013762: Xử lý mục: order_id=6, item_id=7
2025-04-15 19:07:31.013880: Trước khi lấy món với ID 7
2025-04-15 19:07:31.014457: menu_item: <Item 7>
2025-04-15 19:07:31.014561: Trước khi lấy giá cho món 7
2025-04-15 19:07:31.015181: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:31.015273: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.015396: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.015523: Xử lý mục: order_id=6, item_id=8
2025-04-15 19:07:31.015605: Trước khi lấy món với ID 8
2025-04-15 19:07:31.016079: menu_item: <Item 8>
2025-04-15 19:07:31.016163: Trước khi lấy giá cho món 8
2025-04-15 19:07:31.016621: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:31.016739: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.016812: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.016908: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:31.017035: Định dạng tiền tệ: 52000.0
2025-04-15 19:07:31.017132: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:07:31.017208: Thêm hóa đơn: order_id=6
2025-04-15 19:07:31.017270: Xử lý đơn hàng: 7
2025-04-15 19:07:31.017332: Trước khi lấy bàn cho đơn hàng 7
2025-04-15 19:07:31.017876: Table cho đơn hàng 7: <Table 2>
2025-04-15 19:07:31.018378: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.018482: Xử lý mục: order_id=7, item_id=6
2025-04-15 19:07:31.018563: Trước khi lấy món với ID 6
2025-04-15 19:07:31.019285: menu_item: <Item 6>
2025-04-15 19:07:31.019399: Trước khi lấy giá cho món 6
2025-04-15 19:07:31.019953: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:31.020035: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.020104: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.020167: Xử lý mục: order_id=7, item_id=7
2025-04-15 19:07:31.020227: Trước khi lấy món với ID 7
2025-04-15 19:07:31.020652: menu_item: <Item 7>
2025-04-15 19:07:31.020725: Trước khi lấy giá cho món 7
2025-04-15 19:07:31.021211: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:31.021303: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.021374: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.021439: Xử lý mục: order_id=7, item_id=14
2025-04-15 19:07:31.021499: Trước khi lấy món với ID 14
2025-04-15 19:07:31.021891: menu_item: <Item 14>
2025-04-15 19:07:31.021967: Trước khi lấy giá cho món 14
2025-04-15 19:07:31.022382: price_at_order: None
2025-04-15 19:07:31.022466: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-15 19:07:31.022534: Định dạng tiền tệ: 0
2025-04-15 19:07:31.022599: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.022673: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.022740: Định dạng tiền tệ: 122000.0
2025-04-15 19:07:31.022810: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:07:31.022874: Thêm hóa đơn: order_id=7
2025-04-15 19:07:31.022933: Xử lý đơn hàng: 8
2025-04-15 19:07:31.022992: Trước khi lấy bàn cho đơn hàng 8
2025-04-15 19:07:31.023366: Table cho đơn hàng 8: <Table 1>
2025-04-15 19:07:31.023745: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.023828: Xử lý mục: order_id=8, item_id=5
2025-04-15 19:07:31.023895: Trước khi lấy món với ID 5
2025-04-15 19:07:31.024339: menu_item: <Item 5>
2025-04-15 19:07:31.024442: Trước khi lấy giá cho món 5
2025-04-15 19:07:31.024945: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:31.025054: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.025124: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.025193: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:31.025264: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.025404: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:31.025484: Thêm hóa đơn: order_id=8
2025-04-15 19:07:31.025583: Xử lý đơn hàng: 9
2025-04-15 19:07:31.025656: Trước khi lấy bàn cho đơn hàng 9
2025-04-15 19:07:31.026364: Table cho đơn hàng 9: <Table 2>
2025-04-15 19:07:31.026874: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.026957: Xử lý mục: order_id=9, item_id=5
2025-04-15 19:07:31.027023: Trước khi lấy món với ID 5
2025-04-15 19:07:31.027190: menu_item: <Item 5>
2025-04-15 19:07:31.027256: Trước khi lấy giá cho món 5
2025-04-15 19:07:31.027783: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:31.027863: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.027957: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.028037: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:31.028103: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.028183: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:31.028248: Thêm hóa đơn: order_id=9
2025-04-15 19:07:31.028316: Xử lý đơn hàng: 10
2025-04-15 19:07:31.028378: Trước khi lấy bàn cho đơn hàng 10
2025-04-15 19:07:31.028776: Table cho đơn hàng 10: <Table 3>
2025-04-15 19:07:31.029100: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.029175: Xử lý mục: order_id=10, item_id=9
2025-04-15 19:07:31.029238: Trước khi lấy món với ID 9
2025-04-15 19:07:31.029635: menu_item: <Item 9>
2025-04-15 19:07:31.029708: Trước khi lấy giá cho món 9
2025-04-15 19:07:31.030122: price_at_order: None
2025-04-15 19:07:31.030200: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-15 19:07:31.030269: Định dạng tiền tệ: 0
2025-04-15 19:07:31.030334: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.030402: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.030464: Định dạng tiền tệ: 15000.0
2025-04-15 19:07:31.030533: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}
2025-04-15 19:07:31.030595: Thêm hóa đơn: order_id=10
2025-04-15 19:07:31.030658: Xử lý đơn hàng: 11
2025-04-15 19:07:31.030722: Trước khi lấy bàn cho đơn hàng 11
2025-04-15 19:07:31.031191: Table cho đơn hàng 11: <Table 4>
2025-04-15 19:07:31.031627: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.031715: Xử lý mục: order_id=11, item_id=7
2025-04-15 19:07:31.031787: Trước khi lấy món với ID 7
2025-04-15 19:07:31.032231: menu_item: <Item 7>
2025-04-15 19:07:31.032306: Trước khi lấy giá cho món 7
2025-04-15 19:07:31.032763: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:31.032860: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.032929: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.032992: Xử lý mục: order_id=11, item_id=8
2025-04-15 19:07:31.033052: Trước khi lấy món với ID 8
2025-04-15 19:07:31.033431: menu_item: <Item 8>
2025-04-15 19:07:31.033506: Trước khi lấy giá cho món 8
2025-04-15 19:07:31.033919: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:31.033991: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.034064: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.034128: Xử lý mục: order_id=11, item_id=9
2025-04-15 19:07:31.034188: Trước khi lấy món với ID 9
2025-04-15 19:07:31.034533: menu_item: <Item 9>
2025-04-15 19:07:31.034603: Trước khi lấy giá cho món 9
2025-04-15 19:07:31.034977: price_at_order: None
2025-04-15 19:07:31.035058: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-15 19:07:31.035137: Định dạng tiền tệ: 0
2025-04-15 19:07:31.035204: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.035268: Xử lý mục: order_id=11, item_id=11
2025-04-15 19:07:31.035326: Trước khi lấy món với ID 11
2025-04-15 19:07:31.035681: menu_item: <Item 11>
2025-04-15 19:07:31.035753: Trước khi lấy giá cho món 11
2025-04-15 19:07:31.036123: price_at_order: None
2025-04-15 19:07:31.036198: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-15 19:07:31.036260: Định dạng tiền tệ: 0
2025-04-15 19:07:31.036333: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.036409: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.036473: Định dạng tiền tệ: 97000.0
2025-04-15 19:07:31.036571: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}
2025-04-15 19:07:31.036683: Thêm hóa đơn: order_id=11
2025-04-15 19:07:31.036756: Xử lý đơn hàng: 12
2025-04-15 19:07:31.036823: Trước khi lấy bàn cho đơn hàng 12
2025-04-15 19:07:31.037218: Table cho đơn hàng 12: <Table 10>
2025-04-15 19:07:31.037599: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.037682: Xử lý mục: order_id=12, item_id=8
2025-04-15 19:07:31.037749: Trước khi lấy món với ID 8
2025-04-15 19:07:31.038147: menu_item: <Item 8>
2025-04-15 19:07:31.038226: Trước khi lấy giá cho món 8
2025-04-15 19:07:31.038756: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:31.038845: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.038953: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.039024: Xử lý mục: order_id=12, item_id=9
2025-04-15 19:07:31.039104: Trước khi lấy món với ID 9
2025-04-15 19:07:31.039529: menu_item: <Item 9>
2025-04-15 19:07:31.039610: Trước khi lấy giá cho món 9
2025-04-15 19:07:31.040050: price_at_order: None
2025-04-15 19:07:31.040132: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:31.040212: Định dạng tiền tệ: 0
2025-04-15 19:07:31.040289: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.040359: Xử lý mục: order_id=12, item_id=10
2025-04-15 19:07:31.040440: Trước khi lấy món với ID 10
2025-04-15 19:07:31.041050: menu_item: <Item 10>
2025-04-15 19:07:31.041157: Trước khi lấy giá cho món 10
2025-04-15 19:07:31.041743: price_at_order: None
2025-04-15 19:07:31.041836: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:31.041904: Định dạng tiền tệ: 0
2025-04-15 19:07:31.041971: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.042032: Xử lý mục: order_id=12, item_id=14
2025-04-15 19:07:31.042092: Trước khi lấy món với ID 14
2025-04-15 19:07:31.042543: menu_item: <Item 14>
2025-04-15 19:07:31.042624: Trước khi lấy giá cho món 14
2025-04-15 19:07:31.043042: price_at_order: None
2025-04-15 19:07:31.043122: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:31.043246: Định dạng tiền tệ: 0
2025-04-15 19:07:31.043342: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.043412: Xử lý mục: order_id=12, item_id=15
2025-04-15 19:07:31.043478: Trước khi lấy món với ID 15
2025-04-15 19:07:31.043893: menu_item: <Item 15>
2025-04-15 19:07:31.043970: Trước khi lấy giá cho món 15
2025-04-15 19:07:31.044427: price_at_order: None
2025-04-15 19:07:31.044510: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-15 19:07:31.044575: Định dạng tiền tệ: 0
2025-04-15 19:07:31.044640: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.044777: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.044878: Định dạng tiền tệ: 145000.0
2025-04-15 19:07:31.044972: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}
2025-04-15 19:07:31.045044: Thêm hóa đơn: order_id=12
2025-04-15 19:07:31.045112: Xử lý đơn hàng: 13
2025-04-15 19:07:31.045200: Trước khi lấy bàn cho đơn hàng 13
2025-04-15 19:07:31.045871: Table cho đơn hàng 13: <Table 16>
2025-04-15 19:07:31.046397: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.046475: Xử lý mục: order_id=13, item_id=8
2025-04-15 19:07:31.046538: Trước khi lấy món với ID 8
2025-04-15 19:07:31.046980: menu_item: <Item 8>
2025-04-15 19:07:31.047056: Trước khi lấy giá cho món 8
2025-04-15 19:07:31.047605: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:31.047702: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.047824: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.047908: Xử lý mục: order_id=13, item_id=11
2025-04-15 19:07:31.047992: Trước khi lấy món với ID 11
2025-04-15 19:07:31.048479: menu_item: <Item 11>
2025-04-15 19:07:31.048560: Trước khi lấy giá cho món 11
2025-04-15 19:07:31.049007: price_at_order: None
2025-04-15 19:07:31.049085: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-15 19:07:31.049203: Định dạng tiền tệ: 0
2025-04-15 19:07:31.049271: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.049333: Xử lý mục: order_id=13, item_id=12
2025-04-15 19:07:31.049393: Trước khi lấy món với ID 12
2025-04-15 19:07:31.049792: menu_item: <Item 12>
2025-04-15 19:07:31.049883: Trước khi lấy giá cho món 12
2025-04-15 19:07:31.050274: price_at_order: None
2025-04-15 19:07:31.050348: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-15 19:07:31.050449: Định dạng tiền tệ: 0
2025-04-15 19:07:31.050532: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.050602: Xử lý mục: order_id=13, item_id=13
2025-04-15 19:07:31.050664: Trước khi lấy món với ID 13
2025-04-15 19:07:31.051057: menu_item: <Item 13>
2025-04-15 19:07:31.051136: Trước khi lấy giá cho món 13
2025-04-15 19:07:31.051526: price_at_order: None
2025-04-15 19:07:31.051605: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-15 19:07:31.051673: Định dạng tiền tệ: 0
2025-04-15 19:07:31.051739: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.051818: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.051889: Định dạng tiền tệ: 122000.0
2025-04-15 19:07:31.051971: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:07:31.052036: Thêm hóa đơn: order_id=13
2025-04-15 19:07:31.052097: Xử lý đơn hàng: 14
2025-04-15 19:07:31.052231: Trước khi lấy bàn cho đơn hàng 14
2025-04-15 19:07:31.052749: Table cho đơn hàng 14: <Table 7>
2025-04-15 19:07:31.053169: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.053248: Xử lý mục: order_id=14, item_id=11
2025-04-15 19:07:31.053377: Trước khi lấy món với ID 11
2025-04-15 19:07:31.053810: menu_item: <Item 11>
2025-04-15 19:07:31.053889: Trước khi lấy giá cho món 11
2025-04-15 19:07:31.054300: price_at_order: None
2025-04-15 19:07:31.054377: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-15 19:07:31.054443: Định dạng tiền tệ: 0
2025-04-15 19:07:31.054509: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.054577: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.054642: Định dạng tiền tệ: 200000.0
2025-04-15 19:07:31.054710: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}
2025-04-15 19:07:31.054776: Thêm hóa đơn: order_id=14
2025-04-15 19:07:31.054849: Xử lý đơn hàng: 15
2025-04-15 19:07:31.054944: Trước khi lấy bàn cho đơn hàng 15
2025-04-15 19:07:31.055354: Table cho đơn hàng 15: <Table 1>
2025-04-15 19:07:31.055734: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.055811: Xử lý mục: order_id=15, item_id=6
2025-04-15 19:07:31.055893: Trước khi lấy món với ID 6
2025-04-15 19:07:31.056274: menu_item: <Item 6>
2025-04-15 19:07:31.056346: Trước khi lấy giá cho món 6
2025-04-15 19:07:31.056753: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:31.056827: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.056907: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.056971: Xử lý mục: order_id=15, item_id=7
2025-04-15 19:07:31.057034: Trước khi lấy món với ID 7
2025-04-15 19:07:31.057425: menu_item: <Item 7>
2025-04-15 19:07:31.057501: Trước khi lấy giá cho món 7
2025-04-15 19:07:31.057920: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:31.058014: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.058089: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.058165: Xử lý mục: order_id=15, item_id=11
2025-04-15 19:07:31.058279: Trước khi lấy món với ID 11
2025-04-15 19:07:31.058821: menu_item: <Item 11>
2025-04-15 19:07:31.058906: Trước khi lấy giá cho món 11
2025-04-15 19:07:31.059411: price_at_order: None
2025-04-15 19:07:31.059507: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-15 19:07:31.059573: Định dạng tiền tệ: 0
2025-04-15 19:07:31.059641: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.059743: Xử lý mục: order_id=15, item_id=12
2025-04-15 19:07:31.059818: Trước khi lấy món với ID 12
2025-04-15 19:07:31.060255: menu_item: <Item 12>
2025-04-15 19:07:31.060334: Trước khi lấy giá cho món 12
2025-04-15 19:07:31.060778: price_at_order: None
2025-04-15 19:07:31.060860: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-15 19:07:31.060929: Định dạng tiền tệ: 0
2025-04-15 19:07:31.060994: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.061074: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.061141: Định dạng tiền tệ: 87000.0
2025-04-15 19:07:31.061220: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}
2025-04-15 19:07:31.061307: Thêm hóa đơn: order_id=15
2025-04-15 19:07:31.061377: Xử lý đơn hàng: 16
2025-04-15 19:07:31.061440: Trước khi lấy bàn cho đơn hàng 16
2025-04-15 19:07:31.061825: Table cho đơn hàng 16: <Table 2>
2025-04-15 19:07:31.062215: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.062300: Xử lý mục: order_id=16, item_id=10
2025-04-15 19:07:31.062403: Trước khi lấy món với ID 10
2025-04-15 19:07:31.062766: menu_item: <Item 10>
2025-04-15 19:07:31.062837: Trước khi lấy giá cho món 10
2025-04-15 19:07:31.063196: price_at_order: None
2025-04-15 19:07:31.063271: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-15 19:07:31.063352: Định dạng tiền tệ: 0
2025-04-15 19:07:31.063430: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.063495: Xử lý mục: order_id=16, item_id=11
2025-04-15 19:07:31.063558: Trước khi lấy món với ID 11
2025-04-15 19:07:31.063917: menu_item: <Item 11>
2025-04-15 19:07:31.063987: Trước khi lấy giá cho món 11
2025-04-15 19:07:31.064385: price_at_order: None
2025-04-15 19:07:31.064457: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-15 19:07:31.064522: Định dạng tiền tệ: 0
2025-04-15 19:07:31.064585: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.064645: Xử lý mục: order_id=16, item_id=15
2025-04-15 19:07:31.064710: Trước khi lấy món với ID 15
2025-04-15 19:07:31.065074: menu_item: <Item 15>
2025-04-15 19:07:31.065147: Trước khi lấy giá cho món 15
2025-04-15 19:07:31.065532: price_at_order: None
2025-04-15 19:07:31.065606: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-15 19:07:31.065708: Định dạng tiền tệ: 0
2025-04-15 19:07:31.065775: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.065851: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.065955: Định dạng tiền tệ: 90000.0
2025-04-15 19:07:31.066041: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}
2025-04-15 19:07:31.066112: Thêm hóa đơn: order_id=16
2025-04-15 19:07:31.066254: Xử lý đơn hàng: 17
2025-04-15 19:07:31.066375: Trước khi lấy bàn cho đơn hàng 17
2025-04-15 19:07:31.066884: Table cho đơn hàng 17: <Table 3>
2025-04-15 19:07:31.067295: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.067367: Xử lý mục: order_id=17, item_id=6
2025-04-15 19:07:31.067430: Trước khi lấy món với ID 6
2025-04-15 19:07:31.067858: menu_item: <Item 6>
2025-04-15 19:07:31.067929: Trước khi lấy giá cho món 6
2025-04-15 19:07:31.068411: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:31.068502: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.068572: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.068642: Xử lý mục: order_id=17, item_id=7
2025-04-15 19:07:31.068712: Trước khi lấy món với ID 7
2025-04-15 19:07:31.069095: menu_item: <Item 7>
2025-04-15 19:07:31.069172: Trước khi lấy giá cho món 7
2025-04-15 19:07:31.069604: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:07:31.069682: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.069760: Định dạng tiền tệ: 12000.0
2025-04-15 19:07:31.069825: Xử lý mục: order_id=17, item_id=8
2025-04-15 19:07:31.069885: Trước khi lấy món với ID 8
2025-04-15 19:07:31.070236: menu_item: <Item 8>
2025-04-15 19:07:31.070309: Trước khi lấy giá cho món 8
2025-04-15 19:07:31.070725: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:07:31.070802: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.070868: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.070948: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:31.071030: Định dạng tiền tệ: 52000.0
2025-04-15 19:07:31.071120: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:07:31.071193: Thêm hóa đơn: order_id=17
2025-04-15 19:07:31.071254: Xử lý đơn hàng: 18
2025-04-15 19:07:31.071314: Trước khi lấy bàn cho đơn hàng 18
2025-04-15 19:07:31.071694: Table cho đơn hàng 18: <Table 4>
2025-04-15 19:07:31.072144: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.072249: Xử lý mục: order_id=18, item_id=14
2025-04-15 19:07:31.072316: Trước khi lấy món với ID 14
2025-04-15 19:07:31.072771: menu_item: <Item 14>
2025-04-15 19:07:31.072869: Trước khi lấy giá cho món 14
2025-04-15 19:07:31.073354: price_at_order: None
2025-04-15 19:07:31.073435: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-15 19:07:31.073524: Định dạng tiền tệ: 0
2025-04-15 19:07:31.073597: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.073666: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.073733: Định dạng tiền tệ: 150000.0
2025-04-15 19:07:31.073824: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}
2025-04-15 19:07:31.073906: Thêm hóa đơn: order_id=18
2025-04-15 19:07:31.073969: Xử lý đơn hàng: 19
2025-04-15 19:07:31.074030: Trước khi lấy bàn cho đơn hàng 19
2025-04-15 19:07:31.074495: Table cho đơn hàng 19: <Table 5>
2025-04-15 19:07:31.074871: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.074944: Xử lý mục: order_id=19, item_id=10
2025-04-15 19:07:31.075007: Trước khi lấy món với ID 10
2025-04-15 19:07:31.075390: menu_item: <Item 10>
2025-04-15 19:07:31.075461: Trước khi lấy giá cho món 10
2025-04-15 19:07:31.075888: price_at_order: None
2025-04-15 19:07:31.075970: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-15 19:07:31.076107: Định dạng tiền tệ: 0
2025-04-15 19:07:31.076194: Định dạng tiền tệ: 0.0
2025-04-15 19:07:31.076265: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:07:31.076352: Định dạng tiền tệ: 60000.0
2025-04-15 19:07:31.076437: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}
2025-04-15 19:07:31.076507: Thêm hóa đơn: order_id=19
2025-04-15 19:07:31.076569: Xử lý đơn hàng: 20
2025-04-15 19:07:31.076631: Trước khi lấy bàn cho đơn hàng 20
2025-04-15 19:07:31.077001: Table cho đơn hàng 20: <Table 1>
2025-04-15 19:07:31.077329: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.077402: Xử lý mục: order_id=20, item_id=5
2025-04-15 19:07:31.077476: Trước khi lấy món với ID 5
2025-04-15 19:07:31.077844: menu_item: <Item 5>
2025-04-15 19:07:31.077920: Trước khi lấy giá cho món 5
2025-04-15 19:07:31.078346: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:31.078424: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.078489: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.078572: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:31.078641: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.078714: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:31.078779: Thêm hóa đơn: order_id=20
2025-04-15 19:07:31.078843: Xử lý đơn hàng: 21
2025-04-15 19:07:31.078912: Trước khi lấy bàn cho đơn hàng 21
2025-04-15 19:07:31.079092: Table cho đơn hàng 21: <Table 1>
2025-04-15 19:07:31.079639: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.079807: Xử lý mục: order_id=21, item_id=6
2025-04-15 19:07:31.079892: Trước khi lấy món với ID 6
2025-04-15 19:07:31.080532: menu_item: <Item 6>
2025-04-15 19:07:31.080629: Trước khi lấy giá cho món 6
2025-04-15 19:07:31.081182: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:31.081264: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.081333: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.081418: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:07:31.081525: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.081611: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:07:31.081689: Thêm hóa đơn: order_id=21
2025-04-15 19:07:31.081752: Xử lý đơn hàng: 22
2025-04-15 19:07:31.081811: Trước khi lấy bàn cho đơn hàng 22
2025-04-15 19:07:31.081959: Table cho đơn hàng 22: <Table 1>
2025-04-15 19:07:31.082339: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.082410: Xử lý mục: order_id=22, item_id=6
2025-04-15 19:07:31.082471: Trước khi lấy món với ID 6
2025-04-15 19:07:31.082608: menu_item: <Item 6>
2025-04-15 19:07:31.082672: Trước khi lấy giá cho món 6
2025-04-15 19:07:31.083096: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:31.083174: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.083245: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.083309: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:07:31.083370: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.083469: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:07:31.083548: Thêm hóa đơn: order_id=22
2025-04-15 19:07:31.083610: Xử lý đơn hàng: 23
2025-04-15 19:07:31.083668: Trước khi lấy bàn cho đơn hàng 23
2025-04-15 19:07:31.083801: Table cho đơn hàng 23: <Table 1>
2025-04-15 19:07:31.084148: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.084222: Xử lý mục: order_id=23, item_id=6
2025-04-15 19:07:31.084298: Trước khi lấy món với ID 6
2025-04-15 19:07:31.084432: menu_item: <Item 6>
2025-04-15 19:07:31.084495: Trước khi lấy giá cho món 6
2025-04-15 19:07:31.084885: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:07:31.084956: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.085025: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.085094: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:07:31.085159: Định dạng tiền tệ: 10000.0
2025-04-15 19:07:31.085249: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:07:31.085323: Thêm hóa đơn: order_id=23
2025-04-15 19:07:31.085386: Xử lý đơn hàng: 24
2025-04-15 19:07:31.085446: Trước khi lấy bàn cho đơn hàng 24
2025-04-15 19:07:31.085638: Table cho đơn hàng 24: <Table 1>
2025-04-15 19:07:31.086110: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:07:31.086215: Xử lý mục: order_id=24, item_id=5
2025-04-15 19:07:31.086313: Trước khi lấy món với ID 5
2025-04-15 19:07:31.086941: menu_item: <Item 5>
2025-04-15 19:07:31.087069: Trước khi lấy giá cho món 5
2025-04-15 19:07:31.087664: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:07:31.087774: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.087887: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.087998: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:07:31.088083: Định dạng tiền tệ: 30000.0
2025-04-15 19:07:31.088158: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:07:31.088236: Thêm hóa đơn: order_id=24
2025-04-15 19:07:31.088308: Chuẩn bị render template với 19 hóa đơn
2025-04-15 19:07:31.088493: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}]
2025-04-15 19:07:31.088593: Total revenue: 1342000.0
2025-04-15 19:07:31.088660: Định dạng tiền tệ: 1342000.0
2025-04-15 19:07:31.088724: Formatted total revenue: 1,342,000 VNĐ
2025-04-15 19:07:31.088781: Date string: 2025-04-15
2025-04-15 19:07:31.088839: Định dạng tiền tệ: 1342000.0
2025-04-15 19:07:31.088897: Render template: bills=19, total_revenue=1,342,000 VNĐ, date=2025-04-15
2025-04-15 19:07:31.088955: Định dạng tiền tệ: 1342000.0
2025-04-15 19:08:51.679672: current_user: id=1, is_admin=True
2025-04-15 19:08:51.679824: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:08:51.679951: Trước khi kiểm tra request.method
2025-04-15 19:08:51.680037: Phương thức: POST
2025-04-15 19:08:51.680100: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:08:51.680349: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:08:51.680420: Trước khi lấy date_str
2025-04-15 19:08:51.680655: Nhận được date_str: 2025-04-15
2025-04-15 19:08:51.680729: Trước khi chuyển đổi ngày
2025-04-15 19:08:51.680830: Đã chuyển đổi date: 2025-04-15
2025-04-15 19:08:51.680909: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-15 19:08:51.681555: Tìm thấy 19 đơn hàng
2025-04-15 19:08:51.681639: Xử lý đơn hàng: 6
2025-04-15 19:08:51.681704: Trước khi lấy bàn cho đơn hàng 6
2025-04-15 19:08:51.682165: Table cho đơn hàng 6: <Table 1>
2025-04-15 19:08:51.682684: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.682802: Xử lý mục: order_id=6, item_id=6
2025-04-15 19:08:51.682870: Trước khi lấy món với ID 6
2025-04-15 19:08:51.683249: menu_item: <Item 6>
2025-04-15 19:08:51.683331: Trước khi lấy giá cho món 6
2025-04-15 19:08:51.683797: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:08:51.683879: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.683989: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.684079: Xử lý mục: order_id=6, item_id=7
2025-04-15 19:08:51.684151: Trước khi lấy món với ID 7
2025-04-15 19:08:51.684615: menu_item: <Item 7>
2025-04-15 19:08:51.684691: Trước khi lấy giá cho món 7
2025-04-15 19:08:51.685102: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:08:51.685177: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.685243: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.685360: Xử lý mục: order_id=6, item_id=8
2025-04-15 19:08:51.685449: Trước khi lấy món với ID 8
2025-04-15 19:08:51.685815: menu_item: <Item 8>
2025-04-15 19:08:51.685891: Trước khi lấy giá cho món 8
2025-04-15 19:08:51.686296: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:08:51.686369: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.686442: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.686515: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:08:51.686585: Định dạng tiền tệ: 52000.0
2025-04-15 19:08:51.686657: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:08:51.686738: Thêm hóa đơn: order_id=6
2025-04-15 19:08:51.686825: Xử lý đơn hàng: 7
2025-04-15 19:08:51.686890: Trước khi lấy bàn cho đơn hàng 7
2025-04-15 19:08:51.687271: Table cho đơn hàng 7: <Table 2>
2025-04-15 19:08:51.687613: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.687686: Xử lý mục: order_id=7, item_id=6
2025-04-15 19:08:51.687749: Trước khi lấy món với ID 6
2025-04-15 19:08:51.688116: menu_item: <Item 6>
2025-04-15 19:08:51.688188: Trước khi lấy giá cho món 6
2025-04-15 19:08:51.688611: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:08:51.688685: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.688753: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.688818: Xử lý mục: order_id=7, item_id=7
2025-04-15 19:08:51.688879: Trước khi lấy món với ID 7
2025-04-15 19:08:51.689249: menu_item: <Item 7>
2025-04-15 19:08:51.689329: Trước khi lấy giá cho món 7
2025-04-15 19:08:51.689730: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:08:51.689807: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.689873: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.689948: Xử lý mục: order_id=7, item_id=14
2025-04-15 19:08:51.690012: Trước khi lấy món với ID 14
2025-04-15 19:08:51.690362: menu_item: <Item 14>
2025-04-15 19:08:51.690437: Trước khi lấy giá cho món 14
2025-04-15 19:08:51.690816: price_at_order: None
2025-04-15 19:08:51.690899: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-15 19:08:51.691013: Định dạng tiền tệ: 0
2025-04-15 19:08:51.691103: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.691201: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.691308: Định dạng tiền tệ: 122000.0
2025-04-15 19:08:51.691389: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:08:51.691456: Thêm hóa đơn: order_id=7
2025-04-15 19:08:51.691524: Xử lý đơn hàng: 8
2025-04-15 19:08:51.691599: Trước khi lấy bàn cho đơn hàng 8
2025-04-15 19:08:51.691977: Table cho đơn hàng 8: <Table 1>
2025-04-15 19:08:51.692315: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.692388: Xử lý mục: order_id=8, item_id=5
2025-04-15 19:08:51.692462: Trước khi lấy món với ID 5
2025-04-15 19:08:51.692823: menu_item: <Item 5>
2025-04-15 19:08:51.692901: Trước khi lấy giá cho món 5
2025-04-15 19:08:51.693309: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:08:51.693412: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.693494: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.693561: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:08:51.693621: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.693715: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:08:51.693776: Thêm hóa đơn: order_id=8
2025-04-15 19:08:51.693834: Xử lý đơn hàng: 9
2025-04-15 19:08:51.693892: Trước khi lấy bàn cho đơn hàng 9
2025-04-15 19:08:51.694311: Table cho đơn hàng 9: <Table 2>
2025-04-15 19:08:51.694716: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.694808: Xử lý mục: order_id=9, item_id=5
2025-04-15 19:08:51.694917: Trước khi lấy món với ID 5
2025-04-15 19:08:51.695145: menu_item: <Item 5>
2025-04-15 19:08:51.695259: Trước khi lấy giá cho món 5
2025-04-15 19:08:51.695819: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:08:51.695899: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.695971: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.696038: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:08:51.696100: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.696168: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:08:51.696228: Thêm hóa đơn: order_id=9
2025-04-15 19:08:51.696286: Xử lý đơn hàng: 10
2025-04-15 19:08:51.696343: Trước khi lấy bàn cho đơn hàng 10
2025-04-15 19:08:51.696763: Table cho đơn hàng 10: <Table 3>
2025-04-15 19:08:51.697132: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.697204: Xử lý mục: order_id=10, item_id=9
2025-04-15 19:08:51.697269: Trước khi lấy món với ID 9
2025-04-15 19:08:51.697696: menu_item: <Item 9>
2025-04-15 19:08:51.697766: Trước khi lấy giá cho món 9
2025-04-15 19:08:51.698163: price_at_order: None
2025-04-15 19:08:51.698257: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-15 19:08:51.698353: Định dạng tiền tệ: 0
2025-04-15 19:08:51.698442: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.698510: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.698572: Định dạng tiền tệ: 15000.0
2025-04-15 19:08:51.698638: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}
2025-04-15 19:08:51.698699: Thêm hóa đơn: order_id=10
2025-04-15 19:08:51.698755: Xử lý đơn hàng: 11
2025-04-15 19:08:51.698824: Trước khi lấy bàn cho đơn hàng 11
2025-04-15 19:08:51.699186: Table cho đơn hàng 11: <Table 4>
2025-04-15 19:08:51.699543: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.699616: Xử lý mục: order_id=11, item_id=7
2025-04-15 19:08:51.699678: Trước khi lấy món với ID 7
2025-04-15 19:08:51.700035: menu_item: <Item 7>
2025-04-15 19:08:51.700106: Trước khi lấy giá cho món 7
2025-04-15 19:08:51.700506: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:08:51.700582: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.700662: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.700734: Xử lý mục: order_id=11, item_id=8
2025-04-15 19:08:51.700829: Trước khi lấy món với ID 8
2025-04-15 19:08:51.701206: menu_item: <Item 8>
2025-04-15 19:08:51.701278: Trước khi lấy giá cho món 8
2025-04-15 19:08:51.701687: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:08:51.701767: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.701858: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.701922: Xử lý mục: order_id=11, item_id=9
2025-04-15 19:08:51.701990: Trước khi lấy món với ID 9
2025-04-15 19:08:51.702358: menu_item: <Item 9>
2025-04-15 19:08:51.702446: Trước khi lấy giá cho món 9
2025-04-15 19:08:51.702842: price_at_order: None
2025-04-15 19:08:51.702916: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-15 19:08:51.703007: Định dạng tiền tệ: 0
2025-04-15 19:08:51.703099: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.703164: Xử lý mục: order_id=11, item_id=11
2025-04-15 19:08:51.703230: Trước khi lấy món với ID 11
2025-04-15 19:08:51.703604: menu_item: <Item 11>
2025-04-15 19:08:51.703682: Trước khi lấy giá cho món 11
2025-04-15 19:08:51.704061: price_at_order: None
2025-04-15 19:08:51.704138: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-15 19:08:51.704208: Định dạng tiền tệ: 0
2025-04-15 19:08:51.704274: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.704356: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.704429: Định dạng tiền tệ: 97000.0
2025-04-15 19:08:51.704541: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}
2025-04-15 19:08:51.704606: Thêm hóa đơn: order_id=11
2025-04-15 19:08:51.704664: Xử lý đơn hàng: 12
2025-04-15 19:08:51.704762: Trước khi lấy bàn cho đơn hàng 12
2025-04-15 19:08:51.705178: Table cho đơn hàng 12: <Table 10>
2025-04-15 19:08:51.705552: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.705630: Xử lý mục: order_id=12, item_id=8
2025-04-15 19:08:51.705706: Trước khi lấy món với ID 8
2025-04-15 19:08:51.706072: menu_item: <Item 8>
2025-04-15 19:08:51.706143: Trước khi lấy giá cho món 8
2025-04-15 19:08:51.706538: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:08:51.706613: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.706676: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.706736: Xử lý mục: order_id=12, item_id=9
2025-04-15 19:08:51.706832: Trước khi lấy món với ID 9
2025-04-15 19:08:51.707182: menu_item: <Item 9>
2025-04-15 19:08:51.707257: Trước khi lấy giá cho món 9
2025-04-15 19:08:51.707654: price_at_order: None
2025-04-15 19:08:51.707732: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-15 19:08:51.707812: Định dạng tiền tệ: 0
2025-04-15 19:08:51.707887: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.707956: Xử lý mục: order_id=12, item_id=10
2025-04-15 19:08:51.708024: Trước khi lấy món với ID 10
2025-04-15 19:08:51.708370: menu_item: <Item 10>
2025-04-15 19:08:51.708438: Trước khi lấy giá cho món 10
2025-04-15 19:08:51.708870: price_at_order: None
2025-04-15 19:08:51.708943: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-15 19:08:51.709008: Định dạng tiền tệ: 0
2025-04-15 19:08:51.709068: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.709131: Xử lý mục: order_id=12, item_id=14
2025-04-15 19:08:51.709200: Trước khi lấy món với ID 14
2025-04-15 19:08:51.709536: menu_item: <Item 14>
2025-04-15 19:08:51.709644: Trước khi lấy giá cho món 14
2025-04-15 19:08:51.710021: price_at_order: None
2025-04-15 19:08:51.710102: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-15 19:08:51.710180: Định dạng tiền tệ: 0
2025-04-15 19:08:51.710243: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.710320: Xử lý mục: order_id=12, item_id=15
2025-04-15 19:08:51.710393: Trước khi lấy món với ID 15
2025-04-15 19:08:51.710770: menu_item: <Item 15>
2025-04-15 19:08:51.710846: Trước khi lấy giá cho món 15
2025-04-15 19:08:51.711233: price_at_order: None
2025-04-15 19:08:51.711320: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-15 19:08:51.711383: Định dạng tiền tệ: 0
2025-04-15 19:08:51.711453: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.711544: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.711635: Định dạng tiền tệ: 145000.0
2025-04-15 19:08:51.711746: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}
2025-04-15 19:08:51.711834: Thêm hóa đơn: order_id=12
2025-04-15 19:08:51.711921: Xử lý đơn hàng: 13
2025-04-15 19:08:51.711985: Trước khi lấy bàn cho đơn hàng 13
2025-04-15 19:08:51.712420: Table cho đơn hàng 13: <Table 16>
2025-04-15 19:08:51.712772: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.712846: Xử lý mục: order_id=13, item_id=8
2025-04-15 19:08:51.712937: Trước khi lấy món với ID 8
2025-04-15 19:08:51.713326: menu_item: <Item 8>
2025-04-15 19:08:51.713398: Trước khi lấy giá cho món 8
2025-04-15 19:08:51.713802: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:08:51.713879: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.713945: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.714025: Xử lý mục: order_id=13, item_id=11
2025-04-15 19:08:51.714092: Trước khi lấy món với ID 11
2025-04-15 19:08:51.714517: menu_item: <Item 11>
2025-04-15 19:08:51.714598: Trước khi lấy giá cho món 11
2025-04-15 19:08:51.714988: price_at_order: None
2025-04-15 19:08:51.715064: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-15 19:08:51.715156: Định dạng tiền tệ: 0
2025-04-15 19:08:51.715220: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.715281: Xử lý mục: order_id=13, item_id=12
2025-04-15 19:08:51.715340: Trước khi lấy món với ID 12
2025-04-15 19:08:51.715697: menu_item: <Item 12>
2025-04-15 19:08:51.715771: Trước khi lấy giá cho món 12
2025-04-15 19:08:51.716143: price_at_order: None
2025-04-15 19:08:51.716215: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-15 19:08:51.716278: Định dạng tiền tệ: 0
2025-04-15 19:08:51.716339: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.716420: Xử lý mục: order_id=13, item_id=13
2025-04-15 19:08:51.716492: Trước khi lấy món với ID 13
2025-04-15 19:08:51.716840: menu_item: <Item 13>
2025-04-15 19:08:51.716914: Trước khi lấy giá cho món 13
2025-04-15 19:08:51.717282: price_at_order: None
2025-04-15 19:08:51.717355: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-15 19:08:51.717430: Định dạng tiền tệ: 0
2025-04-15 19:08:51.717495: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.717567: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.717631: Định dạng tiền tệ: 122000.0
2025-04-15 19:08:51.717725: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:08:51.717788: Thêm hóa đơn: order_id=13
2025-04-15 19:08:51.717854: Xử lý đơn hàng: 14
2025-04-15 19:08:51.717929: Trước khi lấy bàn cho đơn hàng 14
2025-04-15 19:08:51.718292: Table cho đơn hàng 14: <Table 7>
2025-04-15 19:08:51.718620: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.718709: Xử lý mục: order_id=14, item_id=11
2025-04-15 19:08:51.718794: Trước khi lấy món với ID 11
2025-04-15 19:08:51.719154: menu_item: <Item 11>
2025-04-15 19:08:51.719231: Trước khi lấy giá cho món 11
2025-04-15 19:08:51.719648: price_at_order: None
2025-04-15 19:08:51.719725: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-15 19:08:51.719786: Định dạng tiền tệ: 0
2025-04-15 19:08:51.719847: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.719933: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.720018: Định dạng tiền tệ: 200000.0
2025-04-15 19:08:51.720114: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}
2025-04-15 19:08:51.720182: Thêm hóa đơn: order_id=14
2025-04-15 19:08:51.720240: Xử lý đơn hàng: 15
2025-04-15 19:08:51.720301: Trước khi lấy bàn cho đơn hàng 15
2025-04-15 19:08:51.720643: Table cho đơn hàng 15: <Table 1>
2025-04-15 19:08:51.720986: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.721055: Xử lý mục: order_id=15, item_id=6
2025-04-15 19:08:51.721116: Trước khi lấy món với ID 6
2025-04-15 19:08:51.721456: menu_item: <Item 6>
2025-04-15 19:08:51.721534: Trước khi lấy giá cho món 6
2025-04-15 19:08:51.721917: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:08:51.721990: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.722070: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.722133: Xử lý mục: order_id=15, item_id=7
2025-04-15 19:08:51.722190: Trước khi lấy món với ID 7
2025-04-15 19:08:51.722529: menu_item: <Item 7>
2025-04-15 19:08:51.722600: Trước khi lấy giá cho món 7
2025-04-15 19:08:51.722990: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:08:51.723061: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.723124: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.723207: Xử lý mục: order_id=15, item_id=11
2025-04-15 19:08:51.723278: Trước khi lấy món với ID 11
2025-04-15 19:08:51.723629: menu_item: <Item 11>
2025-04-15 19:08:51.723705: Trước khi lấy giá cho món 11
2025-04-15 19:08:51.724102: price_at_order: None
2025-04-15 19:08:51.724206: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-15 19:08:51.724284: Định dạng tiền tệ: 0
2025-04-15 19:08:51.724356: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.724430: Xử lý mục: order_id=15, item_id=12
2025-04-15 19:08:51.724553: Trước khi lấy món với ID 12
2025-04-15 19:08:51.724973: menu_item: <Item 12>
2025-04-15 19:08:51.725049: Trước khi lấy giá cho món 12
2025-04-15 19:08:51.725534: price_at_order: None
2025-04-15 19:08:51.725619: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-15 19:08:51.725689: Định dạng tiền tệ: 0
2025-04-15 19:08:51.725787: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.725882: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.725975: Định dạng tiền tệ: 87000.0
2025-04-15 19:08:51.726058: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}
2025-04-15 19:08:51.726126: Thêm hóa đơn: order_id=15
2025-04-15 19:08:51.726189: Xử lý đơn hàng: 16
2025-04-15 19:08:51.726275: Trước khi lấy bàn cho đơn hàng 16
2025-04-15 19:08:51.726865: Table cho đơn hàng 16: <Table 2>
2025-04-15 19:08:51.727293: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.727389: Xử lý mục: order_id=16, item_id=10
2025-04-15 19:08:51.727457: Trước khi lấy món với ID 10
2025-04-15 19:08:51.727882: menu_item: <Item 10>
2025-04-15 19:08:51.727952: Trước khi lấy giá cho món 10
2025-04-15 19:08:51.728353: price_at_order: None
2025-04-15 19:08:51.728429: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-15 19:08:51.728573: Định dạng tiền tệ: 0
2025-04-15 19:08:51.728665: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.728728: Xử lý mục: order_id=16, item_id=11
2025-04-15 19:08:51.728788: Trước khi lấy món với ID 11
2025-04-15 19:08:51.729176: menu_item: <Item 11>
2025-04-15 19:08:51.729249: Trước khi lấy giá cho món 11
2025-04-15 19:08:51.729680: price_at_order: None
2025-04-15 19:08:51.729755: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-15 19:08:51.729851: Định dạng tiền tệ: 0
2025-04-15 19:08:51.729936: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.730006: Xử lý mục: order_id=16, item_id=15
2025-04-15 19:08:51.730070: Trước khi lấy món với ID 15
2025-04-15 19:08:51.730430: menu_item: <Item 15>
2025-04-15 19:08:51.730502: Trước khi lấy giá cho món 15
2025-04-15 19:08:51.730883: price_at_order: None
2025-04-15 19:08:51.730956: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-15 19:08:51.731051: Định dạng tiền tệ: 0
2025-04-15 19:08:51.731115: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.731183: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.731247: Định dạng tiền tệ: 90000.0
2025-04-15 19:08:51.731317: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}
2025-04-15 19:08:51.731381: Thêm hóa đơn: order_id=16
2025-04-15 19:08:51.731438: Xử lý đơn hàng: 17
2025-04-15 19:08:51.731499: Trước khi lấy bàn cho đơn hàng 17
2025-04-15 19:08:51.731921: Table cho đơn hàng 17: <Table 3>
2025-04-15 19:08:51.732273: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.732353: Xử lý mục: order_id=17, item_id=6
2025-04-15 19:08:51.732450: Trước khi lấy món với ID 6
2025-04-15 19:08:51.732857: menu_item: <Item 6>
2025-04-15 19:08:51.732932: Trước khi lấy giá cho món 6
2025-04-15 19:08:51.733320: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:08:51.733395: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.733503: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.733573: Xử lý mục: order_id=17, item_id=7
2025-04-15 19:08:51.733654: Trước khi lấy món với ID 7
2025-04-15 19:08:51.734020: menu_item: <Item 7>
2025-04-15 19:08:51.734117: Trước khi lấy giá cho món 7
2025-04-15 19:08:51.734552: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:08:51.734627: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.734691: Định dạng tiền tệ: 12000.0
2025-04-15 19:08:51.734758: Xử lý mục: order_id=17, item_id=8
2025-04-15 19:08:51.734819: Trước khi lấy món với ID 8
2025-04-15 19:08:51.735172: menu_item: <Item 8>
2025-04-15 19:08:51.735244: Trước khi lấy giá cho món 8
2025-04-15 19:08:51.735610: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:08:51.735685: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.735764: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.735863: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:08:51.735934: Định dạng tiền tệ: 52000.0
2025-04-15 19:08:51.736004: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:08:51.736077: Thêm hóa đơn: order_id=17
2025-04-15 19:08:51.736194: Xử lý đơn hàng: 18
2025-04-15 19:08:51.736267: Trước khi lấy bàn cho đơn hàng 18
2025-04-15 19:08:51.736628: Table cho đơn hàng 18: <Table 4>
2025-04-15 19:08:51.736945: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.737014: Xử lý mục: order_id=18, item_id=14
2025-04-15 19:08:51.737075: Trước khi lấy món với ID 14
2025-04-15 19:08:51.737447: menu_item: <Item 14>
2025-04-15 19:08:51.737519: Trước khi lấy giá cho món 14
2025-04-15 19:08:51.737924: price_at_order: None
2025-04-15 19:08:51.738005: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-15 19:08:51.738099: Định dạng tiền tệ: 0
2025-04-15 19:08:51.738162: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.738242: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.738316: Định dạng tiền tệ: 150000.0
2025-04-15 19:08:51.738382: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}
2025-04-15 19:08:51.738441: Thêm hóa đơn: order_id=18
2025-04-15 19:08:51.738497: Xử lý đơn hàng: 19
2025-04-15 19:08:51.738553: Trước khi lấy bàn cho đơn hàng 19
2025-04-15 19:08:51.738923: Table cho đơn hàng 19: <Table 5>
2025-04-15 19:08:51.739300: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.739378: Xử lý mục: order_id=19, item_id=10
2025-04-15 19:08:51.739441: Trước khi lấy món với ID 10
2025-04-15 19:08:51.739832: menu_item: <Item 10>
2025-04-15 19:08:51.739907: Trước khi lấy giá cho món 10
2025-04-15 19:08:51.740355: price_at_order: None
2025-04-15 19:08:51.740439: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-15 19:08:51.740502: Định dạng tiền tệ: 0
2025-04-15 19:08:51.740565: Định dạng tiền tệ: 0.0
2025-04-15 19:08:51.740629: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:08:51.740687: Định dạng tiền tệ: 60000.0
2025-04-15 19:08:51.740754: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}
2025-04-15 19:08:51.740813: Thêm hóa đơn: order_id=19
2025-04-15 19:08:51.740882: Xử lý đơn hàng: 20
2025-04-15 19:08:51.740967: Trước khi lấy bàn cho đơn hàng 20
2025-04-15 19:08:51.741329: Table cho đơn hàng 20: <Table 1>
2025-04-15 19:08:51.741636: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.741737: Xử lý mục: order_id=20, item_id=5
2025-04-15 19:08:51.741806: Trước khi lấy món với ID 5
2025-04-15 19:08:51.742143: menu_item: <Item 5>
2025-04-15 19:08:51.742246: Trước khi lấy giá cho món 5
2025-04-15 19:08:51.742658: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:08:51.742734: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.742799: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.742878: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:08:51.742939: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.743005: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:08:51.743066: Thêm hóa đơn: order_id=20
2025-04-15 19:08:51.743126: Xử lý đơn hàng: 21
2025-04-15 19:08:51.743187: Trước khi lấy bàn cho đơn hàng 21
2025-04-15 19:08:51.743317: Table cho đơn hàng 21: <Table 1>
2025-04-15 19:08:51.743625: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.743696: Xử lý mục: order_id=21, item_id=6
2025-04-15 19:08:51.743757: Trước khi lấy món với ID 6
2025-04-15 19:08:51.744096: menu_item: <Item 6>
2025-04-15 19:08:51.744168: Trước khi lấy giá cho món 6
2025-04-15 19:08:51.744608: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:08:51.744680: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.744752: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.744818: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:08:51.744878: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.744949: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:08:51.745010: Thêm hóa đơn: order_id=21
2025-04-15 19:08:51.745067: Xử lý đơn hàng: 22
2025-04-15 19:08:51.745138: Trước khi lấy bàn cho đơn hàng 22
2025-04-15 19:08:51.745285: Table cho đơn hàng 22: <Table 1>
2025-04-15 19:08:51.745592: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.745706: Xử lý mục: order_id=22, item_id=6
2025-04-15 19:08:51.745776: Trước khi lấy món với ID 6
2025-04-15 19:08:51.745913: menu_item: <Item 6>
2025-04-15 19:08:51.746095: Trước khi lấy giá cho món 6
2025-04-15 19:08:51.746510: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:08:51.746583: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.746662: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.746746: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:08:51.746813: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.746880: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:08:51.746941: Thêm hóa đơn: order_id=22
2025-04-15 19:08:51.746998: Xử lý đơn hàng: 23
2025-04-15 19:08:51.747055: Trước khi lấy bàn cho đơn hàng 23
2025-04-15 19:08:51.747186: Table cho đơn hàng 23: <Table 1>
2025-04-15 19:08:51.747504: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.747579: Xử lý mục: order_id=23, item_id=6
2025-04-15 19:08:51.747642: Trước khi lấy món với ID 6
2025-04-15 19:08:51.747771: menu_item: <Item 6>
2025-04-15 19:08:51.747834: Trước khi lấy giá cho món 6
2025-04-15 19:08:51.748227: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:08:51.748339: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.748420: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.748515: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:08:51.748583: Định dạng tiền tệ: 10000.0
2025-04-15 19:08:51.748651: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:08:51.748710: Thêm hóa đơn: order_id=23
2025-04-15 19:08:51.748767: Xử lý đơn hàng: 24
2025-04-15 19:08:51.748826: Trước khi lấy bàn cho đơn hàng 24
2025-04-15 19:08:51.748952: Table cho đơn hàng 24: <Table 1>
2025-04-15 19:08:51.749261: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:08:51.749330: Xử lý mục: order_id=24, item_id=5
2025-04-15 19:08:51.749390: Trước khi lấy món với ID 5
2025-04-15 19:08:51.749736: menu_item: <Item 5>
2025-04-15 19:08:51.749804: Trước khi lấy giá cho món 5
2025-04-15 19:08:51.750195: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:08:51.750273: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.750364: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.750453: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:08:51.750532: Định dạng tiền tệ: 30000.0
2025-04-15 19:08:51.750616: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:08:51.750678: Thêm hóa đơn: order_id=24
2025-04-15 19:08:51.750734: Chuẩn bị render template với 19 hóa đơn
2025-04-15 19:08:51.750943: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}]
2025-04-15 19:08:51.751034: Total revenue: 1342000.0
2025-04-15 19:08:51.751112: Định dạng tiền tệ: 1342000.0
2025-04-15 19:08:51.751181: Formatted total revenue: 1,342,000 VNĐ
2025-04-15 19:08:51.751240: Date string: 2025-04-15
2025-04-15 19:08:51.751295: Định dạng tiền tệ: 1342000.0
2025-04-15 19:08:51.751353: Render template: bills=19, total_revenue=1,342,000 VNĐ, date=2025-04-15
2025-04-15 19:08:51.751411: Định dạng tiền tệ: 1342000.0
2025-04-15 19:10:03.601765: current_user: id=1, is_admin=True
2025-04-15 19:10:03.601920: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:10:03.602064: Trước khi kiểm tra request.method
2025-04-15 19:10:03.602155: Phương thức: GET
2025-04-15 19:10:03.602219: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:10:03.602459: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:10:03.602555: Hiển thị template mặc định cho GET
2025-04-15 19:10:07.629567: current_user: id=1, is_admin=True
2025-04-15 19:10:07.629732: Bắt đầu xử lý yêu cầu view_bills
2025-04-15 19:10:07.629838: Trước khi kiểm tra request.method
2025-04-15 19:10:07.629907: Phương thức: POST
2025-04-15 19:10:07.629968: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-15 19:10:07.630210: Kết nối cơ sở dữ liệu thành công: 1
2025-04-15 19:10:07.630287: Trước khi lấy date_str
2025-04-15 19:10:07.630499: Nhận được date_str: 2025-04-15
2025-04-15 19:10:07.630564: Trước khi chuyển đổi ngày
2025-04-15 19:10:07.630660: Đã chuyển đổi date: 2025-04-15
2025-04-15 19:10:07.630733: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-15 19:10:07.631381: Tìm thấy 20 đơn hàng
2025-04-15 19:10:07.631457: Xử lý đơn hàng: 6
2025-04-15 19:10:07.631535: Trước khi lấy bàn cho đơn hàng 6
2025-04-15 19:10:07.631998: Table cho đơn hàng 6: <Table 1>
2025-04-15 19:10:07.632475: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.632555: Xử lý mục: order_id=6, item_id=6
2025-04-15 19:10:07.632618: Trước khi lấy món với ID 6
2025-04-15 19:10:07.633027: menu_item: <Item 6>
2025-04-15 19:10:07.633100: Trước khi lấy giá cho món 6
2025-04-15 19:10:07.633584: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:10:07.633666: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.633736: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.633798: Xử lý mục: order_id=6, item_id=7
2025-04-15 19:10:07.633871: Trước khi lấy món với ID 7
2025-04-15 19:10:07.634331: menu_item: <Item 7>
2025-04-15 19:10:07.634414: Trước khi lấy giá cho món 7
2025-04-15 19:10:07.634962: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:10:07.635038: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.635110: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.635174: Xử lý mục: order_id=6, item_id=8
2025-04-15 19:10:07.635252: Trước khi lấy món với ID 8
2025-04-15 19:10:07.635693: menu_item: <Item 8>
2025-04-15 19:10:07.635781: Trước khi lấy giá cho món 8
2025-04-15 19:10:07.636278: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:10:07.636358: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.636426: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.636503: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:10:07.636573: Định dạng tiền tệ: 52000.0
2025-04-15 19:10:07.636648: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:10:07.636741: Thêm hóa đơn: order_id=6
2025-04-15 19:10:07.636803: Xử lý đơn hàng: 7
2025-04-15 19:10:07.636862: Trước khi lấy bàn cho đơn hàng 7
2025-04-15 19:10:07.637292: Table cho đơn hàng 7: <Table 2>
2025-04-15 19:10:07.637673: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.637750: Xử lý mục: order_id=7, item_id=6
2025-04-15 19:10:07.637816: Trước khi lấy món với ID 6
2025-04-15 19:10:07.638215: menu_item: <Item 6>
2025-04-15 19:10:07.638288: Trước khi lấy giá cho món 6
2025-04-15 19:10:07.638802: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:10:07.638909: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.638994: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.639058: Xử lý mục: order_id=7, item_id=7
2025-04-15 19:10:07.639125: Trước khi lấy món với ID 7
2025-04-15 19:10:07.639627: menu_item: <Item 7>
2025-04-15 19:10:07.639731: Trước khi lấy giá cho món 7
2025-04-15 19:10:07.640226: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:10:07.640318: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.640387: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.640516: Xử lý mục: order_id=7, item_id=14
2025-04-15 19:10:07.640577: Trước khi lấy món với ID 14
2025-04-15 19:10:07.640980: menu_item: <Item 14>
2025-04-15 19:10:07.641054: Trước khi lấy giá cho món 14
2025-04-15 19:10:07.641469: price_at_order: None
2025-04-15 19:10:07.641564: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-15 19:10:07.641636: Định dạng tiền tệ: 0
2025-04-15 19:10:07.641729: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.641830: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.641909: Định dạng tiền tệ: 122000.0
2025-04-15 19:10:07.641999: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:10:07.642101: Thêm hóa đơn: order_id=7
2025-04-15 19:10:07.642216: Xử lý đơn hàng: 8
2025-04-15 19:10:07.642306: Trước khi lấy bàn cho đơn hàng 8
2025-04-15 19:10:07.643187: Table cho đơn hàng 8: <Table 1>
2025-04-15 19:10:07.643994: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.644121: Xử lý mục: order_id=8, item_id=5
2025-04-15 19:10:07.644200: Trước khi lấy món với ID 5
2025-04-15 19:10:07.644915: menu_item: <Item 5>
2025-04-15 19:10:07.645068: Trước khi lấy giá cho món 5
2025-04-15 19:10:07.645783: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:10:07.645867: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.645935: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.646002: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:10:07.646067: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.646140: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:10:07.646257: Thêm hóa đơn: order_id=8
2025-04-15 19:10:07.646341: Xử lý đơn hàng: 9
2025-04-15 19:10:07.646438: Trước khi lấy bàn cho đơn hàng 9
2025-04-15 19:10:07.646902: Table cho đơn hàng 9: <Table 2>
2025-04-15 19:10:07.647289: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.647377: Xử lý mục: order_id=9, item_id=5
2025-04-15 19:10:07.647470: Trước khi lấy món với ID 5
2025-04-15 19:10:07.647628: menu_item: <Item 5>
2025-04-15 19:10:07.647709: Trước khi lấy giá cho món 5
2025-04-15 19:10:07.648174: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:10:07.648250: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.648342: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.648427: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:10:07.648491: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.648572: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:10:07.648636: Thêm hóa đơn: order_id=9
2025-04-15 19:10:07.648705: Xử lý đơn hàng: 10
2025-04-15 19:10:07.648764: Trước khi lấy bàn cho đơn hàng 10
2025-04-15 19:10:07.649185: Table cho đơn hàng 10: <Table 3>
2025-04-15 19:10:07.649580: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.649666: Xử lý mục: order_id=10, item_id=9
2025-04-15 19:10:07.649757: Trước khi lấy món với ID 9
2025-04-15 19:10:07.650324: menu_item: <Item 9>
2025-04-15 19:10:07.650425: Trước khi lấy giá cho món 9
2025-04-15 19:10:07.650981: price_at_order: None
2025-04-15 19:10:07.651074: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-15 19:10:07.651141: Định dạng tiền tệ: 0
2025-04-15 19:10:07.651209: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.651277: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.651338: Định dạng tiền tệ: 15000.0
2025-04-15 19:10:07.651410: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}
2025-04-15 19:10:07.651470: Thêm hóa đơn: order_id=10
2025-04-15 19:10:07.651532: Xử lý đơn hàng: 11
2025-04-15 19:10:07.651597: Trước khi lấy bàn cho đơn hàng 11
2025-04-15 19:10:07.652042: Table cho đơn hàng 11: <Table 4>
2025-04-15 19:10:07.652425: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.652501: Xử lý mục: order_id=11, item_id=7
2025-04-15 19:10:07.652564: Trước khi lấy món với ID 7
2025-04-15 19:10:07.652968: menu_item: <Item 7>
2025-04-15 19:10:07.653039: Trước khi lấy giá cho món 7
2025-04-15 19:10:07.653521: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:10:07.653605: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.653668: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.653728: Xử lý mục: order_id=11, item_id=8
2025-04-15 19:10:07.653787: Trước khi lấy món với ID 8
2025-04-15 19:10:07.654228: menu_item: <Item 8>
2025-04-15 19:10:07.654311: Trước khi lấy giá cho món 8
2025-04-15 19:10:07.654742: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:10:07.654823: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.654893: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.654955: Xử lý mục: order_id=11, item_id=9
2025-04-15 19:10:07.655033: Trước khi lấy món với ID 9
2025-04-15 19:10:07.655402: menu_item: <Item 9>
2025-04-15 19:10:07.655475: Trước khi lấy giá cho món 9
2025-04-15 19:10:07.655838: price_at_order: None
2025-04-15 19:10:07.655960: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-15 19:10:07.656072: Định dạng tiền tệ: 0
2025-04-15 19:10:07.656146: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.656232: Xử lý mục: order_id=11, item_id=11
2025-04-15 19:10:07.656295: Trước khi lấy món với ID 11
2025-04-15 19:10:07.656810: menu_item: <Item 11>
2025-04-15 19:10:07.656905: Trước khi lấy giá cho món 11
2025-04-15 19:10:07.657460: price_at_order: None
2025-04-15 19:10:07.657552: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-15 19:10:07.657623: Định dạng tiền tệ: 0
2025-04-15 19:10:07.657693: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.657778: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.657851: Định dạng tiền tệ: 97000.0
2025-04-15 19:10:07.657932: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}
2025-04-15 19:10:07.657998: Thêm hóa đơn: order_id=11
2025-04-15 19:10:07.658117: Xử lý đơn hàng: 12
2025-04-15 19:10:07.658196: Trước khi lấy bàn cho đơn hàng 12
2025-04-15 19:10:07.658680: Table cho đơn hàng 12: <Table 10>
2025-04-15 19:10:07.659108: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.659187: Xử lý mục: order_id=12, item_id=8
2025-04-15 19:10:07.659255: Trước khi lấy món với ID 8
2025-04-15 19:10:07.659669: menu_item: <Item 8>
2025-04-15 19:10:07.659746: Trước khi lấy giá cho món 8
2025-04-15 19:10:07.660228: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:10:07.660305: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.660372: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.660485: Xử lý mục: order_id=12, item_id=9
2025-04-15 19:10:07.660557: Trước khi lấy món với ID 9
2025-04-15 19:10:07.660967: menu_item: <Item 9>
2025-04-15 19:10:07.661046: Trước khi lấy giá cho món 9
2025-04-15 19:10:07.661456: price_at_order: None
2025-04-15 19:10:07.661536: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-15 19:10:07.661600: Định dạng tiền tệ: 0
2025-04-15 19:10:07.661665: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.661730: Xử lý mục: order_id=12, item_id=10
2025-04-15 19:10:07.661796: Trước khi lấy món với ID 10
2025-04-15 19:10:07.662154: menu_item: <Item 10>
2025-04-15 19:10:07.662239: Trước khi lấy giá cho món 10
2025-04-15 19:10:07.662674: price_at_order: None
2025-04-15 19:10:07.662758: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-15 19:10:07.662834: Định dạng tiền tệ: 0
2025-04-15 19:10:07.662918: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.663011: Xử lý mục: order_id=12, item_id=14
2025-04-15 19:10:07.663104: Trước khi lấy món với ID 14
2025-04-15 19:10:07.663871: menu_item: <Item 14>
2025-04-15 19:10:07.663995: Trước khi lấy giá cho món 14
2025-04-15 19:10:07.664598: price_at_order: None
2025-04-15 19:10:07.664685: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-15 19:10:07.664773: Định dạng tiền tệ: 0
2025-04-15 19:10:07.664880: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.664967: Xử lý mục: order_id=12, item_id=15
2025-04-15 19:10:07.665038: Trước khi lấy món với ID 15
2025-04-15 19:10:07.665556: menu_item: <Item 15>
2025-04-15 19:10:07.665629: Trước khi lấy giá cho món 15
2025-04-15 19:10:07.666068: price_at_order: None
2025-04-15 19:10:07.666140: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-15 19:10:07.666203: Định dạng tiền tệ: 0
2025-04-15 19:10:07.666265: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.666394: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.666499: Định dạng tiền tệ: 145000.0
2025-04-15 19:10:07.666594: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}
2025-04-15 19:10:07.666664: Thêm hóa đơn: order_id=12
2025-04-15 19:10:07.666727: Xử lý đơn hàng: 13
2025-04-15 19:10:07.666790: Trước khi lấy bàn cho đơn hàng 13
2025-04-15 19:10:07.667228: Table cho đơn hàng 13: <Table 16>
2025-04-15 19:10:07.667631: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.667714: Xử lý mục: order_id=13, item_id=8
2025-04-15 19:10:07.667777: Trước khi lấy món với ID 8
2025-04-15 19:10:07.668249: menu_item: <Item 8>
2025-04-15 19:10:07.668332: Trước khi lấy giá cho món 8
2025-04-15 19:10:07.668793: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:10:07.668877: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.669008: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.669105: Xử lý mục: order_id=13, item_id=11
2025-04-15 19:10:07.669173: Trước khi lấy món với ID 11
2025-04-15 19:10:07.669584: menu_item: <Item 11>
2025-04-15 19:10:07.669664: Trước khi lấy giá cho món 11
2025-04-15 19:10:07.670179: price_at_order: None
2025-04-15 19:10:07.670288: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-15 19:10:07.670394: Định dạng tiền tệ: 0
2025-04-15 19:10:07.670467: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.670547: Xử lý mục: order_id=13, item_id=12
2025-04-15 19:10:07.670617: Trước khi lấy món với ID 12
2025-04-15 19:10:07.671264: menu_item: <Item 12>
2025-04-15 19:10:07.671359: Trước khi lấy giá cho món 12
2025-04-15 19:10:07.671905: price_at_order: None
2025-04-15 19:10:07.671985: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-15 19:10:07.672095: Định dạng tiền tệ: 0
2025-04-15 19:10:07.672193: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.672261: Xử lý mục: order_id=13, item_id=13
2025-04-15 19:10:07.672325: Trước khi lấy món với ID 13
2025-04-15 19:10:07.672777: menu_item: <Item 13>
2025-04-15 19:10:07.672852: Trước khi lấy giá cho món 13
2025-04-15 19:10:07.673267: price_at_order: None
2025-04-15 19:10:07.673349: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-15 19:10:07.673417: Định dạng tiền tệ: 0
2025-04-15 19:10:07.673481: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.673579: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.673648: Định dạng tiền tệ: 122000.0
2025-04-15 19:10:07.673727: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-15 19:10:07.673787: Thêm hóa đơn: order_id=13
2025-04-15 19:10:07.673936: Xử lý đơn hàng: 14
2025-04-15 19:10:07.674044: Trước khi lấy bàn cho đơn hàng 14
2025-04-15 19:10:07.674490: Table cho đơn hàng 14: <Table 7>
2025-04-15 19:10:07.674870: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.674946: Xử lý mục: order_id=14, item_id=11
2025-04-15 19:10:07.675010: Trước khi lấy món với ID 11
2025-04-15 19:10:07.675383: menu_item: <Item 11>
2025-04-15 19:10:07.675454: Trước khi lấy giá cho món 11
2025-04-15 19:10:07.675911: price_at_order: None
2025-04-15 19:10:07.676004: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-15 19:10:07.676077: Định dạng tiền tệ: 0
2025-04-15 19:10:07.676138: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.676200: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.676286: Định dạng tiền tệ: 200000.0
2025-04-15 19:10:07.676351: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}
2025-04-15 19:10:07.676422: Thêm hóa đơn: order_id=14
2025-04-15 19:10:07.676481: Xử lý đơn hàng: 15
2025-04-15 19:10:07.676539: Trước khi lấy bàn cho đơn hàng 15
2025-04-15 19:10:07.677011: Table cho đơn hàng 15: <Table 1>
2025-04-15 19:10:07.677598: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.677706: Xử lý mục: order_id=15, item_id=6
2025-04-15 19:10:07.677817: Trước khi lấy món với ID 6
2025-04-15 19:10:07.678307: menu_item: <Item 6>
2025-04-15 19:10:07.678386: Trước khi lấy giá cho món 6
2025-04-15 19:10:07.678881: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:10:07.678959: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.679041: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.679115: Xử lý mục: order_id=15, item_id=7
2025-04-15 19:10:07.679174: Trước khi lấy món với ID 7
2025-04-15 19:10:07.679596: menu_item: <Item 7>
2025-04-15 19:10:07.679668: Trước khi lấy giá cho món 7
2025-04-15 19:10:07.680085: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:10:07.680159: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.680239: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.680303: Xử lý mục: order_id=15, item_id=11
2025-04-15 19:10:07.680361: Trước khi lấy món với ID 11
2025-04-15 19:10:07.680730: menu_item: <Item 11>
2025-04-15 19:10:07.680803: Trước khi lấy giá cho món 11
2025-04-15 19:10:07.681223: price_at_order: None
2025-04-15 19:10:07.681311: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-15 19:10:07.681413: Định dạng tiền tệ: 0
2025-04-15 19:10:07.681574: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.681694: Xử lý mục: order_id=15, item_id=12
2025-04-15 19:10:07.681766: Trước khi lấy món với ID 12
2025-04-15 19:10:07.682268: menu_item: <Item 12>
2025-04-15 19:10:07.682350: Trước khi lấy giá cho món 12
2025-04-15 19:10:07.682749: price_at_order: None
2025-04-15 19:10:07.682829: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-15 19:10:07.682903: Định dạng tiền tệ: 0
2025-04-15 19:10:07.682995: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.683084: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.683153: Định dạng tiền tệ: 87000.0
2025-04-15 19:10:07.683243: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}
2025-04-15 19:10:07.683335: Thêm hóa đơn: order_id=15
2025-04-15 19:10:07.683397: Xử lý đơn hàng: 16
2025-04-15 19:10:07.683463: Trước khi lấy bàn cho đơn hàng 16
2025-04-15 19:10:07.683875: Table cho đơn hàng 16: <Table 2>
2025-04-15 19:10:07.684327: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.684432: Xử lý mục: order_id=16, item_id=10
2025-04-15 19:10:07.684504: Trước khi lấy món với ID 10
2025-04-15 19:10:07.685036: menu_item: <Item 10>
2025-04-15 19:10:07.685118: Trước khi lấy giá cho món 10
2025-04-15 19:10:07.685578: price_at_order: None
2025-04-15 19:10:07.685667: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-15 19:10:07.685749: Định dạng tiền tệ: 0
2025-04-15 19:10:07.685817: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.685899: Xử lý mục: order_id=16, item_id=11
2025-04-15 19:10:07.685998: Trước khi lấy món với ID 11
2025-04-15 19:10:07.686445: menu_item: <Item 11>
2025-04-15 19:10:07.686520: Trước khi lấy giá cho món 11
2025-04-15 19:10:07.686932: price_at_order: None
2025-04-15 19:10:07.687012: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-15 19:10:07.687086: Định dạng tiền tệ: 0
2025-04-15 19:10:07.687153: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.687211: Xử lý mục: order_id=16, item_id=15
2025-04-15 19:10:07.687269: Trước khi lấy món với ID 15
2025-04-15 19:10:07.687662: menu_item: <Item 15>
2025-04-15 19:10:07.687800: Trước khi lấy giá cho món 15
2025-04-15 19:10:07.688218: price_at_order: None
2025-04-15 19:10:07.688298: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-15 19:10:07.688382: Định dạng tiền tệ: 0
2025-04-15 19:10:07.688460: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.688550: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.688659: Định dạng tiền tệ: 90000.0
2025-04-15 19:10:07.688746: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}
2025-04-15 19:10:07.688846: Thêm hóa đơn: order_id=16
2025-04-15 19:10:07.688918: Xử lý đơn hàng: 17
2025-04-15 19:10:07.688987: Trước khi lấy bàn cho đơn hàng 17
2025-04-15 19:10:07.689410: Table cho đơn hàng 17: <Table 3>
2025-04-15 19:10:07.689775: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.689848: Xử lý mục: order_id=17, item_id=6
2025-04-15 19:10:07.689942: Trước khi lấy món với ID 6
2025-04-15 19:10:07.690301: menu_item: <Item 6>
2025-04-15 19:10:07.690373: Trước khi lấy giá cho món 6
2025-04-15 19:10:07.690776: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:10:07.690851: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.690927: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.691017: Xử lý mục: order_id=17, item_id=7
2025-04-15 19:10:07.691095: Trước khi lấy món với ID 7
2025-04-15 19:10:07.691665: menu_item: <Item 7>
2025-04-15 19:10:07.691770: Trước khi lấy giá cho món 7
2025-04-15 19:10:07.692359: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-15 19:10:07.692442: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.692508: Định dạng tiền tệ: 12000.0
2025-04-15 19:10:07.692574: Xử lý mục: order_id=17, item_id=8
2025-04-15 19:10:07.692644: Trước khi lấy món với ID 8
2025-04-15 19:10:07.693094: menu_item: <Item 8>
2025-04-15 19:10:07.693172: Trước khi lấy giá cho món 8
2025-04-15 19:10:07.693606: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-15 19:10:07.693682: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.693747: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.693827: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:10:07.693895: Định dạng tiền tệ: 52000.0
2025-04-15 19:10:07.693966: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:10:07.694029: Thêm hóa đơn: order_id=17
2025-04-15 19:10:07.694085: Xử lý đơn hàng: 18
2025-04-15 19:10:07.694142: Trước khi lấy bàn cho đơn hàng 18
2025-04-15 19:10:07.694520: Table cho đơn hàng 18: <Table 4>
2025-04-15 19:10:07.694884: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.694959: Xử lý mục: order_id=18, item_id=14
2025-04-15 19:10:07.695021: Trước khi lấy món với ID 14
2025-04-15 19:10:07.695385: menu_item: <Item 14>
2025-04-15 19:10:07.695456: Trước khi lấy giá cho món 14
2025-04-15 19:10:07.695834: price_at_order: None
2025-04-15 19:10:07.695904: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-15 19:10:07.695967: Định dạng tiền tệ: 0
2025-04-15 19:10:07.696034: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.696099: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.696181: Định dạng tiền tệ: 150000.0
2025-04-15 19:10:07.696300: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}
2025-04-15 19:10:07.696378: Thêm hóa đơn: order_id=18
2025-04-15 19:10:07.696462: Xử lý đơn hàng: 19
2025-04-15 19:10:07.696523: Trước khi lấy bàn cho đơn hàng 19
2025-04-15 19:10:07.696936: Table cho đơn hàng 19: <Table 5>
2025-04-15 19:10:07.697301: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.697379: Xử lý mục: order_id=19, item_id=10
2025-04-15 19:10:07.697444: Trước khi lấy món với ID 10
2025-04-15 19:10:07.697829: menu_item: <Item 10>
2025-04-15 19:10:07.697913: Trước khi lấy giá cho món 10
2025-04-15 19:10:07.698448: price_at_order: None
2025-04-15 19:10:07.698599: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-15 19:10:07.698700: Định dạng tiền tệ: 0
2025-04-15 19:10:07.698776: Định dạng tiền tệ: 0.0
2025-04-15 19:10:07.698853: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-15 19:10:07.698920: Định dạng tiền tệ: 60000.0
2025-04-15 19:10:07.698994: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}
2025-04-15 19:10:07.699057: Thêm hóa đơn: order_id=19
2025-04-15 19:10:07.699154: Xử lý đơn hàng: 20
2025-04-15 19:10:07.699276: Trước khi lấy bàn cho đơn hàng 20
2025-04-15 19:10:07.699838: Table cho đơn hàng 20: <Table 1>
2025-04-15 19:10:07.700300: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.700377: Xử lý mục: order_id=20, item_id=5
2025-04-15 19:10:07.700456: Trước khi lấy món với ID 5
2025-04-15 19:10:07.700907: menu_item: <Item 5>
2025-04-15 19:10:07.700985: Trước khi lấy giá cho món 5
2025-04-15 19:10:07.701432: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:10:07.701510: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.701577: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.701644: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:10:07.701706: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.701789: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:10:07.701892: Thêm hóa đơn: order_id=20
2025-04-15 19:10:07.701988: Xử lý đơn hàng: 21
2025-04-15 19:10:07.702058: Trước khi lấy bàn cho đơn hàng 21
2025-04-15 19:10:07.702204: Table cho đơn hàng 21: <Table 1>
2025-04-15 19:10:07.702573: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.702654: Xử lý mục: order_id=21, item_id=6
2025-04-15 19:10:07.702730: Trước khi lấy món với ID 6
2025-04-15 19:10:07.703106: menu_item: <Item 6>
2025-04-15 19:10:07.703180: Trước khi lấy giá cho món 6
2025-04-15 19:10:07.703590: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:10:07.703664: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.703729: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.703796: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:10:07.703858: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.703925: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:10:07.703987: Thêm hóa đơn: order_id=21
2025-04-15 19:10:07.704043: Xử lý đơn hàng: 22
2025-04-15 19:10:07.704101: Trước khi lấy bàn cho đơn hàng 22
2025-04-15 19:10:07.704266: Table cho đơn hàng 22: <Table 1>
2025-04-15 19:10:07.704630: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.704706: Xử lý mục: order_id=22, item_id=6
2025-04-15 19:10:07.704796: Trước khi lấy món với ID 6
2025-04-15 19:10:07.705022: menu_item: <Item 6>
2025-04-15 19:10:07.705119: Trước khi lấy giá cho món 6
2025-04-15 19:10:07.705859: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:10:07.705984: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.706058: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.706134: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:10:07.706227: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.706311: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:10:07.706388: Thêm hóa đơn: order_id=22
2025-04-15 19:10:07.706459: Xử lý đơn hàng: 23
2025-04-15 19:10:07.706521: Trước khi lấy bàn cho đơn hàng 23
2025-04-15 19:10:07.706728: Table cho đơn hàng 23: <Table 1>
2025-04-15 19:10:07.707214: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.707289: Xử lý mục: order_id=23, item_id=6
2025-04-15 19:10:07.707351: Trước khi lấy món với ID 6
2025-04-15 19:10:07.707553: menu_item: <Item 6>
2025-04-15 19:10:07.707634: Trước khi lấy giá cho món 6
2025-04-15 19:10:07.708165: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-15 19:10:07.708248: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.708318: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.708384: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-15 19:10:07.708445: Định dạng tiền tệ: 10000.0
2025-04-15 19:10:07.708513: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-15 19:10:07.708585: Thêm hóa đơn: order_id=23
2025-04-15 19:10:07.708643: Xử lý đơn hàng: 24
2025-04-15 19:10:07.708701: Trước khi lấy bàn cho đơn hàng 24
2025-04-15 19:10:07.708839: Table cho đơn hàng 24: <Table 1>
2025-04-15 19:10:07.709217: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.709289: Xử lý mục: order_id=24, item_id=5
2025-04-15 19:10:07.709395: Trước khi lấy món với ID 5
2025-04-15 19:10:07.709861: menu_item: <Item 5>
2025-04-15 19:10:07.709942: Trước khi lấy giá cho món 5
2025-04-15 19:10:07.710374: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-15 19:10:07.710452: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.710518: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.710585: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-15 19:10:07.710647: Định dạng tiền tệ: 30000.0
2025-04-15 19:10:07.710715: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-15 19:10:07.710776: Thêm hóa đơn: order_id=24
2025-04-15 19:10:07.710832: Xử lý đơn hàng: 25
2025-04-15 19:10:07.710893: Trước khi lấy bàn cho đơn hàng 25
2025-04-15 19:10:07.711291: Table cho đơn hàng 25: <Table 7>
2025-04-15 19:10:07.711645: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-15 19:10:07.711786: Xử lý mục: order_id=25, item_id=12
2025-04-15 19:10:07.711880: Trước khi lấy món với ID 12
2025-04-15 19:10:07.712352: menu_item: <Item 12>
2025-04-15 19:10:07.712441: Trước khi lấy giá cho món 12
2025-04-15 19:10:07.712990: price_at_order: <PriceItem 12, 2025-04-15 11:52:23.807616>
2025-04-15 19:10:07.713081: Định dạng tiền tệ: 25000.0
2025-04-15 19:10:07.713149: Định dạng tiền tệ: 25000.0
2025-04-15 19:10:07.713211: Xử lý mục: order_id=25, item_id=13
2025-04-15 19:10:07.713271: Trước khi lấy món với ID 13
2025-04-15 19:10:07.713706: menu_item: <Item 13>
2025-04-15 19:10:07.713778: Trước khi lấy giá cho món 13
2025-04-15 19:10:07.714205: price_at_order: <PriceItem 13, 2025-04-15 11:52:44.947892>
2025-04-15 19:10:07.714278: Định dạng tiền tệ: 27000.0
2025-04-15 19:10:07.714341: Định dạng tiền tệ: 27000.0
2025-04-15 19:10:07.714412: Items cho đơn hàng 25: [{'name': 'Soda Blue', 'count': 1.0, 'price': '25,000 VNĐ', 'total': '25,000 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '27,000 VNĐ', 'total': '27,000 VNĐ'}]
2025-04-15 19:10:07.714479: Định dạng tiền tệ: 52000.0
2025-04-15 19:10:07.714599: Bill data cho đơn hàng 25: {'order_id': 25, 'order_time': datetime.datetime(2025, 4, 15, 12, 9, 33, 634000), 'table_name': '07', 'items': [{'name': 'Soda Blue', 'count': 1.0, 'price': '25,000 VNĐ', 'total': '25,000 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '27,000 VNĐ', 'total': '27,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-15 19:10:07.714685: Thêm hóa đơn: order_id=25
2025-04-15 19:10:07.714751: Chuẩn bị render template với 20 hóa đơn
2025-04-15 19:10:07.714936: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 25, 'order_time': datetime.datetime(2025, 4, 15, 12, 9, 33, 634000), 'table_name': '07', 'items': [{'name': 'Soda Blue', 'count': 1.0, 'price': '25,000 VNĐ', 'total': '25,000 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '27,000 VNĐ', 'total': '27,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}]
2025-04-15 19:10:07.715045: Total revenue: 1394000.0
2025-04-15 19:10:07.715112: Định dạng tiền tệ: 1394000.0
2025-04-15 19:10:07.715191: Formatted total revenue: 1,394,000 VNĐ
2025-04-15 19:10:07.715253: Date string: 2025-04-15
2025-04-15 19:10:07.715323: Định dạng tiền tệ: 1394000.0
2025-04-15 19:10:07.715383: Render template: bills=20, total_revenue=1,394,000 VNĐ, date=2025-04-15
2025-04-15 19:10:07.715440: Định dạng tiền tệ: 1394000.0
2025-04-16 09:27:58.045959: current_user: id=1, is_admin=True
2025-04-16 09:27:58.046308: Bắt đầu xử lý yêu cầu view_bills
2025-04-16 09:27:58.046383: Trước khi kiểm tra request.method
2025-04-16 09:27:58.046486: Phương thức: GET
2025-04-16 09:27:58.046552: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-16 09:27:58.047089: Kết nối cơ sở dữ liệu thành công: 1
2025-04-16 09:27:58.047162: Hiển thị template mặc định cho GET
2025-04-16 09:28:04.970315: current_user: id=1, is_admin=True
2025-04-16 09:28:04.970457: Bắt đầu xử lý yêu cầu view_bills
2025-04-16 09:28:04.970530: Trước khi kiểm tra request.method
2025-04-16 09:28:04.970595: Phương thức: POST
2025-04-16 09:28:04.970656: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-16 09:28:04.970897: Kết nối cơ sở dữ liệu thành công: 1
2025-04-16 09:28:04.970982: Trước khi lấy date_str
2025-04-16 09:28:04.971194: Nhận được date_str: 2025-04-15
2025-04-16 09:28:04.971264: Trước khi chuyển đổi ngày
2025-04-16 09:28:04.971364: Đã chuyển đổi date: 2025-04-15
2025-04-16 09:28:04.971426: Trước khi truy vấn đơn hàng cho ngày: 2025-04-15
2025-04-16 09:28:04.974230: Tìm thấy 20 đơn hàng
2025-04-16 09:28:04.974340: Xử lý đơn hàng: 6
2025-04-16 09:28:04.974408: Trước khi lấy bàn cho đơn hàng 6
2025-04-16 09:28:04.975435: Table cho đơn hàng 6: <Table 1>
2025-04-16 09:28:04.976523: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:04.976653: Xử lý mục: order_id=6, item_id=6
2025-04-16 09:28:04.976734: Trước khi lấy món với ID 6
2025-04-16 09:28:04.977434: menu_item: <Item 6>
2025-04-16 09:28:04.977546: Trước khi lấy giá cho món 6
2025-04-16 09:28:04.979062: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:04.979210: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:04.979322: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:04.979402: Xử lý mục: order_id=6, item_id=7
2025-04-16 09:28:04.979464: Trước khi lấy món với ID 7
2025-04-16 09:28:04.980073: menu_item: <Item 7>
2025-04-16 09:28:04.980150: Trước khi lấy giá cho món 7
2025-04-16 09:28:04.980634: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-16 09:28:04.980755: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:04.980865: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:04.980940: Xử lý mục: order_id=6, item_id=8
2025-04-16 09:28:04.981003: Trước khi lấy món với ID 8
2025-04-16 09:28:04.981446: menu_item: <Item 8>
2025-04-16 09:28:04.981520: Trước khi lấy giá cho món 8
2025-04-16 09:28:04.981976: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-16 09:28:04.982062: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.982130: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.983371: Items cho đơn hàng 6: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:04.983551: Định dạng tiền tệ: 52000.0
2025-04-16 09:28:04.983677: Bill data cho đơn hàng 6: {'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-16 09:28:04.983802: Thêm hóa đơn: order_id=6
2025-04-16 09:28:04.983900: Xử lý đơn hàng: 7
2025-04-16 09:28:04.984008: Trước khi lấy bàn cho đơn hàng 7
2025-04-16 09:28:04.984888: Table cho đơn hàng 7: <Table 2>
2025-04-16 09:28:04.985391: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:04.985470: Xử lý mục: order_id=7, item_id=6
2025-04-16 09:28:04.985533: Trước khi lấy món với ID 6
2025-04-16 09:28:04.986058: menu_item: <Item 6>
2025-04-16 09:28:04.986133: Trước khi lấy giá cho món 6
2025-04-16 09:28:04.986600: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:04.986736: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:04.986876: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:04.986963: Xử lý mục: order_id=7, item_id=7
2025-04-16 09:28:04.987028: Trước khi lấy món với ID 7
2025-04-16 09:28:04.987479: menu_item: <Item 7>
2025-04-16 09:28:04.987553: Trước khi lấy giá cho món 7
2025-04-16 09:28:04.988000: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-16 09:28:04.988074: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:04.988141: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:04.988202: Xử lý mục: order_id=7, item_id=14
2025-04-16 09:28:04.988263: Trước khi lấy món với ID 14
2025-04-16 09:28:04.988647: menu_item: <Item 14>
2025-04-16 09:28:04.988718: Trước khi lấy giá cho món 14
2025-04-16 09:28:04.989192: price_at_order: None
2025-04-16 09:28:04.989322: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 06:42:06.575000
2025-04-16 09:28:04.989423: Định dạng tiền tệ: 0
2025-04-16 09:28:04.989498: Định dạng tiền tệ: 0.0
2025-04-16 09:28:04.989574: Items cho đơn hàng 7: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:04.989655: Định dạng tiền tệ: 122000.0
2025-04-16 09:28:04.989773: Bill data cho đơn hàng 7: {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-16 09:28:04.989864: Thêm hóa đơn: order_id=7
2025-04-16 09:28:04.989933: Xử lý đơn hàng: 8
2025-04-16 09:28:04.990018: Trước khi lấy bàn cho đơn hàng 8
2025-04-16 09:28:04.990553: Table cho đơn hàng 8: <Table 1>
2025-04-16 09:28:04.991014: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:04.991090: Xử lý mục: order_id=8, item_id=5
2025-04-16 09:28:04.991218: Trước khi lấy món với ID 5
2025-04-16 09:28:04.991734: menu_item: <Item 5>
2025-04-16 09:28:04.991815: Trước khi lấy giá cho món 5
2025-04-16 09:28:04.992353: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:04.992434: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.992501: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.992568: Items cho đơn hàng 8: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:04.992628: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.992698: Bill data cho đơn hàng 8: {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-16 09:28:04.992757: Thêm hóa đơn: order_id=8
2025-04-16 09:28:04.992831: Xử lý đơn hàng: 9
2025-04-16 09:28:04.992889: Trước khi lấy bàn cho đơn hàng 9
2025-04-16 09:28:04.993300: Table cho đơn hàng 9: <Table 2>
2025-04-16 09:28:04.993670: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:04.993745: Xử lý mục: order_id=9, item_id=5
2025-04-16 09:28:04.993805: Trước khi lấy món với ID 5
2025-04-16 09:28:04.993948: menu_item: <Item 5>
2025-04-16 09:28:04.994014: Trước khi lấy giá cho món 5
2025-04-16 09:28:04.994473: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:04.994544: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.994607: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.994671: Items cho đơn hàng 9: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:04.994732: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:04.994822: Bill data cho đơn hàng 9: {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-16 09:28:04.994891: Thêm hóa đơn: order_id=9
2025-04-16 09:28:04.994951: Xử lý đơn hàng: 10
2025-04-16 09:28:04.995026: Trước khi lấy bàn cho đơn hàng 10
2025-04-16 09:28:04.995464: Table cho đơn hàng 10: <Table 3>
2025-04-16 09:28:04.995839: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:04.995915: Xử lý mục: order_id=10, item_id=9
2025-04-16 09:28:04.995983: Trước khi lấy món với ID 9
2025-04-16 09:28:04.996386: menu_item: <Item 9>
2025-04-16 09:28:04.996460: Trước khi lấy giá cho món 9
2025-04-16 09:28:04.996917: price_at_order: None
2025-04-16 09:28:04.997024: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 10:59:15.921000
2025-04-16 09:28:04.997108: Định dạng tiền tệ: 0
2025-04-16 09:28:04.997186: Định dạng tiền tệ: 0.0
2025-04-16 09:28:04.997269: Items cho đơn hàng 10: [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:04.997336: Định dạng tiền tệ: 15000.0
2025-04-16 09:28:04.997426: Bill data cho đơn hàng 10: {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}
2025-04-16 09:28:04.997510: Thêm hóa đơn: order_id=10
2025-04-16 09:28:04.997598: Xử lý đơn hàng: 11
2025-04-16 09:28:04.997670: Trước khi lấy bàn cho đơn hàng 11
2025-04-16 09:28:04.998329: Table cho đơn hàng 11: <Table 4>
2025-04-16 09:28:04.998812: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:04.998909: Xử lý mục: order_id=11, item_id=7
2025-04-16 09:28:04.998975: Trước khi lấy món với ID 7
2025-04-16 09:28:04.999442: menu_item: <Item 7>
2025-04-16 09:28:04.999515: Trước khi lấy giá cho món 7
2025-04-16 09:28:04.999991: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-16 09:28:05.000067: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:05.000150: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:05.000214: Xử lý mục: order_id=11, item_id=8
2025-04-16 09:28:05.000275: Trước khi lấy món với ID 8
2025-04-16 09:28:05.000668: menu_item: <Item 8>
2025-04-16 09:28:05.000738: Trước khi lấy giá cho món 8
2025-04-16 09:28:05.001189: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-16 09:28:05.001269: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.001341: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.001404: Xử lý mục: order_id=11, item_id=9
2025-04-16 09:28:05.001461: Trước khi lấy món với ID 9
2025-04-16 09:28:05.001834: menu_item: <Item 9>
2025-04-16 09:28:05.001906: Trước khi lấy giá cho món 9
2025-04-16 09:28:05.002305: price_at_order: None
2025-04-16 09:28:05.002380: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:30.463000
2025-04-16 09:28:05.002500: Định dạng tiền tệ: 0
2025-04-16 09:28:05.002585: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.002673: Xử lý mục: order_id=11, item_id=11
2025-04-16 09:28:05.002770: Trước khi lấy món với ID 11
2025-04-16 09:28:05.003143: menu_item: <Item 11>
2025-04-16 09:28:05.003220: Trước khi lấy giá cho món 11
2025-04-16 09:28:05.003597: price_at_order: None
2025-04-16 09:28:05.003729: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:30.463000
2025-04-16 09:28:05.003823: Định dạng tiền tệ: 0
2025-04-16 09:28:05.003903: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.003988: Items cho đơn hàng 11: [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.004102: Định dạng tiền tệ: 97000.0
2025-04-16 09:28:05.004219: Bill data cho đơn hàng 11: {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}
2025-04-16 09:28:05.004317: Thêm hóa đơn: order_id=11
2025-04-16 09:28:05.004419: Xử lý đơn hàng: 12
2025-04-16 09:28:05.004525: Trước khi lấy bàn cho đơn hàng 12
2025-04-16 09:28:05.005344: Table cho đơn hàng 12: <Table 10>
2025-04-16 09:28:05.005879: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.005967: Xử lý mục: order_id=12, item_id=8
2025-04-16 09:28:05.006033: Trước khi lấy món với ID 8
2025-04-16 09:28:05.006500: menu_item: <Item 8>
2025-04-16 09:28:05.006574: Trước khi lấy giá cho món 8
2025-04-16 09:28:05.007061: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-16 09:28:05.007141: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.007212: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.007275: Xử lý mục: order_id=12, item_id=9
2025-04-16 09:28:05.007337: Trước khi lấy món với ID 9
2025-04-16 09:28:05.007770: menu_item: <Item 9>
2025-04-16 09:28:05.007854: Trước khi lấy giá cho món 9
2025-04-16 09:28:05.008377: price_at_order: None
2025-04-16 09:28:05.008469: WARNING: Không tìm thấy giá cho món 9 tại 2025-04-15 11:01:40.258000
2025-04-16 09:28:05.008539: Định dạng tiền tệ: 0
2025-04-16 09:28:05.008626: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.008734: Xử lý mục: order_id=12, item_id=10
2025-04-16 09:28:05.008818: Trước khi lấy món với ID 10
2025-04-16 09:28:05.009275: menu_item: <Item 10>
2025-04-16 09:28:05.009354: Trước khi lấy giá cho món 10
2025-04-16 09:28:05.009823: price_at_order: None
2025-04-16 09:28:05.009902: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:01:40.258000
2025-04-16 09:28:05.009967: Định dạng tiền tệ: 0
2025-04-16 09:28:05.010032: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.010094: Xử lý mục: order_id=12, item_id=14
2025-04-16 09:28:05.010202: Trước khi lấy món với ID 14
2025-04-16 09:28:05.010695: menu_item: <Item 14>
2025-04-16 09:28:05.010812: Trước khi lấy giá cho món 14
2025-04-16 09:28:05.011479: price_at_order: None
2025-04-16 09:28:05.011590: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:01:40.258000
2025-04-16 09:28:05.011742: Định dạng tiền tệ: 0
2025-04-16 09:28:05.011888: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.011993: Xử lý mục: order_id=12, item_id=15
2025-04-16 09:28:05.012083: Trước khi lấy món với ID 15
2025-04-16 09:28:05.012717: menu_item: <Item 15>
2025-04-16 09:28:05.012815: Trước khi lấy giá cho món 15
2025-04-16 09:28:05.013520: price_at_order: None
2025-04-16 09:28:05.013646: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:01:40.258000
2025-04-16 09:28:05.013762: Định dạng tiền tệ: 0
2025-04-16 09:28:05.013842: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.013929: Items cho đơn hàng 12: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.014019: Định dạng tiền tệ: 145000.0
2025-04-16 09:28:05.014210: Bill data cho đơn hàng 12: {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}
2025-04-16 09:28:05.014284: Thêm hóa đơn: order_id=12
2025-04-16 09:28:05.014347: Xử lý đơn hàng: 13
2025-04-16 09:28:05.014409: Trước khi lấy bàn cho đơn hàng 13
2025-04-16 09:28:05.014931: Table cho đơn hàng 13: <Table 16>
2025-04-16 09:28:05.015374: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.015460: Xử lý mục: order_id=13, item_id=8
2025-04-16 09:28:05.015534: Trước khi lấy món với ID 8
2025-04-16 09:28:05.015957: menu_item: <Item 8>
2025-04-16 09:28:05.016035: Trước khi lấy giá cho món 8
2025-04-16 09:28:05.016497: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-16 09:28:05.016592: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.016702: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.016785: Xử lý mục: order_id=13, item_id=11
2025-04-16 09:28:05.016863: Trước khi lấy món với ID 11
2025-04-16 09:28:05.017306: menu_item: <Item 11>
2025-04-16 09:28:05.017387: Trước khi lấy giá cho món 11
2025-04-16 09:28:05.018099: price_at_order: None
2025-04-16 09:28:05.018235: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:01:51.065000
2025-04-16 09:28:05.018343: Định dạng tiền tệ: 0
2025-04-16 09:28:05.018444: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.018539: Xử lý mục: order_id=13, item_id=12
2025-04-16 09:28:05.018639: Trước khi lấy món với ID 12
2025-04-16 09:28:05.019397: menu_item: <Item 12>
2025-04-16 09:28:05.019497: Trước khi lấy giá cho món 12
2025-04-16 09:28:05.020017: price_at_order: None
2025-04-16 09:28:05.020095: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:01:51.065000
2025-04-16 09:28:05.020159: Định dạng tiền tệ: 0
2025-04-16 09:28:05.020282: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.020374: Xử lý mục: order_id=13, item_id=13
2025-04-16 09:28:05.020443: Trước khi lấy món với ID 13
2025-04-16 09:28:05.020958: menu_item: <Item 13>
2025-04-16 09:28:05.021037: Trước khi lấy giá cho món 13
2025-04-16 09:28:05.021579: price_at_order: None
2025-04-16 09:28:05.021677: WARNING: Không tìm thấy giá cho món 13 tại 2025-04-15 11:01:51.065000
2025-04-16 09:28:05.021750: Định dạng tiền tệ: 0
2025-04-16 09:28:05.021853: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.021971: Items cho đơn hàng 13: [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.022130: Định dạng tiền tệ: 122000.0
2025-04-16 09:28:05.022244: Bill data cho đơn hàng 13: {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}
2025-04-16 09:28:05.022318: Thêm hóa đơn: order_id=13
2025-04-16 09:28:05.022389: Xử lý đơn hàng: 14
2025-04-16 09:28:05.022463: Trước khi lấy bàn cho đơn hàng 14
2025-04-16 09:28:05.022988: Table cho đơn hàng 14: <Table 7>
2025-04-16 09:28:05.023426: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.023510: Xử lý mục: order_id=14, item_id=11
2025-04-16 09:28:05.023578: Trước khi lấy món với ID 11
2025-04-16 09:28:05.024018: menu_item: <Item 11>
2025-04-16 09:28:05.024096: Trước khi lấy giá cho món 11
2025-04-16 09:28:05.024561: price_at_order: None
2025-04-16 09:28:05.024675: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:00.719000
2025-04-16 09:28:05.024834: Định dạng tiền tệ: 0
2025-04-16 09:28:05.024929: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.025036: Items cho đơn hàng 14: [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.025141: Định dạng tiền tệ: 200000.0
2025-04-16 09:28:05.025228: Bill data cho đơn hàng 14: {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}
2025-04-16 09:28:05.025331: Thêm hóa đơn: order_id=14
2025-04-16 09:28:05.025417: Xử lý đơn hàng: 15
2025-04-16 09:28:05.025530: Trước khi lấy bàn cho đơn hàng 15
2025-04-16 09:28:05.026246: Table cho đơn hàng 15: <Table 1>
2025-04-16 09:28:05.026812: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.026900: Xử lý mục: order_id=15, item_id=6
2025-04-16 09:28:05.026986: Trước khi lấy món với ID 6
2025-04-16 09:28:05.027508: menu_item: <Item 6>
2025-04-16 09:28:05.027595: Trước khi lấy giá cho món 6
2025-04-16 09:28:05.028125: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:05.028208: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.028289: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.028371: Xử lý mục: order_id=15, item_id=7
2025-04-16 09:28:05.028435: Trước khi lấy món với ID 7
2025-04-16 09:28:05.028884: menu_item: <Item 7>
2025-04-16 09:28:05.028962: Trước khi lấy giá cho món 7
2025-04-16 09:28:05.029459: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-16 09:28:05.029544: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:05.029612: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:05.029740: Xử lý mục: order_id=15, item_id=11
2025-04-16 09:28:05.029824: Trước khi lấy món với ID 11
2025-04-16 09:28:05.030248: menu_item: <Item 11>
2025-04-16 09:28:05.030323: Trước khi lấy giá cho món 11
2025-04-16 09:28:05.030806: price_at_order: None
2025-04-16 09:28:05.030889: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:38.142000
2025-04-16 09:28:05.030957: Định dạng tiền tệ: 0
2025-04-16 09:28:05.031021: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.031132: Xử lý mục: order_id=15, item_id=12
2025-04-16 09:28:05.031198: Trước khi lấy món với ID 12
2025-04-16 09:28:05.031836: menu_item: <Item 12>
2025-04-16 09:28:05.031950: Trước khi lấy giá cho món 12
2025-04-16 09:28:05.032690: price_at_order: None
2025-04-16 09:28:05.032851: WARNING: Không tìm thấy giá cho món 12 tại 2025-04-15 11:02:38.142000
2025-04-16 09:28:05.032977: Định dạng tiền tệ: 0
2025-04-16 09:28:05.033076: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.033167: Items cho đơn hàng 15: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.033257: Định dạng tiền tệ: 87000.0
2025-04-16 09:28:05.033346: Bill data cho đơn hàng 15: {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}
2025-04-16 09:28:05.033418: Thêm hóa đơn: order_id=15
2025-04-16 09:28:05.033483: Xử lý đơn hàng: 16
2025-04-16 09:28:05.033585: Trước khi lấy bàn cho đơn hàng 16
2025-04-16 09:28:05.034204: Table cho đơn hàng 16: <Table 2>
2025-04-16 09:28:05.034685: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.034772: Xử lý mục: order_id=16, item_id=10
2025-04-16 09:28:05.034839: Trước khi lấy món với ID 10
2025-04-16 09:28:05.035321: menu_item: <Item 10>
2025-04-16 09:28:05.035399: Trước khi lấy giá cho món 10
2025-04-16 09:28:05.035854: price_at_order: None
2025-04-16 09:28:05.035933: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:02:45.413000
2025-04-16 09:28:05.036000: Định dạng tiền tệ: 0
2025-04-16 09:28:05.036070: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.036134: Xử lý mục: order_id=16, item_id=11
2025-04-16 09:28:05.036194: Trước khi lấy món với ID 11
2025-04-16 09:28:05.036617: menu_item: <Item 11>
2025-04-16 09:28:05.036693: Trước khi lấy giá cho món 11
2025-04-16 09:28:05.037117: price_at_order: None
2025-04-16 09:28:05.037194: WARNING: Không tìm thấy giá cho món 11 tại 2025-04-15 11:02:45.413000
2025-04-16 09:28:05.037260: Định dạng tiền tệ: 0
2025-04-16 09:28:05.037343: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.037454: Xử lý mục: order_id=16, item_id=15
2025-04-16 09:28:05.037525: Trước khi lấy món với ID 15
2025-04-16 09:28:05.037971: menu_item: <Item 15>
2025-04-16 09:28:05.038058: Trước khi lấy giá cho món 15
2025-04-16 09:28:05.038565: price_at_order: None
2025-04-16 09:28:05.038706: WARNING: Không tìm thấy giá cho món 15 tại 2025-04-15 11:02:45.413000
2025-04-16 09:28:05.038788: Định dạng tiền tệ: 0
2025-04-16 09:28:05.038866: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.038978: Items cho đơn hàng 16: [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.039097: Định dạng tiền tệ: 90000.0
2025-04-16 09:28:05.039185: Bill data cho đơn hàng 16: {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}
2025-04-16 09:28:05.039292: Thêm hóa đơn: order_id=16
2025-04-16 09:28:05.039359: Xử lý đơn hàng: 17
2025-04-16 09:28:05.039459: Trước khi lấy bàn cho đơn hàng 17
2025-04-16 09:28:05.040311: Table cho đơn hàng 17: <Table 3>
2025-04-16 09:28:05.040874: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.040979: Xử lý mục: order_id=17, item_id=6
2025-04-16 09:28:05.041091: Trước khi lấy món với ID 6
2025-04-16 09:28:05.041671: menu_item: <Item 6>
2025-04-16 09:28:05.041764: Trước khi lấy giá cho món 6
2025-04-16 09:28:05.042296: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:05.042379: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.042473: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.042549: Xử lý mục: order_id=17, item_id=7
2025-04-16 09:28:05.042610: Trước khi lấy món với ID 7
2025-04-16 09:28:05.043015: menu_item: <Item 7>
2025-04-16 09:28:05.043094: Trước khi lấy giá cho món 7
2025-04-16 09:28:05.043590: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-16 09:28:05.043668: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:05.043734: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:05.043817: Xử lý mục: order_id=17, item_id=8
2025-04-16 09:28:05.043908: Trước khi lấy món với ID 8
2025-04-16 09:28:05.044310: menu_item: <Item 8>
2025-04-16 09:28:05.044382: Trước khi lấy giá cho món 8
2025-04-16 09:28:05.044794: price_at_order: <PriceItem 8, 2025-04-15 00:21:02.708885>
2025-04-16 09:28:05.044866: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.044931: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.045011: Items cho đơn hàng 17: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:05.045122: Định dạng tiền tệ: 52000.0
2025-04-16 09:28:05.045198: Bill data cho đơn hàng 17: {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-16 09:28:05.045289: Thêm hóa đơn: order_id=17
2025-04-16 09:28:05.045427: Xử lý đơn hàng: 18
2025-04-16 09:28:05.045510: Trước khi lấy bàn cho đơn hàng 18
2025-04-16 09:28:05.046230: Table cho đơn hàng 18: <Table 4>
2025-04-16 09:28:05.046864: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.047005: Xử lý mục: order_id=18, item_id=14
2025-04-16 09:28:05.047142: Trước khi lấy món với ID 14
2025-04-16 09:28:05.047907: menu_item: <Item 14>
2025-04-16 09:28:05.048058: Trước khi lấy giá cho món 14
2025-04-16 09:28:05.048600: price_at_order: None
2025-04-16 09:28:05.048686: WARNING: Không tìm thấy giá cho món 14 tại 2025-04-15 11:03:01.394000
2025-04-16 09:28:05.048771: Định dạng tiền tệ: 0
2025-04-16 09:28:05.048879: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.048959: Items cho đơn hàng 18: [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.049050: Định dạng tiền tệ: 150000.0
2025-04-16 09:28:05.049143: Bill data cho đơn hàng 18: {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}
2025-04-16 09:28:05.049242: Thêm hóa đơn: order_id=18
2025-04-16 09:28:05.049305: Xử lý đơn hàng: 19
2025-04-16 09:28:05.049396: Trước khi lấy bàn cho đơn hàng 19
2025-04-16 09:28:05.049850: Table cho đơn hàng 19: <Table 5>
2025-04-16 09:28:05.050242: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.050322: Xử lý mục: order_id=19, item_id=10
2025-04-16 09:28:05.050388: Trước khi lấy món với ID 10
2025-04-16 09:28:05.050792: menu_item: <Item 10>
2025-04-16 09:28:05.050876: Trước khi lấy giá cho món 10
2025-04-16 09:28:05.051325: price_at_order: None
2025-04-16 09:28:05.051407: WARNING: Không tìm thấy giá cho món 10 tại 2025-04-15 11:03:13.033000
2025-04-16 09:28:05.051485: Định dạng tiền tệ: 0
2025-04-16 09:28:05.051556: Định dạng tiền tệ: 0.0
2025-04-16 09:28:05.051626: Items cho đơn hàng 19: [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}]
2025-04-16 09:28:05.051690: Định dạng tiền tệ: 60000.0
2025-04-16 09:28:05.051760: Bill data cho đơn hàng 19: {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}
2025-04-16 09:28:05.051821: Thêm hóa đơn: order_id=19
2025-04-16 09:28:05.051878: Xử lý đơn hàng: 20
2025-04-16 09:28:05.051936: Trước khi lấy bàn cho đơn hàng 20
2025-04-16 09:28:05.052354: Table cho đơn hàng 20: <Table 1>
2025-04-16 09:28:05.052852: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.052936: Xử lý mục: order_id=20, item_id=5
2025-04-16 09:28:05.053027: Trước khi lấy món với ID 5
2025-04-16 09:28:05.053588: menu_item: <Item 5>
2025-04-16 09:28:05.053715: Trước khi lấy giá cho món 5
2025-04-16 09:28:05.054294: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:05.054380: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.054450: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.054519: Items cho đơn hàng 20: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:05.054597: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.054687: Bill data cho đơn hàng 20: {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-16 09:28:05.054778: Thêm hóa đơn: order_id=20
2025-04-16 09:28:05.054869: Xử lý đơn hàng: 21
2025-04-16 09:28:05.054935: Trước khi lấy bàn cho đơn hàng 21
2025-04-16 09:28:05.055109: Table cho đơn hàng 21: <Table 1>
2025-04-16 09:28:05.055524: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.055620: Xử lý mục: order_id=21, item_id=6
2025-04-16 09:28:05.055722: Trước khi lấy món với ID 6
2025-04-16 09:28:05.056200: menu_item: <Item 6>
2025-04-16 09:28:05.056281: Trước khi lấy giá cho món 6
2025-04-16 09:28:05.056758: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:05.056837: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.056902: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.056970: Items cho đơn hàng 21: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-16 09:28:05.057051: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.057149: Bill data cho đơn hàng 21: {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-16 09:28:05.057214: Thêm hóa đơn: order_id=21
2025-04-16 09:28:05.057284: Xử lý đơn hàng: 22
2025-04-16 09:28:05.057344: Trước khi lấy bàn cho đơn hàng 22
2025-04-16 09:28:05.057503: Table cho đơn hàng 22: <Table 1>
2025-04-16 09:28:05.057911: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.058006: Xử lý mục: order_id=22, item_id=6
2025-04-16 09:28:05.058075: Trước khi lấy món với ID 6
2025-04-16 09:28:05.058210: menu_item: <Item 6>
2025-04-16 09:28:05.058274: Trước khi lấy giá cho món 6
2025-04-16 09:28:05.058715: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:05.058798: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.058877: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.058965: Items cho đơn hàng 22: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-16 09:28:05.059072: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.059172: Bill data cho đơn hàng 22: {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-16 09:28:05.059268: Thêm hóa đơn: order_id=22
2025-04-16 09:28:05.059362: Xử lý đơn hàng: 23
2025-04-16 09:28:05.059468: Trước khi lấy bàn cho đơn hàng 23
2025-04-16 09:28:05.059685: Table cho đơn hàng 23: <Table 1>
2025-04-16 09:28:05.060295: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.060386: Xử lý mục: order_id=23, item_id=6
2025-04-16 09:28:05.060492: Trước khi lấy món với ID 6
2025-04-16 09:28:05.060739: menu_item: <Item 6>
2025-04-16 09:28:05.060834: Trước khi lấy giá cho món 6
2025-04-16 09:28:05.061631: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:05.061749: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.061844: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.061953: Items cho đơn hàng 23: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-16 09:28:05.062051: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:05.062135: Bill data cho đơn hàng 23: {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}
2025-04-16 09:28:05.062212: Thêm hóa đơn: order_id=23
2025-04-16 09:28:05.062272: Xử lý đơn hàng: 24
2025-04-16 09:28:05.062339: Trước khi lấy bàn cho đơn hàng 24
2025-04-16 09:28:05.062499: Table cho đơn hàng 24: <Table 1>
2025-04-16 09:28:05.062921: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.063004: Xử lý mục: order_id=24, item_id=5
2025-04-16 09:28:05.063067: Trước khi lấy món với ID 5
2025-04-16 09:28:05.063516: menu_item: <Item 5>
2025-04-16 09:28:05.063593: Trước khi lấy giá cho món 5
2025-04-16 09:28:05.064079: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:05.064174: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.064291: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.064384: Items cho đơn hàng 24: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:05.064491: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:05.064580: Bill data cho đơn hàng 24: {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-16 09:28:05.064649: Thêm hóa đơn: order_id=24
2025-04-16 09:28:05.064707: Xử lý đơn hàng: 25
2025-04-16 09:28:05.064779: Trước khi lấy bàn cho đơn hàng 25
2025-04-16 09:28:05.065230: Table cho đơn hàng 25: <Table 7>
2025-04-16 09:28:05.065622: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:05.065717: Xử lý mục: order_id=25, item_id=12
2025-04-16 09:28:05.065784: Trước khi lấy món với ID 12
2025-04-16 09:28:05.066197: menu_item: <Item 12>
2025-04-16 09:28:05.066296: Trước khi lấy giá cho món 12
2025-04-16 09:28:05.066938: price_at_order: <PriceItem 12, 2025-04-15 11:52:23.807616>
2025-04-16 09:28:05.067055: Định dạng tiền tệ: 25000.0
2025-04-16 09:28:05.067155: Định dạng tiền tệ: 25000.0
2025-04-16 09:28:05.067293: Xử lý mục: order_id=25, item_id=13
2025-04-16 09:28:05.067401: Trước khi lấy món với ID 13
2025-04-16 09:28:05.068030: menu_item: <Item 13>
2025-04-16 09:28:05.068129: Trước khi lấy giá cho món 13
2025-04-16 09:28:05.068680: price_at_order: <PriceItem 13, 2025-04-15 11:52:44.947892>
2025-04-16 09:28:05.068760: Định dạng tiền tệ: 27000.0
2025-04-16 09:28:05.068882: Định dạng tiền tệ: 27000.0
2025-04-16 09:28:05.068975: Items cho đơn hàng 25: [{'name': 'Soda Blue', 'count': 1.0, 'price': '25,000 VNĐ', 'total': '25,000 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '27,000 VNĐ', 'total': '27,000 VNĐ'}]
2025-04-16 09:28:05.069046: Định dạng tiền tệ: 52000.0
2025-04-16 09:28:05.069124: Bill data cho đơn hàng 25: {'order_id': 25, 'order_time': datetime.datetime(2025, 4, 15, 12, 9, 33, 634000), 'table_name': '07', 'items': [{'name': 'Soda Blue', 'count': 1.0, 'price': '25,000 VNĐ', 'total': '25,000 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '27,000 VNĐ', 'total': '27,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}
2025-04-16 09:28:05.069197: Thêm hóa đơn: order_id=25
2025-04-16 09:28:05.069258: Chuẩn bị render template với 20 hóa đơn
2025-04-16 09:28:05.069459: Bills data: [{'order_id': 6, 'order_time': datetime.datetime(2025, 4, 15, 6, 41, 48, 523000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 7, 'order_time': datetime.datetime(2025, 4, 15, 6, 42, 6, 575000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Mì Cay', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 8, 'order_time': datetime.datetime(2025, 4, 15, 10, 58, 59, 310000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 9, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 8, 830000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 10, 'order_time': datetime.datetime(2025, 4, 15, 10, 59, 15, 921000), 'table_name': '03', 'items': [{'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '15,000 VNĐ'}, {'order_id': 11, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 30, 463000), 'table_name': '04', 'items': [{'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '97,000 VNĐ'}, {'order_id': 12, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 40, 258000), 'table_name': '10', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Trà chanh', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Mì Cay', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '145,000 VNĐ'}, {'order_id': 13, 'order_time': datetime.datetime(2025, 4, 15, 11, 1, 51, 65000), 'table_name': '16', 'items': [{'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '122,000 VNĐ'}, {'order_id': 14, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 0, 719000), 'table_name': '07', 'items': [{'name': 'Matcha Latte', 'count': 5.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '200,000 VNĐ'}, {'order_id': 15, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 38, 142000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Soda Blue', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '87,000 VNĐ'}, {'order_id': 16, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 45, 413000), 'table_name': '02', 'items': [{'name': 'Machiato', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Matcha Latte', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}, {'name': 'Bánh tráng trộn', 'count': 1.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '90,000 VNĐ'}, {'order_id': 17, 'order_time': datetime.datetime(2025, 4, 15, 11, 2, 52, 770000), 'table_name': '03', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}, {'name': 'Trà sữa', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}, {'order_id': 18, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 1, 394000), 'table_name': '04', 'items': [{'name': 'Mì Cay', 'count': 3.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '150,000 VNĐ'}, {'order_id': 19, 'order_time': datetime.datetime(2025, 4, 15, 11, 3, 13, 33000), 'table_name': '05', 'items': [{'name': 'Machiato', 'count': 2.0, 'price': '0 VNĐ', 'total': '0 VNĐ'}], 'total_amount': '60,000 VNĐ'}, {'order_id': 20, 'order_time': datetime.datetime(2025, 4, 15, 11, 6, 35, 572000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 21, 'order_time': datetime.datetime(2025, 4, 15, 11, 10, 58, 54000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 22, 'order_time': datetime.datetime(2025, 4, 15, 11, 12, 37, 216000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 23, 'order_time': datetime.datetime(2025, 4, 15, 11, 18, 14, 39000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '10,000 VNĐ'}, {'order_id': 24, 'order_time': datetime.datetime(2025, 4, 15, 11, 39, 52, 482000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 25, 'order_time': datetime.datetime(2025, 4, 15, 12, 9, 33, 634000), 'table_name': '07', 'items': [{'name': 'Soda Blue', 'count': 1.0, 'price': '25,000 VNĐ', 'total': '25,000 VNĐ'}, {'name': 'Soda Dâu', 'count': 1.0, 'price': '27,000 VNĐ', 'total': '27,000 VNĐ'}], 'total_amount': '52,000 VNĐ'}]
2025-04-16 09:28:05.069595: Total revenue: 1394000.0
2025-04-16 09:28:05.069691: Định dạng tiền tệ: 1394000.0
2025-04-16 09:28:05.069755: Formatted total revenue: 1,394,000 VNĐ
2025-04-16 09:28:05.069827: Date string: 2025-04-15
2025-04-16 09:28:05.069891: Định dạng tiền tệ: 1394000.0
2025-04-16 09:28:05.069954: Render template: bills=20, total_revenue=1,394,000 VNĐ, date=2025-04-15
2025-04-16 09:28:05.070011: Định dạng tiền tệ: 1394000.0
2025-04-16 09:28:23.452064: current_user: id=1, is_admin=True
2025-04-16 09:28:23.452202: Bắt đầu xử lý yêu cầu view_bills
2025-04-16 09:28:23.452291: Trước khi kiểm tra request.method
2025-04-16 09:28:23.452358: Phương thức: POST
2025-04-16 09:28:23.452416: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-16 09:28:23.452617: Kết nối cơ sở dữ liệu thành công: 1
2025-04-16 09:28:23.452701: Trước khi lấy date_str
2025-04-16 09:28:23.452907: Nhận được date_str: 2025-04-16
2025-04-16 09:28:23.452974: Trước khi chuyển đổi ngày
2025-04-16 09:28:23.453091: Đã chuyển đổi date: 2025-04-16
2025-04-16 09:28:23.453158: Trước khi truy vấn đơn hàng cho ngày: 2025-04-16
2025-04-16 09:28:23.453724: Tìm thấy 0 đơn hàng
2025-04-16 09:28:23.453813: Chuẩn bị render template với 0 hóa đơn
2025-04-16 09:28:23.453883: Bills data: []
2025-04-16 09:28:23.453944: Total revenue: 0
2025-04-16 09:28:23.454307: ERROR: Lỗi trong view_bills: cannot access local variable 'formatCurrency' where it is not associated with a value
2025-04-16 09:28:23.772650: current_user: id=1, is_admin=True
2025-04-16 09:28:23.772813: Bắt đầu xử lý yêu cầu view_bills
2025-04-16 09:28:23.772893: Trước khi kiểm tra request.method
2025-04-16 09:28:23.772957: Phương thức: GET
2025-04-16 09:28:23.773016: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-16 09:28:23.773213: Kết nối cơ sở dữ liệu thành công: 1
2025-04-16 09:28:23.773302: Hiển thị template mặc định cho GET
2025-04-16 09:28:35.132275: current_user: id=1, is_admin=True
2025-04-16 09:28:35.132463: Bắt đầu xử lý yêu cầu view_bills
2025-04-16 09:28:35.132594: Trước khi kiểm tra request.method
2025-04-16 09:28:35.132698: Phương thức: POST
2025-04-16 09:28:35.132778: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-16 09:28:35.133031: Kết nối cơ sở dữ liệu thành công: 1
2025-04-16 09:28:35.133103: Trước khi lấy date_str
2025-04-16 09:28:35.133410: Nhận được date_str: 2025-04-14
2025-04-16 09:28:35.133478: Trước khi chuyển đổi ngày
2025-04-16 09:28:35.133577: Đã chuyển đổi date: 2025-04-14
2025-04-16 09:28:35.133647: Trước khi truy vấn đơn hàng cho ngày: 2025-04-14
2025-04-16 09:28:35.134204: Tìm thấy 5 đơn hàng
2025-04-16 09:28:35.134279: Xử lý đơn hàng: 1
2025-04-16 09:28:35.134344: Trước khi lấy bàn cho đơn hàng 1
2025-04-16 09:28:35.134799: Table cho đơn hàng 1: <Table 1>
2025-04-16 09:28:35.135215: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:35.135292: Xử lý mục: order_id=1, item_id=5
2025-04-16 09:28:35.135358: Trước khi lấy món với ID 5
2025-04-16 09:28:35.135840: menu_item: <Item 5>
2025-04-16 09:28:35.135952: Trước khi lấy giá cho món 5
2025-04-16 09:28:35.136486: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:35.136572: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.136645: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.136708: Xử lý mục: order_id=1, item_id=6
2025-04-16 09:28:35.136765: Trước khi lấy món với ID 6
2025-04-16 09:28:35.137173: menu_item: <Item 6>
2025-04-16 09:28:35.137252: Trước khi lấy giá cho món 6
2025-04-16 09:28:35.137679: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:35.137755: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:35.137892: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:35.137984: Items cho đơn hàng 1: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}]
2025-04-16 09:28:35.138092: Định dạng tiền tệ: 40000.0
2025-04-16 09:28:35.138174: Bill data cho đơn hàng 1: {'order_id': 1, 'order_time': datetime.datetime(2025, 4, 14, 13, 1, 47, 355000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '40,000 VNĐ'}
2025-04-16 09:28:35.138240: Thêm hóa đơn: order_id=1
2025-04-16 09:28:35.138300: Xử lý đơn hàng: 2
2025-04-16 09:28:35.138359: Trước khi lấy bàn cho đơn hàng 2
2025-04-16 09:28:35.138787: Table cho đơn hàng 2: <Table 2>
2025-04-16 09:28:35.139168: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:35.139242: Xử lý mục: order_id=2, item_id=5
2025-04-16 09:28:35.139307: Trước khi lấy món với ID 5
2025-04-16 09:28:35.139688: menu_item: <Item 5>
2025-04-16 09:28:35.139759: Trước khi lấy giá cho món 5
2025-04-16 09:28:35.140191: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:35.140268: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.140337: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.140400: Xử lý mục: order_id=2, item_id=7
2025-04-16 09:28:35.140493: Trước khi lấy món với ID 7
2025-04-16 09:28:35.140915: menu_item: <Item 7>
2025-04-16 09:28:35.140991: Trước khi lấy giá cho món 7
2025-04-16 09:28:35.141426: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-16 09:28:35.141505: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:35.141593: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:35.141725: Items cho đơn hàng 2: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}]
2025-04-16 09:28:35.141829: Định dạng tiền tệ: 42000.0
2025-04-16 09:28:35.141924: Bill data cho đơn hàng 2: {'order_id': 2, 'order_time': datetime.datetime(2025, 4, 14, 13, 2, 50, 451000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}], 'total_amount': '42,000 VNĐ'}
2025-04-16 09:28:35.141996: Thêm hóa đơn: order_id=2
2025-04-16 09:28:35.142055: Xử lý đơn hàng: 3
2025-04-16 09:28:35.142120: Trước khi lấy bàn cho đơn hàng 3
2025-04-16 09:28:35.142564: Table cho đơn hàng 3: <Table 1>
2025-04-16 09:28:35.143087: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:35.143216: Xử lý mục: order_id=3, item_id=5
2025-04-16 09:28:35.143304: Trước khi lấy món với ID 5
2025-04-16 09:28:35.143750: menu_item: <Item 5>
2025-04-16 09:28:35.143829: Trước khi lấy giá cho món 5
2025-04-16 09:28:35.144325: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:35.144409: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.144499: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.144604: Items cho đơn hàng 3: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:35.144689: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.144769: Bill data cho đơn hàng 3: {'order_id': 3, 'order_time': datetime.datetime(2025, 4, 14, 13, 31, 14, 556000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-16 09:28:35.144836: Thêm hóa đơn: order_id=3
2025-04-16 09:28:35.144894: Xử lý đơn hàng: 4
2025-04-16 09:28:35.145000: Trước khi lấy bàn cho đơn hàng 4
2025-04-16 09:28:35.145450: Table cho đơn hàng 4: <Table 2>
2025-04-16 09:28:35.145860: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:35.145959: Xử lý mục: order_id=4, item_id=6
2025-04-16 09:28:35.146056: Trước khi lấy món với ID 6
2025-04-16 09:28:35.146481: menu_item: <Item 6>
2025-04-16 09:28:35.146556: Trước khi lấy giá cho món 6
2025-04-16 09:28:35.147000: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-16 09:28:35.147078: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:35.147161: Định dạng tiền tệ: 10000.0
2025-04-16 09:28:35.147255: Xử lý mục: order_id=4, item_id=7
2025-04-16 09:28:35.147324: Trước khi lấy món với ID 7
2025-04-16 09:28:35.147709: menu_item: <Item 7>
2025-04-16 09:28:35.147786: Trước khi lấy giá cho món 7
2025-04-16 09:28:35.148215: price_at_order: <PriceItem 7, 2025-04-14 11:41:18.551949>
2025-04-16 09:28:35.148302: Định dạng tiền tệ: 12000.0
2025-04-16 09:28:35.148382: Định dạng tiền tệ: 24000.0
2025-04-16 09:28:35.148468: Items cho đơn hàng 4: [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': '12,000 VNĐ', 'total': '24,000 VNĐ'}]
2025-04-16 09:28:35.148535: Định dạng tiền tệ: 34000.0
2025-04-16 09:28:35.148611: Bill data cho đơn hàng 4: {'order_id': 4, 'order_time': datetime.datetime(2025, 4, 14, 13, 33, 19, 497000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': '12,000 VNĐ', 'total': '24,000 VNĐ'}], 'total_amount': '34,000 VNĐ'}
2025-04-16 09:28:35.148674: Thêm hóa đơn: order_id=4
2025-04-16 09:28:35.148732: Xử lý đơn hàng: 5
2025-04-16 09:28:35.148790: Trước khi lấy bàn cho đơn hàng 5
2025-04-16 09:28:35.149190: Table cho đơn hàng 5: <Table 1>
2025-04-16 09:28:35.149562: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-16 09:28:35.149647: Xử lý mục: order_id=5, item_id=5
2025-04-16 09:28:35.149734: Trước khi lấy món với ID 5
2025-04-16 09:28:35.150195: menu_item: <Item 5>
2025-04-16 09:28:35.150284: Trước khi lấy giá cho món 5
2025-04-16 09:28:35.150773: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-16 09:28:35.150857: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.150928: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.151007: Items cho đơn hàng 5: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-16 09:28:35.151076: Định dạng tiền tệ: 30000.0
2025-04-16 09:28:35.151152: Bill data cho đơn hàng 5: {'order_id': 5, 'order_time': datetime.datetime(2025, 4, 14, 17, 6, 41, 410000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-16 09:28:35.151228: Thêm hóa đơn: order_id=5
2025-04-16 09:28:35.151290: Chuẩn bị render template với 5 hóa đơn
2025-04-16 09:28:35.151386: Bills data: [{'order_id': 1, 'order_time': datetime.datetime(2025, 4, 14, 13, 1, 47, 355000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}], 'total_amount': '40,000 VNĐ'}, {'order_id': 2, 'order_time': datetime.datetime(2025, 4, 14, 13, 2, 50, 451000), 'table_name': '02', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '12,000 VNĐ', 'total': '12,000 VNĐ'}], 'total_amount': '42,000 VNĐ'}, {'order_id': 3, 'order_time': datetime.datetime(2025, 4, 14, 13, 31, 14, 556000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 4, 'order_time': datetime.datetime(2025, 4, 14, 13, 33, 19, 497000), 'table_name': '02', 'items': [{'name': 'Cà phê', 'count': 1.0, 'price': '10,000 VNĐ', 'total': '10,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 2.0, 'price': '12,000 VNĐ', 'total': '24,000 VNĐ'}], 'total_amount': '34,000 VNĐ'}, {'order_id': 5, 'order_time': datetime.datetime(2025, 4, 14, 17, 6, 41, 410000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}]
2025-04-16 09:28:35.151476: Total revenue: 176000.0
2025-04-16 09:28:35.151537: Định dạng tiền tệ: 176000.0
2025-04-16 09:28:35.151608: Formatted total revenue: 176,000 VNĐ
2025-04-16 09:28:35.151665: Date string: 2025-04-14
2025-04-16 09:28:35.151723: Định dạng tiền tệ: 176000.0
2025-04-16 09:28:35.151781: Render template: bills=5, total_revenue=176,000 VNĐ, date=2025-04-14
2025-04-16 09:28:35.151839: Định dạng tiền tệ: 176000.0
2025-04-19 11:23:34.709444: current_user: id=1, is_admin=True
2025-04-19 11:23:34.709795: Bắt đầu xử lý yêu cầu view_bills
2025-04-19 11:23:34.710261: Trước khi kiểm tra request.method
2025-04-19 11:23:34.710458: Phương thức: GET
2025-04-19 11:23:34.710604: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-19 11:23:34.711298: Kết nối cơ sở dữ liệu thành công: 1
2025-04-19 11:23:34.711471: Hiển thị template mặc định cho GET
2025-04-19 11:23:40.237927: current_user: id=1, is_admin=True
2025-04-19 11:23:40.238181: Bắt đầu xử lý yêu cầu view_bills
2025-04-19 11:23:40.238335: Trước khi kiểm tra request.method
2025-04-19 11:23:40.238481: Phương thức: POST
2025-04-19 11:23:40.238657: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-19 11:23:40.239144: Kết nối cơ sở dữ liệu thành công: 1
2025-04-19 11:23:40.239325: Trước khi lấy date_str
2025-04-19 11:23:40.240404: Nhận được date_str: 2025-04-16
2025-04-19 11:23:40.240767: Trước khi chuyển đổi ngày
2025-04-19 11:23:40.244550: Đã chuyển đổi date: 2025-04-16
2025-04-19 11:23:40.244781: Trước khi truy vấn đơn hàng cho ngày: 2025-04-16
2025-04-19 11:23:40.246926: Tìm thấy 2 đơn hàng
2025-04-19 11:23:40.247141: Xử lý đơn hàng: 26
2025-04-19 11:23:40.247297: Trước khi lấy bàn cho đơn hàng 26
2025-04-19 11:23:40.248869: Table cho đơn hàng 26: <Table 1>
2025-04-19 11:23:40.252154: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-19 11:23:40.252394: Xử lý mục: order_id=26, item_id=5
2025-04-19 11:23:40.252642: Trước khi lấy món với ID 5
2025-04-19 11:23:40.254731: menu_item: <Item 5>
2025-04-19 11:23:40.254967: Trước khi lấy giá cho món 5
2025-04-19 11:23:40.257263: price_at_order: <PriceItem 5, 2025-04-14 10:27:10.737273>
2025-04-19 11:23:40.257594: Định dạng tiền tệ: 30000.0
2025-04-19 11:23:40.257932: Định dạng tiền tệ: 30000.0
2025-04-19 11:23:40.258325: Items cho đơn hàng 26: [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}]
2025-04-19 11:23:40.258507: Định dạng tiền tệ: 30000.0
2025-04-19 11:23:40.258694: Bill data cho đơn hàng 26: {'order_id': 26, 'order_time': datetime.datetime(2025, 4, 16, 2, 29, 49, 497000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}
2025-04-19 11:23:40.258861: Thêm hóa đơn: order_id=26
2025-04-19 11:23:40.259096: Xử lý đơn hàng: 27
2025-04-19 11:23:40.259326: Trước khi lấy bàn cho đơn hàng 27
2025-04-19 11:23:40.259687: Table cho đơn hàng 27: <Table 1>
2025-04-19 11:23:40.260552: Order items type: <class 'sqlalchemy.orm.collections.InstrumentedList'>
2025-04-19 11:23:40.260760: Xử lý mục: order_id=27, item_id=6
2025-04-19 11:23:40.260993: Trước khi lấy món với ID 6
2025-04-19 11:23:40.262372: menu_item: <Item 6>
2025-04-19 11:23:40.262656: Trước khi lấy giá cho món 6
2025-04-19 11:23:40.263967: price_at_order: <PriceItem 6, 2025-04-14 11:40:48.735831>
2025-04-19 11:23:40.264241: Định dạng tiền tệ: 10000.0
2025-04-19 11:23:40.264447: Định dạng tiền tệ: 30000.0
2025-04-19 11:23:40.264697: Xử lý mục: order_id=27, item_id=7
2025-04-19 11:23:40.264849: Trước khi lấy món với ID 7
2025-04-19 11:23:40.265701: menu_item: <Item 7>
2025-04-19 11:23:40.265827: Trước khi lấy giá cho món 7
2025-04-19 11:23:40.266563: price_at_order: <PriceItem 7, 2025-04-15 18:51:58.732294>
2025-04-19 11:23:40.266724: Định dạng tiền tệ: 14000.0
2025-04-19 11:23:40.266886: Định dạng tiền tệ: 14000.0
2025-04-19 11:23:40.267047: Items cho đơn hàng 27: [{'name': 'Cà phê', 'count': 3.0, 'price': '10,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '14,000 VNĐ', 'total': '14,000 VNĐ'}]
2025-04-19 11:23:40.267147: Định dạng tiền tệ: 44000.0
2025-04-19 11:23:40.267250: Bill data cho đơn hàng 27: {'order_id': 27, 'order_time': datetime.datetime(2025, 4, 16, 2, 30, 25, 811000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 3.0, 'price': '10,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '14,000 VNĐ', 'total': '14,000 VNĐ'}], 'total_amount': '44,000 VNĐ'}
2025-04-19 11:23:40.267341: Thêm hóa đơn: order_id=27
2025-04-19 11:23:40.267421: Chuẩn bị render template với 2 hóa đơn
2025-04-19 11:23:40.267519: Bills data: [{'order_id': 26, 'order_time': datetime.datetime(2025, 4, 16, 2, 29, 49, 497000), 'table_name': '01', 'items': [{'name': 'gà rán', 'count': 1.0, 'price': '30,000 VNĐ', 'total': '30,000 VNĐ'}], 'total_amount': '30,000 VNĐ'}, {'order_id': 27, 'order_time': datetime.datetime(2025, 4, 16, 2, 30, 25, 811000), 'table_name': '01', 'items': [{'name': 'Cà phê', 'count': 3.0, 'price': '10,000 VNĐ', 'total': '30,000 VNĐ'}, {'name': 'Cà phê sữa', 'count': 1.0, 'price': '14,000 VNĐ', 'total': '14,000 VNĐ'}], 'total_amount': '44,000 VNĐ'}]
2025-04-19 11:23:40.267725: Total revenue: 74000.0
2025-04-19 11:23:40.267988: Định dạng tiền tệ: 74000.0
2025-04-19 11:23:40.268236: Formatted total revenue: 74,000 VNĐ
2025-04-19 11:23:40.268546: Date string: 2025-04-16
2025-04-19 11:23:40.268904: Định dạng tiền tệ: 74000.0
2025-04-19 11:23:40.269277: Render template: bills=2, total_revenue=74,000 VNĐ, date=2025-04-16
2025-04-19 11:23:40.269775: Định dạng tiền tệ: 74000.0
2025-04-19 11:28:49.987330: current_user: id=1, is_admin=True
2025-04-19 11:28:49.987528: Bắt đầu xử lý yêu cầu view_bills
2025-04-19 11:28:49.987639: Trước khi kiểm tra request.method
2025-04-19 11:28:49.987802: Phương thức: GET
2025-04-19 11:28:49.987966: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-19 11:28:49.988274: Kết nối cơ sở dữ liệu thành công: 1
2025-04-19 11:28:49.988381: Hiển thị template mặc định cho GET
2025-04-19 11:29:00.696426: current_user: id=1, is_admin=True
2025-04-19 11:29:00.696642: Bắt đầu xử lý yêu cầu view_bills
2025-04-19 11:29:00.696781: Trước khi kiểm tra request.method
2025-04-19 11:29:00.696896: Phương thức: GET
2025-04-19 11:29:00.696984: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-19 11:29:00.697327: Kết nối cơ sở dữ liệu thành công: 1
2025-04-19 11:29:00.697472: Hiển thị template mặc định cho GET
2025-04-19 11:33:24.070354: current_user: id=1, is_admin=True
2025-04-19 11:33:24.070591: Bắt đầu xử lý yêu cầu view_bills
2025-04-19 11:33:24.070698: Trước khi kiểm tra request.method
2025-04-19 11:33:24.070793: Phương thức: GET
2025-04-19 11:33:24.070877: Trước khi kiểm tra kết nối cơ sở dữ liệu
2025-04-19 11:33:24.071192: Kết nối cơ sở dữ liệu thành công: 1
2025-04-19 11:33:24.071293: Hiển thị template mặc định cho GET
